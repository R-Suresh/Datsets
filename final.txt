copyright bestselling title andrew s tanenbaum author preface chapter  introduction section  us computer network section  network hardware section  network software section  reference model section  example network section  network standardization section  metric unit section  outline rest book section  summary chapter  physical layer section  theoretical basis data communication section  guided transmission medium section  wireless transmission section  communication satellite section  public switched telephone network section  mobile telephone system section  cable television section  summary chapter  data link layer section  data link layer design issue section  error detection correction section  elementary data link protocol section  sliding window protocol section  protocol verification section  example data link protocol section  summary chapter  medium access control sublayer section  channel allocation problem section  multiple access protocol section  ethernet section  wireless lan section  broadband wireless section  bluetooth section  data link layer switching section  summary chapter  network layer section  network layer design issue section  routing algorithm section  congestion control algorithm section  quality service section  internetworking section  network layer internet section  summary chapter  transport layer section  transport service  section  element transport protocol section  simple transport protocol section  internet transport protocol udp section  internet transport protocol tcp section  performance issue section  summary chapter  application layer section  dns—the domain name system section  electronic mail section  world wide web section  multimedia section  summary chapter  network security section  cryptography section  symmetrickey algorithm section  publickey algorithm section  digital signature section  management public key section  communication security section  authentication protocol section  email security section  web security section  social issue section  summary chapter  reading list bibliography section  suggestion reading section  introduction general work section  alphabetical bibliography  copyright edition may sold country consigned pearson education international reexported sale usa mexico canada editorialproduction supervision patti guerrieri cover design director jerry votta cover designer anthony gemmellaro cover design andrew s tanenbaum art director gail cockerbogusz interior design andrew s tanenbaum interior graphic hadel studio typesetting andrew s tanenbaum manufacturing buyer maura zaldivar executive editor mary franz editorial assistant noreen regina marketing manager dan depasquale ©  pearson education inc publishing prentice hall ptr upper saddle river new jersey  product service mentioned book trademark service mark respective company organization right reserved part book may reproduced form mean without permission writing publisher printed united state america           pearson education ltd pearson education australia pty limited pearson education singapore pte ltd pearson education north asia ltd pearson education canada ltd  pearson educación de mexico sa de cv pearson education — japan pearson education malaysia pte ltd pearson education upper saddle river new jersey dedication suzanne barbara marvin memory bram sweetie p  bestselling title andrew s tanenbaum distributed system principle paradigm new book coauthored maarten van steen cover principle paradigm modern distributed system first part cover principle communication process naming synchronization consistency replication fault tolerance security detail second part go different paradigm used build distributed system including objectbased system distributed file system documentbased system coordinationbased system numerous example discussed length modern operating system nd edition comprehensive text cover principle modern operating system detail illustrates numerous realworld example introductory chapter next five chapter deal basic concept process thread deadlock memory management inputoutput file system next six chapter deal advanced material including multimedia system multiple processor system security finally two detailed case study given unixlinux window  structured computer organization th edition widelyread classic fourth edition provides ideal introduction computer architecture cover topic easytounderstand way bottom chapter digital logic beginner followed chapter microarchitecture instruction set architecture level operating system assembly language parallel computer architecture operating system design implementation nd edition popular text operating system coauthored albert s woodhull book covering principle operating system application real system traditional operating system topic covered detail addition principle carefully illustrated minix free posixbased unixlike operating system personal computer book contains free cdrom containing complete minix system including source code source code listed appendix book explained detail text chap  introductory function third edition content revised brought date example introduction internet ethernet wireless lan given along history background home networking also discussed briefly chapter  reorganized somewhat brief introduction principle data communication three major section transmission guided medium wireless satellite followed three important example public switched telephone system mobile telephone system cable television among new topic covered chapter adsl broadband wireless wireless man internet access cable docsis chapter  always dealt fundamental principle pointtopoint protocol idea essentially timeless changed decade accordingly series detailed example protocol presented chapter largely unchanged third edition contrast mac sublayer area great activity recent year many change present chap  section ethernet expanded include gigabit ethernet completely new major section wireless lan broadband wireless bluetooth data link layer switching including mpls chapter  also updated removal atm material addition additional material internet quality service also major topic including discussion integrated service differentiated service wireless network also present discussion routing ad hoc network new topic include nat peertopeer network chap  still transport layer change occurred among example socket programming onepage client onepage server given c discussed program available book s web site compiled run together provide primitive remote file web server available experimentation new topic include remote procedure call rtp transactiontcp  chap  application layer sharply focused short introduction dns rest chapter deal three topic email web multimedia topic treated great detail discussion web work  page covering vast array topic including static dynamic web page http cgi script content delivery network cooky web caching material also present modern web page written including brief introduction xml xsl xhtml php example tested wireless web also discussed focusing imode wap multimedia material includes mp streaming audio internet radio voice ip security become important expanded complete chapter  page cover principle security symmetric publickey algorithm digital signature x certificate application principle authentication email security web security chapter broad ranging quantum cryptography government censorship deep eg sha work detail chapter  contains allnew list suggested reading comprehensive bibliography  citation current literature  paper book written  later computer book full acronym one exception time finished reading one following ring bell adsl aes amp aodv arp atm bgp cdma cdn cgi cidr dcf de dhcp dmca fdm fhss gprs gsm hdlc hfc html http icmp imap isp itu lan lmds mac maca mime mpeg mpls mtu nap nat nsa ntsc ofdm ospf pcf pcm pgp php pki pot ppp pstn qam qpsk red rfc rpc rsa rsvp rtp ssl tcp tdm udp url utp vlan vpn vsat wan wap wdma wep www xml nt worry carefully defined used help instructor using book text course author prepared various teaching aid including • problem solution manual • file containing figure multiple format • powerpoint sheet course using book • simulator written c example protocol chap  • web page link many tutorial organization faq etc solution manual available directly prentice hall instructor student material book s web site http wwwprenhallcomtanenbaum click book s cover many people helped course fourth edition would especially like thank following people ross anderson elizabeth beldingroyer steve bellovin chatschik bisdikian kees bot scott bradner jennifer bray pat cain ed felten warwick ford kevin fu ron fulle jim geier mario gerla natalie giroux steve hanna jeff hayes amir herzberg philip homburg philipp hoschka david green bart jacob frans kaashoek steve kent roger kermode robert kinicki shay kutten rob lanphier marcus leech tom maufer brent miller shivakant mishra thomas nadeau shlomo ovadia kaveh pahlavan radia perlman guillaume pierre wayne pleasant patrick powell thomas robertazzi medy sanadidi christian schmutzer henning schulzrinne paul sevinc mihail sichitiu bernard sklar ed skoudis bob strader george swallow george thiruvathukal peter tomsu patrick verkaik dave vittali spyros voulgaris janmark wams ruediger wei bert wijnen joseph wilkes leendert van doorn maarten van steen  special thanks go trudy levine proving grandmother fine job reviewing technical material shivakant mishra thought many challenging endofchapter problem andy dornan suggested additional reading chap  jan looyen provided essential hardware critical moment dr f de ny expert cutandpaste job right needed editor prentice hall mary franz provided reading material consumed previous  year helpful numerous way well finally come important people suzanne barbara marvin suzanne love patience picnic lunch barbara marvin fun cheery time except complaining awful college textbook thus keeping toe thank ndrew s anenbaum  chapter  introduction past three century dominated single technology th century era great mechanical system accompanying industrial revolution th century age steam engine th century key technology information gathering processing distribution among development saw installation worldwide telephone network invention radio television birth unprecedented growth computer industry launching communication satellite result rapid technological progress area rapidly converging difference collecting transporting storing processing information quickly disappearing organization hundred office spread wide geographical area routinely expect able examine current status even remote outpost push button ability gather process distribute information grows demand ever sophisticated information processing grows even faster although computer industry still young compared industry eg automobile air transportation computer made spectacular progress short time first two decade existence computer system highly centralized usually within single large room infrequently room glass wall visitor could gawk great electronic wonder inside mediumsized company university might one two computer large institution dozen idea within twenty year equally powerful computer smaller postage stamp would mass produced million pure science fiction merging computer communication profound influence way computer system organized concept computer center room large computer user bring work processing totally obsolete old model single computer serving organization s computational need replaced one large number separate interconnected computer job system called computer network design organization network subject book throughout book use term computer network mean collection autonomous computer interconnected single technology two computer said interconnected able exchange information connection need via copper wire fiber optic microwave infrared communication satellite also used network come many size shape form see later although may sound strange people neither internet world wide web computer network end book clear quick answer internet single network network network web distributed system run top internet considerable confusion literature computer network distributed system key distinction distributed system collection independent computer appears user single coherent system usually single model paradigm present user often layer software top operating system called middleware responsible implementing model wellknown example distributed system world wide web everything look like document web page computer network coherence model software absent user exposed actual machine without attempt system make machine look act coherent way machine different hardware different operating system fully visible user user want run program remote machine log onto machine run he read he throughout book effect distributed system software system built top network software give high degree cohesiveness transparency thus distinction network distributed system lie software especially operating system rather hardware  nevertheless considerable overlap two subject example distributed system computer network need move file around difference lie invokes movement system user although book primarily focus network many topic also important distributed system information distributed system see tanenbaum van steen   us computer network start examine technical issue detail worth devoting time pointing people interested computer network used nobody interested computer network would built start traditional us company individual move recent development regarding mobile user home networking  business application many company substantial number computer example company may separate computer monitor production keep track inventory payroll initially computer may worked isolation others point management may decided connect able extract correlate information entire company put slightly general form issue resource sharing goal make program equipment especially data available anyone network without regard physical location resource user obvious widespread example group office worker share common printer none individual really need private printer highvolume networked printer often cheaper faster easier maintain large collection individual printer however probably even important sharing physical resource printer scanner cd burner sharing information every large mediumsized company many small company vitally dependent computerized information company customer record inventory account receivable financial statement tax information much online computer went bank could last five minute modern manufacturing plant computercontrolled assembly line would last even long even small travel agency threeperson law firm highly dependent computer network allowing employee access relevant information document instantly smaller company computer likely single office perhaps single building larger one computer employee may scattered dozen office plant many country nevertheless sale person new york might sometimes need access product inventory database singapore word mere fact user happens  km away data prevent using data though local goal may summarized saying attempt end tyranny geography simplest term one imagine company s information system consisting one database number employee need access remotely model data stored powerful computer called server often centrally housed maintained system administrator contrast employee simpler machine called client desk access remote data example include spreadsheet constructing sometimes refer human user client machine client clear context whether mean computer user client server machine connected network illustrated fig  note shown network simple oval without detail use form mean network abstract sense detail required provided figure  network two client one server  whole arrangement called clientserver model widely used form basis much network usage applicable client server building eg belong company also far apart example person home access page world wide web model employed remote web server server user s personal computer client condition one server handle large number client look clientserver model detail see two process involved one client machine one server machine communication take form client process sending message network server process client process wait reply message server process get request performs requested work look requested data sends back reply message shown fig  figure  clientserver model involves request reply second goal setting computer network people rather information even computer computer network provide powerful communication medium among employee virtually every company two computer email electronic mail employee generally use great deal daily communication fact common gripe around water cooler much email everyone deal much meaningless boss discovered send often contentfree message subordinate push button email form improved communication made possible computer network network easy two people work far apart write report together one worker make change online document others see change immediately instead waiting several day letter speedup make cooperation among farflung group people easy previously impossible yet another form computerassisted communication videoconferencing using technology employee distant location hold meeting seeing hearing even writing shared virtual blackboard videoconferencing powerful tool eliminating cost time previously devoted travel sometimes said communication transportation race whichever win make obsolete third goal increasingly many company business electronically company especially supplier customer example manufacturer automobile aircraft computer among others buy subsystem variety supplier assemble part using computer network manufacturer place order electronically needed able place order real time ie needed reduces need large inventory enhances efficiency  fourth goal starting become important business consumer internet airline bookstore music vendor discovered many customer like convenience shopping home consequently many company provide catalog good service online take order online sector expected grow quickly future called ecommerce electronic commerce  home application  ken olsen president digital equipment corporation number two computer vendor world ibm asked digital going personal computer market big way said there reason individual computer home history showed otherwise digital longer exists people buy computer home use initially word processing game recent year picture changed radically probably biggest reason internet access popular us internet home user follows  access remote information  persontoperson communication  interactive entertainment  electronic commerce access remote information come many form surfing world wide web information fun information available includes art business cooking government health history hobby recreation science sport travel many others fun come many way mention plus way better left unmentioned many newspaper gone online personalized example sometimes possible tell newspaper want everything corrupt politician big fire scandal involving celebrity epidemic football thank sometimes even possible selected article downloaded hard disk sleep printed printer breakfast trend continues cause massive unemployment among yearold paperboy newspaper like distribution always weakest link whole production chain next step beyond newspaper plus magazine scientific journal online digital library many professional organization acm wwwacmorg ieee computer society wwwcomputerorg already many journal conference proceeding online group following rapidly depending cost size weight booksized notebook computer printed book may become obsolete skeptic take note effect printing press medieval illuminated manuscript application involve interaction person remote database full information second broad category network use persontoperson communication basically st century s answer th century s telephone email already used daily basis million people world use growing rapidly already routinely contains audio video well text picture smell may take teenager worth salt addicted instant messaging facility derived unix talk program use since around  allows two people type message real time multiperson version idea chat room group people type message see worldwide newsgroups discussion every conceivable topic already commonplace among select group people phenomenon grow include population large discussion one person post message subscriber newsgroup read run gamut humorous impassioned unlike chat room newsgroups real time message saved someone come back vacation message posted meanwhile patiently waiting reading another type persontoperson communication often go name peertopeer communication distinguish clientserver model parameswaran et al  form individual form loose  group communicate others group shown fig  every person principle communicate one people fixed division client server figure  peertopeer system fixed client server peertopeer communication really hit big time around  service called napster peak  million music fan swapping music probably biggest copyright infringement recorded history lam tan  macedonia  idea fairly simple member registered music hard disk central database maintained napster server member wanted song checked database see went directly get actually keeping music machine napster argued infringing anyone s copyright court agree shut however next generation peertopeer system eliminates central database user maintain database locally well providing list nearby people member system new user go existing member see get list member inspect music name lookup process repeated indefinitely build large local database activity would get tedious people one computer excel legal application peertopeer communication also exist example fan sharing public domain music sample track new band released publicity purpose family sharing photo movie genealogical information teenager playing multiperson online game fact one popular internet application email inherently peertopeer form communication expected grow considerably future electronic crime restricted copyright law another hot area electronic gambling computer simulating thing decade simulate slot machine roulette wheel blackjack dealer gambling equipment well illegal lot place trouble gambling legal lot place england example casino owner grasped potential internet gambling happens gambler casino different country conflicting law good question communicationoriented application include using internet carry telephone call video phone internet radio three rapidly growing area another application telelearning meaning attending  am class without inconvenience get bed first long run use network enhance humantohuman communication may prove important others third category entertainment huge growing industry killer application one may drive rest video demand decade hence may possible select movie television program ever made country displayed screen instantly new film may become interactive user occasionally prompted story direction macbeth murder duncan bide time alternative scenario provided case live television may also become interactive audience participating quiz show choosing among contestant  hand maybe killer application video demand maybe game playing already multiperson realtime simulation game like hideandseek virtual dungeon flight simulator player one team trying shoot player opposing team game played goggles threedimensional realtime photographicquality moving image kind worldwide shared virtual reality fourth category electronic commerce broadest sense term home shopping already popular enables user inspect online catalog thousand company catalog soon provide ability get instant video product clicking product s name customer buy product electronically figure use online technical support may consulted another area ecommerce already happening access financial institution many people already pay bill manage bank account handle investment electronically surely grow network become secure one area virtually nobody foresaw electronic flea market eflea online auction secondhand good become massive industry unlike traditional ecommerce follows clientserver model online auction peertopeer system sort consumertoconsumer form ecommerce acquired cute little tag based fact to  pronounced popular one listed fig  figure  form ecommerce doubt range us computer network grow rapidly future probably way one foresee many people  predicted teenager tediously typing short text message mobile phone riding bus would immense money maker telephone company  year short message service profitable computer network may become hugely important people geographically challenged giving access service people living middle big city telelearning may radically affect education university may go national international telemedicine starting catch eg remote patient monitoring may become much important killer application may something mundane like using webcam refrigerator see buy milk way home work  mobile user mobile computer notebook computer personal digital assistant pda one fastestgrowing segment computer industry many owner computer desktop machine back office want connected home base even away home en route since wired connection impossible car airplane lot interest wireless network section briefly look us wireless network would anyone want one common reason portable office people road often want use portable electronic equipment send receive telephone call fax electronic mail surf web access remote file log remote machine want anywhere land sea air example computer conference day organizer often set wireless network conference area anyone notebook computer wireless modem turn computer connected internet though computer plugged wired network similarly  university installed wireless network campus student sit tree consult library s card catalog read email wireless network great value fleet truck taxi delivery vehicle repairpersons keeping contact home example many city taxi driver independent businessmen rather employee taxi company city taxi display driver see customer call central dispatcher type pickup destination point information displayed driver display beep sound first driver hit button display get call wireless network also important military able fight war anywhere earth short notice counting using local networking infrastructure probably good idea better bring although wireless networking mobile computing often related identical fig  show see distinction fixed wireless mobile wireless even notebook computer sometimes wired example traveler plug notebook computer telephone jack hotel room mobility without wireless network figure  combination wireless network mobile computing hand wireless computer mobile important example company owns older building lacking network cabling want connect computer installing wireless network may require little buying small box electronics unpacking plugging solution may far cheaper workman put cable duct wire building course also true mobile wireless application ranging portable office people walking around store pda inventory many busy airport car rental return clerk work parking lot wireless portable computer type license plate number returning car portable builtin printer call main computer get rental information print bill spot wireless technology becomes widespread numerous application likely emerge let u take quick look possibility wireless parking meter advantage user city government meter could accept credit debit card instant verification wireless link meter expires could check presence car bouncing signal report expiration police estimated city government u alone could collect additional  billion way harte et al  furthermore better parking enforcement would help environment driver knew illegal parking sure caught might use public transport instead food drink vending machine found everywhere however food get machine magic periodically someone come truck fill vending machine issued wireless report day announcing current inventory truck driver would know machine needed servicing much product bring information could lead efficient route planning course information could sent standard telephone line well giving every vending machine fixed telephone connection one call day expensive account fixed monthly charge another area wireless could save money utility meter reading electricity gas water meter people s home report usage wireless network would need send meter reader similarly wireless smoke detector could call fire department instead making big noise  little value one home cost radio device air time drop measurement reporting done wireless network whole different application area wireless network expected merger cell phone pda tiny wireless computer first attempt tiny wireless pda could display strippeddown web page even tinier screen system called wap  wireless application protocol failed mostly due microscopic screen low bandwidth poor service newer device service better wap  one area device may excel called mcommerce mobilecommerce senn  driving force behind phenomenon consists amalgam wireless pda manufacturer network operator trying hard figure get piece ecommerce pie one hope use wireless pda banking shopping one idea use wireless pda kind electronic wallet authorizing payment store replacement cash credit card charge appears mobile phone bill store s point view scheme may save credit card company s fee several percent course plan may backfire since customer store might use pda check competitor price buying worse yet telephone company might offer pda bar code reader allow customer scan product store instantaneously get detailed report else purchased price since network operator know user service intentionally location dependent example may possible ask nearby bookstore chinese restaurant mobile map another candidate local weather forecast when going stop raining backyard doubt many application appear device become widespread one huge thing mcommerce going mobile phone user accustomed paying everything contrast internet user expect everything free internet web site charged fee allow customer pay credit card would immense howling noise user mobile phone operator allowed people pay item store using phone tacked fee convenience would probably accepted normal time tell little time personal area network wearable computer ibm developed watch run linux including x windowing system wireless connectivity internet sending receiving email narayanaswami et al  future people may exchange business card exposing watch wearable wireless computer may give people access secure room way magnetic stripe card possibly combination pin code biometric measurement watch may also able retrieve information relevant user s current location eg local restaurant possibility endless smart watch radio part mental space since appearance dick tracy comic strip  smart dust researcher berkeley packed wireless computer cube  mm edge warneke et al  potential application include tracking inventory package even small bird rodent insect  social issue widespread introduction networking introduced new social ethical political problem let u briefly mention thorough study would require full book least popular feature many network newsgroups bulletin board whereby people exchange message likeminded individual long subject restricted technical topic hobby like gardening many problem arise trouble come newsgroups set topic people actually care like politics religion sex view posted group may deeply offensive people worse yet may politically correct furthermore message need limited text highresolution color photograph even short video clip easily transmitted computer network people take liveandletlive view others feel posting certain material eg attack particular country religion  pornography etc simply unacceptable must censored different country different conflicting law area thus debate rage people sued network operator claiming responsible content carry newspaper magazine inevitable response network like telephone company post office expected police user say stronger yet network operator censor message would likely delete everything containing even slightest possibility sued thus violate user right free speech probably safe say debate go another fun area employee right versus employer right many people read write email work many employer claimed right read possibly censor employee message including message sent home computer work employee agree even employer power employee relationship also govern university student high school student  carnegiemellon university decided turn incoming message stream several newsgroups dealing sex university felt material inappropriate minor ie student  fallout event took year settle another key topic government versus citizen fbi installed system many internet service provider snoop incoming outgoing email nugget interest blaze bellovin  sobel  zacks  system originally called carnivore bad publicity caused renamed innocentsounding dcs goal still spy million people hope finding information illegal activity unfortunately fourth amendment u constitution prohibits government search without search warrant whether  word written th century still carry weight st century matter may keep court busy nd century government monopoly threatening people s privacy private sector bit example small file called cooky web browser store user computer allow company track user activity cyberspace also may allow credit card number social security number confidential information leak internet berghel  computer network offer potential sending anonymous message situation capability may desirable example provides way student soldier employee citizen blow whistle illegal behavior part professor officer superior politician without fear reprisal hand united state democracy law specifically permit accused person right confront challenge accuser court anonymous accusation used evidence short computer network like printing press  year ago allow ordinary citizen distribute view different way different audience previously possible newfound freedom brings many unsolved social political moral issue along good come bad life seems like internet make possible find information quickly lot illinformed misleading downright wrong medical advice plucked internet may come nobel prize winner high school dropout computer network also introduced new kind antisocial criminal behavior electronic junk mail spam become part life people collected million email address sell cdroms wouldbe marketeers email message containing active content basically program macro execute receiver s machine contain virus wreak havoc identity theft becoming serious problem thief collect enough information victim obtain get credit card document victim s name finally able transmit music video digitally opened door massive copyright violation hard catch enforce lot problem could solved computer industry took computer security seriously message encrypted authenticated would harder commit mischief technology well established study detail chap  problem hardware software vendor know putting security feature cost money customer demanding feature addition substantial number problem caused buggy software occurs vendor keep adding  feature program inevitably mean code thus bug tax new feature might help probably tough sell quarter refund defective software might nice except would bankrupt entire software industry first year  network hardware time turn attention application social aspect networking fun stuff technical issue involved network design work stuff generally accepted taxonomy computer network fit two dimension stand important transmission technology scale examine turn broadly speaking two type transmission technology widespread use follows  broadcast link  pointtopoint link broadcast network single communication channel shared machine network short message called packet certain context sent machine received others address field within packet specifies intended recipient upon receiving packet machine check address field packet intended receiving machine machine process packet packet intended machine ignored analogy consider someone standing end corridor many room shouting watson come want although packet may actually received heard many people watson responds others ignore another analogy airport announcement asking flight  passenger report gate  immediate boarding broadcast system generally also allow possibility addressing packet destination using special code address field packet code transmitted received processed every machine network mode operation called broadcasting broadcast system also support transmission subset machine something known multicasting one possible scheme reserve one bit indicate multicasting remaining n  address bit hold group number machine subscribe group packet sent certain group delivered machine subscribing group contrast pointtopoint network consist many connection individual pair machine go source destination packet type network may first visit one intermediate machine often multiple route different length possible finding good one important pointtopoint network general rule although many exception smaller geographically localized network tend use broadcasting whereas larger network usually pointtopoint pointtopoint transmission one sender one receiver sometimes called unicasting alternative criterion classifying network scale fig  classify multiple processor system physical size top personal area network network meant one person example wireless network connecting computer mouse keyboard printer personal area network also pda control user s hearing aid pacemaker fit category beyond personal area network come longerrange network divided local metropolitan wide area network finally connection two network called internetwork worldwide internet wellknown example internetwork distance important classification metric different technique used different scale book concerned network scale give brief introduction network hardware figure  classification interconnected processor scale   local area network local area network generally called lan privatelyowned network within single building campus kilometer size widely used connect personal computer workstation company office factory share resource eg printer exchange information lan distinguished kind network three characteristic  size  transmission technology  topology lan restricted size mean worstcase transmission time bounded known advance knowing bound make possible use certain kind design would otherwise possible also simplifies network management lan may use transmission technology consisting cable machine attached like telephone company party line used rural area traditional lan run speed  mbps  mbps low delay microsecond nanosecond make error newer lan operate  gbps book adhere tradition measure line speed megabitssec  mbps  bitssec gigabitssec  gbps  bitssec various topology possible broadcast lan figure  show two bus ie linear cable network instant one machine master allowed transmit machine required refrain sending arbitration mechanism needed resolve conflict two machine want transmit simultaneously arbitration mechanism may centralized distributed ieee  popularly called ethernet example busbased broadcast network decentralized control usually operating  mbps  gbps computer ethernet transmit whenever want two packet collide computer wait random time try later figure  two broadcast network bus b ring second type broadcast system ring ring bit propagates around waiting rest packet belongs typically bit circumnavigates entire ring time take  transmit bit often complete packet even transmitted broadcast system rule needed arbitrating simultaneous access ring various method machine take turn use ieee  ibm token ring ringbased lan operating   mbps fddi another example ring network broadcast network divided static dynamic depending channel allocated typical static allocation would divide time discrete interval use roundrobin algorithm allowing machine broadcast time slot come static allocation waste channel capacity machine nothing say allocated slot system attempt allocate channel dynamically ie demand dynamic allocation method common channel either centralized decentralized centralized channel allocation method single entity example bus arbitration unit determines go next might accepting request making decision according internal algorithm decentralized channel allocation method central entity machine must decide whether transmit might think always lead chaos later study many algorithm designed bring order potential chaos  metropolitan area network metropolitan area network man cover city bestknown example man cable television network available many city system grew earlier community antenna system used area poor overtheair television reception early system large antenna placed top nearby hill signal piped subscriber house first locallydesigned ad hoc system company began jumping business getting contract city government wire entire city next step television programming even entire channel designed cable often channel highly specialized news sport cooking gardening inception late s intended television reception starting internet attracted mass audience cable tv network operator began realize change system could provide twoway internet service unused part spectrum point cable tv system began morph way distribute television metropolitan area network first approximation man might look something like system shown fig  figure see television signal internet fed centralized head end subsequent distribution people s home come back subject detail chap  figure  metropolitan area network based cable tv  cable television man recent development highspeed wireless internet access resulted another man standardized ieee  look area chap   wide area network wide area network wan span large geographical area often country continent contains collection machine intended running user ie application program follow traditional usage call machine host host connected communication subnet subnet short host owned customer eg people s personal computer whereas communication subnet typically owned operated telephone company internet service provider job subnet carry message host host telephone system carry word speaker listener separation pure communication aspect network subnet application aspect host greatly simplifies complete network design wide area network subnet consists two distinct component transmission line switching element transmission line move bit machine made copper wire optical fiber even radio link switching element specialized computer connect three transmission line data arrive incoming line switching element must choose outgoing line forward switching computer called various name past name router commonly used unfortunately people pronounce rooter others rhyme doubter determining correct pronunciation left exercise reader note perceived correct answer may depend live model shown fig  host frequently connected lan router present although case host connected directly router collection communication line router host form subnet figure  relation host lan subnet short comment term subnet order originally meaning collection router communication line moved packet source host destination host however year later also acquired second meaning conjunction network addressing discus chap  unfortunately widelyused alternative exists initial meaning hesitation use sens context always clear meant wan network contains numerous transmission line one connecting pair router two router share transmission line wish communicate must indirectly via router packet sent one router another via one intermediate router packet received intermediate router entirety stored required output line free forwarded subnet organized according principle called storeandforward packetswitched subnet nearly wide area network except using satellite storeandforward subnets packet small size often called cell principle packetswitched wan important worth devoting word generally process host message sent process host sending host first cut message packet one bearing number sequence packet  injected network one time quick succession packet transported individually network deposited receiving host reassembled original message delivered receiving process stream packet resulting initial message illustrated fig  figure  stream packet sender receiver figure packet follow route ace rather abde acde network packet given message must follow route others packet routed separately course ace best route packet may sent along even packet individually routed routing decision made locally packet arrives router itis decide packet sent line b line c make decision called routing algorithm many exist study detail chap  wan packet switched second possibility wan satellite system router antenna send receive router hear output satellite case also hear upward transmission fellow router satellite well sometimes router connected substantial pointtopoint subnet satellite antenna satellite network inherently broadcast useful broadcast property important  wireless network digital wireless communication new idea early  italian physicist guglielmo marconi demonstrated shiptoshore wireless telegraph using morse code dot dash binary modern digital wireless system better performance basic idea first approximation wireless network divided three main category  system interconnection  wireless lan  wireless wan system interconnection interconnecting component computer using shortrange radio almost every computer monitor keyboard mouse printer connected main unit cable many new user hard time plugging cable right little hole even though usually color coded computer vendor offer option sending technician user s home consequently company got together design shortrange wireless network called bluetooth connect component without wire bluetooth also allows digital camera headset scanner device connect computer merely brought within range cable driver installation put turn work many people ease operation big plus simplest form system interconnection network use masterslave paradigm fig  system unit normally master talking mouse keyboard etc slave master tell slave address use broadcast long transmit frequency use discus bluetooth detail chap   figure  bluetooth configuration b wireless lan next step wireless networking wireless lan system every computer radio modem antenna communicate system often antenna ceiling machine talk shown fig  b however system close enough communicate directly one another peertopeer configuration wireless lan becoming increasingly common small office home installing ethernet considered much trouble well older office building company cafeteria conference room place standard wireless lan called ieee  system implement becoming widespread discus chap  third kind wireless network used wide area system radio network used cellular telephone example lowbandwidth wireless system system already gone three generation first generation analog voice second generation digital voice third generation digital voice data certain sense cellular wireless network like wireless lan except distance involved much greater bit rate much lower wireless lan operate rate  mbps distance ten meter cellular system operate  mbps distance base station computer telephone measured kilometer rather meter lot say network chap  addition lowspeed network highbandwidth wide area wireless network also developed initial focus highspeed wireless internet access home business bypassing telephone system service often called local multipoint distribution service study later book standard called ieee  also developed examine standard chap  almost wireless network hook wired network point provide access file database internet many way connection realized depending circumstance example fig  depict airplane number people using modem seatback telephone call office call independent one much efficient option however flying lan fig  b seat come equipped ethernet connector passenger plug computer single router aircraft maintains radio link router ground changing router fly along configuration traditional lan except connection outside world happens radio link instead hardwired line figure  individual mobile computer b flying lan  many people believe wireless wave future eg bi et al  leeper  varshey vetter  least one dissenting voice heard bob metcalfe inventor ethernet written mobile wireless computer like mobile pipeless bathrooms—portapotties common vehicle construction site rock concert advice wire home stay metcalfe  history may record remark category ibm s chairman tj watson s  explanation ibm getting computer business four five computer enough entire world year   home network home networking horizon fundamental idea future home set networking every device home capable communicating every device accessible internet one visionary concept nobody asked like tv remote control mobile phone arrived nobody imagine lived without many device capable networked obvious category example follows  computer desktop pc notebook pc pda shared peripheral  entertainment tv dvd vcr camcorder camera stereo mp  telecommunication telephone mobile telephone intercom fax  appliance microwave refrigerator clock furnace airco light  telemetry utility meter smokeburglar alarm thermostat babycam home computer networking already limited way many home already device connect multiple computer fast internet connection networked entertainment quite music movie downloaded internet demand connect stereo television also people want share video friend family connection need go way telecommunication gear already connected outside world soon digital go internet average home probably dozen clock eg appliance reset twice year daylight saving time summer time come go clock internet resetting could done automatically finally remote monitoring home content likely winner probably many parent would willing spend money monitor sleeping baby pda eating even rented teenager house one imagine separate network application area integrating single network probably better idea home networking fundamentally different property network type first network device easy install author installed numerous piece hardware software various computer year mixed result series phone call vendor s helpdesk typically resulted answer like  read manual  reboot computer  remove hardware software except try  download newest driver web site else fails  reformat hard disk reinstall window cdrom telling purchaser internet refrigerator download install new version refrigerator s operating system going lead happy customer computer user accustomed putting product work car television refrigeratorbuying public far le tolerant expect product work  word go  second network device foolproof operation air conditioner used one knob four setting low medium high page manual networked expect chapter security alone  page beyond comprehension virtually user third low price essential success people pay  premium internet thermostat people regard monitoring home temperature work important  extra might sell though fourth main application likely involve multimedia network need sufficient capacity market internetconnected television show shaky movie  x  pixel resolution  framessec fast ethernet workhorse office good enough multimedia consequently home network need better performance existing office network lower price become mass market item fifth must possible start one two device expand reach network gradually mean format war telling consumer buy peripheral ieee  firewire interface year later retracting saying usb  interfaceofthemonth going make consumer skittish network interface remain stable many year wiring remain stable decade sixth security reliability important losing file email virus one thing burglar disarm security system pda plunder house something quite different interesting question whether home network wired wireless home already six network installed electricity telephone cable television water gas sewer adding seventh one construction difficult retrofitting existing house expensive cost favor wireless networking security favor wired networking problem wireless radio wave use quite good going fence everyone overjoyed thought neighbor piggybacking internet connection reading email way printer chap  study encryption used provide security context home network security foolproof even inexperienced user easier said done even highly sophisticated user short home networking offer many opportunity challenge relate need easy manage dependable secure especially hand nontechnical user time delivering high performance low cost  internetworks many network exist world often different hardware software people connected one network often want communicate people attached different one fulfillment desire requires different frequently incompatible network connected sometimes mean machine called gateway make connection provide necessary translation term hardware software collection interconnected network called internetwork internet term used generic sense contrast worldwide internet one specific internet always capitalize common form internet collection lan connected wan fact replace label subnet fig  wan nothing else figure would change real technical distinction subnet wan case whether host present system within gray area contains router subnet contains router host wan real difference relate ownership use subnets network internetworks often confused subnet make sense context wide area network refers collection router communication line owned network operator analogy telephone system consists telephone switching office connected one another highspeed line house business lowspeed line line equipment owned managed telephone company form subnet telephone system telephone  host analogy part subnet combination subnet host form network case lan cable host form network really subnet internetwork formed distinct network interconnected view connecting lan wan connecting two lan form internetwork little agreement industry terminology area one rule thumb different organization paid construct different part network maintains part internetwork rather single network also underlying technology different different part eg broadcast versus pointtopoint probably two network  network software first computer network designed hardware main concern software afterthought strategy longer work network software highly structured following section examine software structuring technique detail method described form keystone entire book occur repeatedly later  protocol hierarchy reduce design complexity network organized stack layer level one built upon one number layer name layer content layer function layer differ network network purpose layer offer certain service higher layer shielding layer detail offered service actually implemented sense layer kind virtual machine offering certain service layer concept actually familiar one used throughout computer science variously known information hiding abstract data type data encapsulation objectoriented programming fundamental idea particular piece software hardware provides service user keep detail internal state algorithm hidden layer n one machine carry conversation layer n another machine rule convention used conversation collectively known layer n protocol basically protocol agreement communicating party communication proceed analogy woman introduced man may choose stick hand turn may decide either shake kiss depending example whether american lawyer business meeting european princess formal ball violating protocol make communication difficult completely impossible fivelayer network illustrated fig  entity comprising corresponding layer different machine called peer peer may process hardware device even human being word peer communicate using protocol figure  layer protocol interface  reality data directly transferred layer n one machine layer n another machine instead layer pass data control information layer immediately lowest layer reached layer  physical medium actual communication occurs fig  virtual communication shown dotted line physical communication solid line pair adjacent layer interface interface defines primitive operation service lower layer make available upper one network designer decide many layer include network one one important consideration defining clean interface layer turn requires layer perform specific collection wellunderstood function addition minimizing amount information must passed layer clearcut interface also make simpler replace implementation one layer completely different implementation eg telephone line replaced satellite channel required new implementation offer exactly set service upstairs neighbor old implementation fact common different host use different implementation set layer protocol called network architecture specification architecture must contain enough information allow implementer write program build hardware layer correctly obey appropriate protocol neither detail implementation specification interface part architecture hidden away inside machine visible outside even necessary interface machine network provided machine correctly use protocol list protocol used certain system one protocol per layer called protocol stack subject network architecture protocol stack protocol principal topic book analogy may help explain idea multilayer communication imagine two philosopher peer process layer  one speaks urdu english one speaks chinese french since common language engage translator peer process layer  turn contact secretary peer process layer  philosopher  wish convey affection oryctolagus cuniculus peer pass message english across  interface translator saying i like rabbit illustrated fig  translator agreed neutral language known dutch message converted ik vind konijnen leuk choice language layer  protocol layer  peer process figure  philosophertranslatorsecretary architecture  translator give message secretary transmission example fax layer  protocol message arrives translated french passed across  interface philosopher  note protocol completely independent one long interface changed translator switch dutch say finnish provided agree neither change interface either layer  layer  similarly secretary switch fax email telephone without disturbing even informing layer process may add information intended peer information passed upward layer consider technical example provide communication top layer fivelayer network fig  message produced application process running layer  given layer  transmission layer  put header front message identify message pass result layer  header includes control information sequence number allow layer  destination machine deliver message right order lower layer maintain sequence layer header also contain size time control field figure  example information flow supporting virtual communication layer   many network limit size message transmitted layer  protocol nearly always limit imposed layer  protocol consequently layer  must break incoming message smaller unit packet prepending layer  header packet example split two part   layer  decides outgoing line use pass packet layer  layer  add header piece also trailer give resulting unit layer  physical transmission receiving machine message move upward layer layer header stripped progress none header layer n passed layer n important thing understand fig  relation virtual actual communication difference protocol interface peer process layer  example conceptually think communication horizontal using layer  protocol one likely procedure called something like sendtootherside getfromotherside even though procedure actually communicate lower layer across  interface side peer process abstraction crucial network design using unmanageable task designing complete network broken several smaller manageable design problem namely design individual layer although sec  called network  worth pointing lower layer protocol hierarchy frequently implemented hardware firmware nevertheless complex protocol algorithm involved even embedded whole part hardware  design issue layer key design issue occur computer network present several layer briefly mention important one every layer need mechanism identifying sender receiver since network normally many computer multiple process mean needed process one machine specify want talk consequence multiple destination form addressing needed order specify specific destination another set design decision concern rule data transfer system data travel one direction others data go way protocol must also determine many logical channel  connection corresponds priority many network provide least two logical channel per connection one normal data one urgent data error control important issue physical communication circuit perfect many errordetecting errorcorrecting code known end connection must agree one used addition receiver must way telling sender message correctly received communication channel preserve order message sent deal possible loss sequencing protocol must make explicit provision receiver allow piece reassembled properly obvious solution number piece solution still leaf open question done piece arrive order issue occurs every level keep fast sender swamping slow receiver data various solution proposed discussed later involve kind feedback receiver sender either directly indirectly receiver s current situation others limit sender agreedon transmission rate subject called flow control another problem must solved several level inability process accept arbitrarily long message property lead mechanism disassembling transmitting reassembling message related issue problem process insist transmitting data unit small sending one separately inefficient solution gather several small message heading toward common destination single large message dismember large message side inconvenient expensive set separate connection pair communicating process underlying layer may decide use connection multiple unrelated conversation long multiplexing demultiplexing done transparently used layer multiplexing needed physical layer example traffic connection sent physical circuit multiple path source destination route must chosen sometimes decision must split two layer example send data london rome highlevel decision might made transit france germany based respective privacy law lowlevel decision might made select one available circuit based current traffic load topic called routing  connectionoriented connectionless service layer offer two different type service layer connectionoriented connectionless section look two type examine difference connectionoriented service modeled telephone system talk someone pick phone dial number talk hang similarly use connectionoriented network service service user first establishes connection us connection release connection essential aspect connection act like tube sender push object bit one end receiver take end case order preserved bit arrive order sent case connection established sender receiver subnet conduct negotiation parameter used maximum message size quality service required issue typically one side make proposal side accept reject make counterproposal contrast connectionless service modeled postal system message letter carry full destination address one routed system independent others normally two message sent destination first one sent first one arrive however possible first one sent delayed second one arrives first  service characterized quality service service reliable sense never lose data usually reliable service implemented receiver acknowledge receipt message sender sure arrived acknowledgement process introduces overhead delay often worth sometimes undesirable typical situation reliable connectionoriented service appropriate file transfer owner file want sure bit arrive correctly order sent file transfer customer would prefer service occasionally scramble loses bit even much faster reliable connectionoriented service two minor variation message sequence byte stream former variant message boundary preserved two byte message sent arrive two distinct byte message never one byte message latter connection simply stream byte message boundary  byte arrive receiver way tell sent one byte message two byte message  byte message page book sent network phototypesetter separate message might important preserve message boundary hand user log remote server byte stream user s computer server needed message boundary relevant mentioned application transit delay introduced acknowledgement unacceptable one application digitized voice traffic preferable telephone user hear bit noise line time time experience delay waiting acknowledgement similarly transmitting video conference pixel wrong problem image jerk along flow stop correct error irritating application require connection example electronic mail becomes common electronic junk becoming common electronic junkmail sender probably want go trouble setting later tearing connection send one item  percent reliable delivery essential especially cost needed way send single message high probability arrival guarantee unreliable meaning acknowledged connectionless service often called datagram service analogy telegram service also return acknowledgement sender situation convenience establish connection send one short message desired reliability essential acknowledged datagram service provided application like sending registered letter requesting return receipt receipt come back sender absolutely sure letter delivered intended party lost along way still another service requestreply service service sender transmits single datagram containing request reply contains answer example query local library asking uighur spoken fall category requestreply commonly used implement communication clientserver model client issue request server responds figure  summarizes type service discussed figure  six different type service  concept using unreliable communication may confusing first would anyone actually prefer unreliable communication reliable communication first reliable communication sense acknowledged may available example ethernet provide reliable communication packet occasionally damaged transit higher protocol level deal problem second delay inherent providing reliable service may unacceptable especially realtime application multimedia reason reliable unreliable communication coexist  service primitive service formally specified set primitive operation available user process access service primitive tell service perform action report action taken peer entity protocol stack located operating system often primitive normally system call call cause trap kernel mode turn control machine operating system send necessary packet set primitive available depends nature service provided primitive connectionoriented service different connectionless service minimal example service primitive might provided implement reliable byte stream clientserver environment consider primitive listed fig  figure  five service primitive implementing simple connectionoriented service primitive might used follows first server executes listen indicate prepared accept incoming connection common way implement listen make blocking system call executing primitive server process blocked request connection appears next client process executes connect establish connection server connect call need specify connect might parameter giving server s address operating system typically sends packet peer asking connect shown  fig  client process suspended response packet arrives server processed operating system system see packet requesting connection check see listener two thing unblocks listener sends back acknowledgement  arrival acknowledgement release client point client server running connection established important note acknowledgement  generated protocol code response userlevel primitive connection request arrives listener result undefined system packet may queued short time anticipation listen figure  packet sent simple clientserver interaction connectionoriented network  obvious analogy protocol real life customer client calling company s customer service manager service manager start near telephone case ring client place call manager pick phone connection established next step server execute receive prepare accept first request normally server immediately upon released listen acknowledgement get back client receive call block server client executes send transmit request  followed execution receive get reply arrival request packet server machine unblocks server process process request done work us send return answer client  arrival packet unblocks client inspect answer client additional request make done use disconnect terminate connection usually initial disconnect blocking call suspending client sending packet server saying connection longer needed  server get packet also issue disconnect acknowledging client releasing connection server s packet  get back client machine client process released connection broken nutshell connectionoriented communication work course life simple many thing go wrong timing wrong eg connect done listen packet get lost much look issue great detail later moment fig  briefly summarizes clientserver communication might work connectionoriented network given six packet required complete protocol one might wonder connectionless protocol used instead answer perfect world could case two packet would needed one request one reply however face large message either direction eg megabyte file transmission error lost packet situation change reply consisted hundred packet could lost transmission would client know piece missing would client know whether last packet actually received really last packet sent suppose client wanted second file could tell packet  second file lost packet  first file suddenly found way client short real world simple requestreply protocol unreliable network often inadequate chap  study variety protocol detail overcome problem moment suffice say reliable ordered byte stream process sometimes convenient  relationship service protocol service protocol distinct concept although frequently confused distinction important however emphasize service set primitive operation layer provides layer service defines operation layer prepared perform behalf user say nothing operation implemented service relates interface two layer lower layer service provider upper layer service user protocol contrast set rule governing format meaning packet message exchanged peer entity within layer entity use protocol implement service definition free change protocol provided change service visible user way service protocol completely decoupled word service relate interface layer illustrated fig  contrast protocol relate packet sent peer entity different machine important confuse two concept figure  relationship service protocol  analogy programming language worth making service like abstract data type object objectoriented language defines operation performed object specify operation implemented protocol relates implementation service visible user service many older protocol distinguish service protocol effect typical layer might service primitive send packet user providing pointer fully assembled packet arrangement meant change protocol immediately visible user network designer regard design serious blunder   reference model discussed layered network abstract time look example nexttwo section discus two important network architecture osi reference model tcpipreference model although protocol associated osi model rarely used modelitself actually quite general still valid feature discussed layer still important thetcpip model opposite property model much use protocol widely used reason look detail also sometimes learn failure fromsuccesses  osi reference model osi model minus physical medium shown fig  model based proposal developed international standard organization iso first step toward international standardization protocol used various layer day zimmermann  revised  day  themodel called iso osi open system interconnection reference model deal connecting open systems—that system open communication system call osimodel short figure  osi reference model osi model seven layer principle applied arrive seven layer brieflysummarized follows  layer created different abstraction needed  layer perform welldefined function  function layer chosen eye toward defining internationally standardized  protocol  layer boundary chosen minimize information flow across interface  number layer large enough distinct function need thrown together layer necessity small enough architecture become unwieldy discus layer model turn starting bottom layer note osi model itsel f network architecture specify exact service protocol used eachlayer tell layer however iso also produced standard layer although part reference model one published separate international standard physical layer physical layer concerned transmitting raw bit communication channel design issueshave making sure one side sends  bit received side  bit a bit typical question many volt used represent  many  howmany nanosecond bit last whether transmission may proceed simultaneously direction theinitial connection established torn side finished many pin thenetwork connector pin used design issue largely deal mechanical electrical timing interface physical transmission medium lie physical layer data link layer main task data link layer transform raw transmission facility line appears free f undetected transmission error network layer accomplishes task sender break input data data frame typically hundred thousand byte transmit framessequentially service reliable receiver confirms correct receipt frame sending back acknowledgement frame nother issue arises data link layer higher layer well keep fasttransmitter drowning slow receiver data traffic regulation mechanism often needed let thetransmitter know much buffer space receiver moment frequently flow regulation theerror handling integrated broadcast network additional issue data link layer control access shared channela special sublayer data link layer medium access control sublayer deal problem network layer network layer control operation subnet key design issue determining packet arerouted source destination route based static table wired network andrarely changed also determined start conversation example terminal session eg login remote machine finally highly dynamic determined anew packet reflect current network load many packet present subnet time get one another s way formingbottlenecks control congestion also belongs network layer generally quality f service provided delay transit time jitter etc also network layer issue packet travel one network another get destination many problem arise theaddressing used second network may different first one second one may accept thepacket large protocol may differ network layer overcomeall problem allow heterogeneous network interconnected broadcast network routing problem simple network layer often thin even nonexistent transport layer  basic function transport layer accept data split smaller unit need pas network layer ensure piece arrive correctly end furthermore allthis must done efficiently way isolates upper layer inevitable change thehardware technology transport layer also determines type service provide session layer ultimately theusers network popular type transport connection errorfree pointtopoint channel delivers message byte order sent however possible kind transpor service transporting isolated message guarantee order delivery thebroadcasting message multiple destination typeof service determined connection established aside errorfree channel impossible achieve people really mean term isthat error rate low enough ignore practice transport layer true endtoend layer way source destination word aprogram source machine carry conversation similar program destination machine using message header control message lower layer protocol machine immediate neighbor ultimate source destination machine may beseparated many router difference layer   chained layer  through endtoend illustrated fig  session layer session layer allows user different machine establish session session offe r various service including dialog control keeping track whose turn transmit token management preventing two party attempting critical operation time synchronization checkpointing long transmission allow continue crash presentation layer unlike lower layer mostly concerned moving bit around presentation layer concerned syntax semantics information transmitted order make possible computer withdifferent data representation communicate data structure exchanged defined anabstract way along standard encoding used on wire presentation layer manages abstract data structure allows higherlevel data structure eg banking record defined andexchanged application layer application layer contains variety protocol commonly needed user one widelyused application protocol http hypertext transfer protocol basis world wide web browser want web page sends name page want server using http server thensends page back application protocol used file transfer electronic mail network news  tcpip reference model let u turn osi reference model reference model used grandparent wide areacomputer network arpanet successor worldwide internet although give brie f history arpanet later useful mention key aspect arpanet researchnetwork sponsored dod u department defense eventually connected hundred universitiesand government installation using leased telephone line satellite radio network added later existing protocol trouble interworking new reference architecture needed thus ability connect multiple network seamless way one major design goal verybeginning architecture later became known tcpip reference model two primary protocol first defined cerf kahn  later perspective given leiner et al  designphilosophy behind model discussed clark  given dod s worry precious host router internetwork gateway might get blown  piece moment s notice another major goal network able survive loss subne hardware existing conversation broken word dod wanted connection remainintact long source destination machine functioning even machine r transmission line suddenly put operation furthermore flexible architecture wasneeded since application divergent requirement envisioned ranging transferring file realtime speech transmission internet layer requirement led choice packetswitching network based connectionless internetworklayer layer called internet layer linchpin hold whole architecture together job permit host inject packet network travel independently destination potentiallyon different network may even arrive different order sent case job higher layer rearrange inorder delivery desired note internet used genericsense even though layer present internet analogy snail mail system person drop sequence international letter amail box one country little luck delivered correct address thedestination country probably letter travel one international mail gateway along way transparent user furthermore country ie network stamp preferred envelope size delivery rule hidden user internet layer defines official packet format protocol called ip internet protocol job internet layer deliver ip packet supposed go packet routing clearly major issuehere avoiding congestion reason reasonable say tcpip internet layer similar functionality osi network layer figure  show correspondence figure  tcpip reference model transport layer layer internet layer tcpip model usually called transport layer designed allow peer entity source destination host carry conversation osi transportlayer two endtoend transport protocol defined first one tcp transmission control protocol reliable connectionoriented protocol allows abyte stream originating one machine delivered without error machine internet fragment incoming byte stream discretemessages pass one internet layer destination receiving tcp process reassembles received message output stream tcp also handle flow control make sure fastsender swamp slow receiver message handle second protocol layer udp user datagram protocol unreliable connectionless protocol fo r application want tcp s sequencing flow control wish provide also widel used oneshot clientservertype requestreply query application prompt deliveryis important accurate delivery transmitting speech video relation ip tcp udp  shown fig  since model developed ip implemented many network figure  protocol network tcpip model initially application layer tcpip model session presentation layer need perceived werenot included experience osi model proven view correct little use mostapplications top transport layer application layer contains higherlevel protocol early one included virtual terminal telnet file transfer ftp electronic mail smtp shown fig  virtual terminal protocol allows user one machine log onto distant machine work filetransfer protocol provides way move data efficiently one machine another electronic mail wasoriginally kind file transfer later specialized protocol smtp developed many othe r protocol added year domain name system dns mapping host namesonto network address nntp protocol moving usenet news article around http theprotocol fetching page world wide web many others hosttonetwork layer internet layer great void tcpip reference model really say much wha happens except point host connect network using protocol sendip packet protocol defined varies host host network network book andpapers tcpip model rarely discus  comparison osi tcpip reference model osi tcpip reference model much common based concept stack f independent protocol also functionality layer roughly similar example model layer including transport layer provide endtoend networkindependent transport service process wishing communicate layer form transport provider model layer transport applicationoriented user transport service despite fundamental similarity two model also many difference section focuson key difference two referencemodels important note comparing reference model corresponding protocol stack protocol discussed later entire book comparing contrasting tcpip osi see piscitello chapin  three concept central osi model  service  interface  protocol  probably biggest contribution osi model make distinction three conceptsexplicit layer performs service layer service definition tell layer entity access layer work defines layer s semantics layer s interface tell process access specifies parameter wha result expect say nothing layer work inside finally peer protocol used layer layer s business use protocol want aslong get job done ie provides offered service also change without affectingsoftware higher layer idea fit nicely modern idea objectoriented programming object like layer set method operation process outside object invoke semantics method define set service object offer method parameter result form object s interfacethe code internal object protocol visible concern outside object tcpip model originally clearly distinguish service interface protocol although peoplehave tried retrofit fact make osilike example real service offered internet layer send ip packet receive ip packet consequence protocol osi model better hidden tcpip model bereplaced relatively easily technology change able make change one mainpurposes layered protocol first place osi reference model devised corresponding protocol invented ordering meansthat model biased toward one particular set protocol fact made quite general downside ordering designer much experience subject agood idea functionality put layer example data link layer originally dealt pointtopoint network broadcast network came around new sublayer hacked model people started build real network usingthe osi model existing protocol discovered network match required service specification wonder wonder convergence sublayers grafted onto model provide aplace papering difference finally committee originally expected country would haveone network run government using osi protocol thought given internetworkingto make long story short thing turn way tcpip reverse true protocol came first model really description theexisting protocol problem protocol fitting model fit perfectly troublewas model fit protocol stack consequently especially useful describingother nontcpip network turning philosophical matter specific one obvious difference two model thenumber layer osi model seven layer tcpip four layer inter network transport application layer layer different another difference area connectionless versus connectionoriented communication osi model support connectionless connectionoriented communication network layer connectionoriented communication transport layer count transport service visible theusers tcpip model one mode network layer connectionless support mode inthe transport layer giving user choice choice especially important simple requestresponse protocol  critique osi model protocol neither osi model protocol tcpip model protocol perfect quite bit f criticism directed section next one look f  criticism begin osi examine tcpip afterward time second edition book published  appeared many expert field osi model protocol going take world push everything else way didnot happen look back lesson may useful lesson summarized  bad timing  bad technology  bad implementation  bad politics bad timing first let u look reason one bad timing time standard established absolutely critical itssuccess david clark mit theory standard call apocalypse two elephant illustrated fig  figure  apocalypse two elephant figure show amount activity surrounding new subject subject first discovered isa burst research activity form discussion paper meeting activity subsides corporation discover subject billiondollar wave investment hit essential standard written trough two elephant standard arewritten early research finished subject may still poorly understood result badstandards written late many company may already made major investment indifferent way thing standard effectively ignored interval two elephant short everyone hurry get started people developing standard may ge crushed appears standard osi protocol got crushed competing tcpip protocol already inwidespread use research university time osi protocol appeared billiondollar wave f investment yet hit academic market large enough many vendor begun cautiouslyoffering tcpip product osi came around want support second protocol stack untilthey forced initial offering every company waiting every company gofirst company went first osi never happened bad technology second reason osi never caught model protocol flawed choice f seven layer political technical two layer session presentation nearlyempty whereas two one data link network overfull osi model along associated service definition protocol extraordinarily complex  piled printed standard occupy significant fraction meter paper also difficult toimplement inefficient operation context riddle posed paul mockapetris cited rose come mind q get cross mobster international standard a someone make offer ca nt understand addition incomprehensible another problem osi function addressing flow control error control reappear layer saltzer et al  example pointed effective error control must done highest layer repeating lower layer often unnecessary inefficient bad implementation given enormous complexity model protocol come surprise initial implementation huge unwieldy slow everyone tried got burned take long people associate osi poor quality although product improved course time image stuck contrast one first implementation tcpip part berkeley unix quite good mention free people began using quickly led large user community led improvement led even larger community spiral upward instead downward bad politics account initial implementation many people especially academia thought tcpip part unix unix s academia unlike parenthood incorrectly called motherhood apple pie osi hand widely thought creature european telecommunication ministry european community later u government belief partly true idea bunch government bureaucrat trying shove technically inferior standard throat poor researcher programmer trench actually developing computer network help much people viewed development light ibm announcing s pli language future dod correcting later announcing actually ada  critique tcpip reference model tcpip model protocol problem first model clearly distinguish concept service interface protocol good software engineering practice requires differentiating specification implementation something osi carefully tcpip consequently tcpip model much guide designing new network using new technology second tcpip model general poorly suited describing protocol stack tcpip trying use tcpip model describe bluetooth example completely impossible third hosttonetwork layer really layer normal sense term used context layered protocol interface network data link layer distinction interface layer crucial one sloppy  fourth tcpip model distinguish even mention physical data link layer completely different physical layer transmission characteristic copper wire fiber optic wireless communication data link layer s job delimit start end frame get one side desired degree reliability proper model include separate layer tcpip model finally although ip tcp protocol carefully thought well implemented many protocol ad hoc generally produced couple graduate student hacking away got tired protocol implementation distributed free resulted becoming widely used deeply entrenched thus hard replace bit embarrassment virtual terminal protocol telnet example designed tencharacter per second mechanical teletype terminal know nothing graphical user interface mouse nevertheless  year later still widespread use summary despite problem osi model minus session presentation layer proven exceptionally useful discussing computer network contrast osi protocol become popular reverse true tcpip model practically nonexistent protocol widely used since computer scientist like cake eat book use modified osi model concentrate primarily tcpip related protocol well newer one  sonet bluetooth effect use hybrid model fig  framework book figure  hybrid reference model used book  example network subject computer networking cover many different kind network large small well known le well known different goal scale technology following section look example get idea variety one find area computer networking start internet probably best known network look history evolution technology consider atm often used within core large telephone network technically quite different internet contrasting nicely next introduce ethernet dominant local area network finally look ieee  standard wireless lan  internet internet network vast collection different network use certain common protocol provide certain common service unusual system planned anyone controlled anyone better understand let u start beginning see developed wonderful history internet john naughton s  book highly recommended one rare book fun read also  page ibid s op cit s serious historian material based book course countless technical book written internet protocol well information see example maufer  arpanet story begin late s height cold war dod wanted commandandcontrol network could survive nuclear war time military communication used public telephone network considered vulnerable reason belief gleaned fig   black dot represent telephone switching office connected thousand telephone switching office turn connected higherlevel switching office toll office form national hierarchy small amount redundancy vulnerability system destruction key toll office could fragment system many isolated island figure  structure telephone system b baran s proposed distributed switching system around  dod awarded contract rand corporation find solution one employee paul baran came highly distributed faulttolerant design fig  b since path two switching office much longer analog signal could travel without distortion baran proposed using digital packetswitching technology throughout system baran wrote several report dod describing idea detail official pentagon liked concept asked u national telephone monopoly build prototype dismissed baran s idea hand biggest richest corporation world allow young whippersnapper tell build telephone system said baran s network could built idea killed several year went still dod better commandandcontrol system understand happened next go back october  soviet union beat u space launch first artificial satellite sputnik president eisenhower tried find asleep switch appalled find army navy air force squabbling pentagon s research budget immediate response create single defense research organization arpa advanced research project agency arpa scientist laboratory fact nothing office small pentagon standard budget work issuing grant contract university company whose idea looked promising first year arpa tried figure mission  attention arpa s director larry robert turned networking contacted various expert decide one wesley clark suggested building packetswitched subnet giving host router illustrated fig  initial skepticism robert bought idea presented somewhat vague paper acm sigops symposium operating system principle held gatlinburg tennessee late  robert  much robert surprise another paper conference described similar system designed actually implemented direction donald davy national physical laboratory england npl system national system connected several computer npl campus demonstrated packet switching could made work furthermore cited baran s discarded earlier work robert came away gatlinburg determined build later became known arpanet  subnet would consist minicomputer called imp interface message processor connected kbps transmission line high reliability imp would connected least two imp subnet datagram subnet line imp destroyed message could automatically rerouted along alternative path node network consist imp host room connected short wire host could send message  bit imp would break packet  bit forward independently toward destination packet received entirety forwarded subnet first electronic storeandforward packetswitching network arpa put tender building subnet twelve company bid evaluating proposal arpa selected bbn consulting firm cambridge massachusetts december  awarded contract build subnet write subnet software bbn chose use specially modified honeywell ddp minicomputer k bit word core memory imp imp disk since moving part considered unreliable imp interconnected kbps line leased telephone company although  kbps choice teenager afford adsl cable best money could buy software split two part subnet host subnet software consisted imp end hostimp connection impimp protocol source imp destination imp protocol designed improve reliability original arpanet design shown fig  figure  original arpanet design outside subnet software also needed namely host end hostimp connection hosthost protocol application software soon became clear bbn felt accepted message hostimp wire placed hostimp wire destination job done robert problem host needed software deal convened meeting network researcher mostly graduate student snowbird utah summer  graduate student expected network expert explain grand design network software assign job writing part astounded network expert grand design figure nevertheless somehow experimental network went air december  four node ucla ucsb sri university utah four chosen large number arpa contract different completely incompatible host computer make fun network grew quickly imp delivered installed soon spanned united state figure  show rapidly arpanet grew first  year figure  growth arpanet december  b july  c march  april  e september   addition helping fledgling arpanet grow arpa also funded research use satellite network mobile packet radio network one famous demonstration truck driving around california used packet radio network send message sri forwarded arpanet east coast shipped university college london satellite network allowed researcher truck use computer london driving around california experiment also demonstrated existing arpanet protocol suitable running multiple network observation led research protocol culminating invention tcpip model protocol cerf kahn  tcpip specifically designed handle communication internetworks something becoming increasingly important network hooked arpanet encourage adoption new protocol arpa awarded several contract bbn university california berkeley integrate berkeley unix researcher berkeley developed convenient program interface network socket wrote many application utility management program make networking easier timing perfect many university acquired second third vax computer lan connect networking software bsd came along tcpip socket many network utility complete package adopted immediately furthermore tcpip easy lan connect arpanet many s additional network especially lan connected arpanet scale increased finding host became increasingly expensive dns domain name system created organize machine domain map host name onto ip address since dns become generalized distributed database system storing variety information related naming study detail chap  nsfnet late s nsf u national science foundation saw enormous impact arpanet university research allowing scientist across country share data collaborate research project however get arpanet university research contract dod many nsf s response design successor arpanet would open university research group something concrete start nsf decided build backbone network  connect six supercomputer center san diego boulder champaign pittsburgh ithaca princeton supercomputer given little brother consisting lsi microcomputer called fuzzball fuzzballs connected kbps leased line formed subnet hardware technology arpanet used software technology different however fuzzballs spoke tcpip right start making first tcpip wan nsf also funded eventually  regional network connected backbone allow user thousand university research lab library museum access supercomputer communicate one another complete network including backbone regional network called nsfnet connected arpanet link imp fuzzball carnegiemellon machine room first nsfnet backbone illustrated fig  figure  nsfnet backbone  nsfnet instantaneous success overloaded word go nsf immediately began planning successor awarded contract michiganbased merit consortium run fiber optic channel  kbps leased mci since merged worldcom provide version  backbone ibm pcrts used router soon overwhelmed  second backbone upgraded  mbps growth continued nsf realized government could continue financing networking forever furthermore commercial organization wanted join forbidden nsf s charter using network nsf paid consequently nsf encouraged merit mci ibm form nonprofit corporation an advanced network service first step along road commercialization  an took nsfnet upgraded mbps link  mbps form ansnet network operated  year sold america online various company offering commercial ip service clear government get networking business ease transition make sure every regional network could communicate every regional network nsf awarded contract four different network operator establish nap network access point operator pacbell san francisco ameritech chicago mf washington dc sprint new york city nap purpose pennsauken new jersey count new york city every network operator wanted provide backbone service nsf regional network connect nap arrangement meant packet originating regional network choice backbone carrier get nap destination s nap consequently backbone carrier forced compete regional network business basis service price idea course result concept single default backbone replaced commerciallydriven competitive infrastructure many people like criticize federal government innovative area networking dod nsf created infrastructure formed basis internet handed industry operate  s many country region also built national research network often patterned arpanet nsfnet included europanet ebone europe started mbps line upgraded mbps line eventually network infrastructure europe handed industry well internet usage number network machine user connected arpanet grew rapidly tcpip became official protocol january   nsfnet arpanet interconnected growth became exponential many regional network joined connection made network canada europe pacific sometime mids people began viewing collection network internet later internet although official dedication politician breaking bottle champagne fuzzball glue hold internet together tcpip reference model tcpip protocol stack tcpip make universal service possible compared adoption standard gauge railroad th century adoption common signaling protocol telephone company actually mean internet definition machine internet run tcpip protocol stack ip address send ip packet machine internet mere ability send receive electronic mail enough since email gatewayed many network outside internet however issue clouded somewhat fact million personal computer call internet service provider using modem assigned temporary ip address send ip packet internet host make sense regard machine internet long connected service provider s router traditionally meaning   internet predecessor four main application  email ability compose send receive electronic mail around since early day arpanet enormously popular many people get dozen message day consider primary way interacting outside world far outdistancing telephone snail mail email program available virtually every kind computer day  news newsgroups specialized forum user common interest exchange message thousand newsgroups exist devoted technical nontechnical topic including computer science recreation politics newsgroup etiquette style custom woe betide anyone violating  remote login using telnet rlogin ssh program user anywhere internet log machine account  file transfer using ftp program user copy file one machine internet another vast number article database information available way early s internet largely populated academic government industrial researcher one new application www world wide web changed brought million new nonacademic user net application invented cern physicist tim bernerslee change underlying facility made easier use together mosaic browser written marc andreessen national center supercomputer application urbana illinois www made possible site set number page information containing text picture sound even video embedded link page clicking link user suddenly transported page pointed link example many company home page entry pointing page product information price list sale technical support communication employee stockholder information numerous kind page come existence short time including map stock market table library card catalog recorded radio program even page pointing complete text many book whose copyright expired mark twain charles dickens etc many people also personal page home page  much growth s fueled company called isp internet service provider company offer individual user home ability call one machine connect internet thus gaining access email www internet service company signed ten million new user year late s completely changing character network academic military playground public utility much like telephone system number internet user unknown certainly hundred million worldwide probably hit  billion fairly soon architecture internet section attempt give brief overview internet today due many merger telephone company telco isps water become muddied often hard tell consequently description necessity somewhat simpler reality big picture shown fig  let u examine figure piece piece figure  overview internet good place start client home let u assume client call isp dialup telephone line shown fig  modem card within pc convert digital signal computer produce analog signal pas unhindered telephone system signal transferred isp s pop point presence removed telephone system injected isp s regional network point system fully digital packet switched isp local telco pop probably located telephone switching office telephone wire client terminates isp local telco pop may switching office road isp s regional network consists interconnected router various city isp serf packet destined host served directly isp packet delivered host otherwise handed isp s backbone operator top food chain major backbone operator company like sprint operate large international backbone network thousand router connected highbandwidth fiber optic large corporation hosting service run server farm machine serve thousand web page per second often connect directly backbone backbone operator encourage direct connection renting space called carrier hotel basically equipment rack room router allow short fast connection server farm backbone  packet given backbone destined isp company served backbone sent closest router handed however many backbone varying size exist world packet may go competing backbone allow packet hop backbone major backbone connect nap discussed earlier basically nap room full router least one per backbone lan room connects router packet forwarded backbone backbone addition interconnected nap larger backbone numerous direct connection router technique known private peering one many paradox internet isps publicly compete one another customer often privately cooperate private peering metz  end quick tour internet great deal say individual component design algorithm protocol subsequent chapter also worth mentioning passing company interconnected existing internal network often using technology internet intranet typically accessible within company otherwise work way internet  connectionoriented network x frame relay atm since beginning networking war going people support connectionless ie datagram subnets people support connectionoriented subnets main proponent connectionless subnets come arpanetinternet community remember dod s original desire funding building arpanet network would continue functioning even multiple direct hit nuclear weapon wiped numerous router transmission line thus fault tolerance high priority list billing customer approach led connectionless design every packet routed independently every packet consequence router go session harm done long system reconfigure dynamically subsequent packet find route destination even different previous packet used connectionoriented camp come world telephone company telephone system caller must dial called party s number wait connection talking sending data connection setup establishes route telephone system maintained call terminated word packet follow route line switch path go call aborted property precisely dod like telephone company like two reason  quality service  billing setting connection advance subnet reserve resource buffer space router cpu capacity attempt made set call insufficient resource available call rejected caller get kind busy signal way connection set connection get good service connectionless network many packet arrive router moment router choke probably lose packet sender eventually notice resend quality service jerky unsuitable audio video unless network lightly loaded needle say providing adequate audio quality something telephone company care much hence preference connection second reason telephone company like connectionoriented service accustomed charging connect time make long distance call even local call outside north america charged minute network came around automatically gravitated toward model charging minute easy set connection sending data billing clock start running connection charge ironically maintaining billing record expensive telephone company adopt flat monthly rate unlimited calling billing record keeping would probably save huge amount money despite increased calling policy would generate political regulatory factor weigh however interestingly enough flat rate service exists sector example cable tv billed flat  rate per month matter many program watch could designed payperview basic concept due part expense billing given quality television embarrassment factor totally discounted either also many theme park charge daily admission fee unlimited ride contrast traveling carnival charge ride said come surprise network designed telephone industry connectionoriented subnets perhaps surprising internet also drifting direction order provide better quality service audio video subject return chap  let u examine connectionoriented network x frame relay first example connectionoriented network x first public data network deployed s time telephone service monopoly everywhere telephone company country expected one data network per country—theirs use x computer first established connection remote computer placed telephone call connection given connection number used data transfer packet multiple connection could open time data packet simple consisting byte header  byte data header consisted bit connection number packet sequence number acknowledgement number miscellaneous bit x network operated decade mixed success s x network largely replaced new kind network called frame relay essence frame relay connectionoriented network error control flow control connectionoriented packet delivered order delivered property inorder delivery error control flow control make frame relay akin wide area lan important application interconnecting lan multiple company office frame relay enjoyed modest success still use place today asynchronous transfer mode yet another far important connectionoriented network atm asynchronous transfer mode reason somewhat strange name telephone system transmission synchronous closely tied clock atm atm designed early s launched amid truly incredible hype ginsburg  goralski  ibe  kim et al  stalling  atm going solve world s networking telecommunication problem merging voice data cable television telex telegraph carrier pigeon tin can connected string tomtoms smoke signal everything else single integrated system could everything everyone happen large part problem similar described earlier concerning osi bad timing technology implementation politics beaten back telephone company round  many internet community saw atm internet versus telco sequel really time around even diehard datagram fanatic aware internet s quality service left lot desired make long story short atm much successful osi widely used deep within telephone system often moving ip packet mostly used carrier internal transport user often unaware existence definitely alive well atm virtual circuit since atm network connectionoriented sending data requires first sending packet set connection setup packet wends way subnet router path make entry internal table noting existence connection reserving whatever resource needed connection often called virtual circuit analogy physical circuit used within telephone system atm network also support permanent virtual circuit permanent connection two distant host similar leased line telephone world connection temporary permanent unique connection identifier virtual circuit illustrated fig  figure  virtual circuit  connection established either side begin transmitting data basic idea behind atm transmit information small fixedsize packet called cell cell  byte long  byte header  byte payload shown fig  part header connection identifier sending receiving host intermediate router tell cell belong connection information allows router know route incoming cell cell routing done hardware high speed fact main argument fixedsize cell easy build hardware router handle short fixedlength cell variablelength ip packet routed software slower process another plus atm hardware set copy one incoming cell multiple output line property required handling television program broadcast many receiver finally small cell block line long make guaranteeing quality service easier figure  atm cell cell follow route destination cell delivery guaranteed order cell   sent order arrive arrive order never first   either lost along way higher protocol level recover lost cell note although guarantee perfect better internet provides packet lost delivered order well atm contrast guarantee never deliver cell order atm network organized like traditional wan line switch router common speed atm network  mbps  mbps although higher speed also supported mbps speed chosen needed transmit high definition television exact choice  mbps made compatibility s sonet transmission system something study chap   mbps speed chosen four mbps channel could sent atm reference model atm reference model different osi model also different tcpip model model shown fig  consists three layer physical atm atm adaptation layer plus whatever user want put top figure  atm reference model  physical layer deal physical medium voltage bit timing various issue atm prescribe particular set rule instead say atm cell sent wire fiber also packaged inside payload carrier system word atm designed independent transmission medium atm layer deal cell cell transport defines layout cell tell header field mean also deal establishment release virtual circuit congestion control also located application want work directly cell although may layer atm layer defined allow user send packet larger cell atm interface segment packet transmits cell individually reassembles end layer aal atm adaptation layer unlike earlier twodimensional reference model atm model defined threedimensional shown fig  user plane deal data transport flow control error correction user function contrast control plane concerned connection management layer plane management function relate resource management interlayer coordination physical aal layer divided two sublayers one bottom work convergence sublayer top provides proper interface layer function layer sublayers given fig  figure  atm layer sublayers function  pmd physical medium dependent sublayer interface actual cable move bit handle bit timing different carrier cable layer different sublayer physical layer tc transmission convergence sublayer cell transmitted tc layer sends string bit pmd layer easy end tc sublayer get pure incoming bit stream pmd sublayer job convert bit stream cell stream atm layer handle issue related telling cell begin end bit stream atm model functionality physical layer osi model pretty much network job framing turning raw bit stream sequence frame cell data link layer s task mentioned earlier atm layer manages cell including generation transport interesting aspect atm located mixture osi data link network layer split sublayers aal layer split sar segmentation reassembly sublayer c convergence sublayer lower sublayer break packet cell transmission side put back together destination upper sublayer make possible atm system offer different kind service different application eg file transfer video demand different requirement concerning error handling timing etc probably mostly downhill atm discus book nevertheless since substantial installed base probably around least year information atm see dobrowski grise  gadecki heckart   ethernet internet atm designed wide area networking however many company university organization large number computer must connected need gave rise local area network section say little bit popular lan ethernet story start pristine hawaii early s case pristine interpreted not working telephone system interrupted phone day long make life pleasant vacationer make life pleasant researcher norman abramson colleague university hawaii trying connect user remote island main computer honolulu stringing cable pacific ocean card looked different solution one found shortrange radio user terminal equipped small radio two frequency upstream central computer downstream central computer user wanted contact computer transmitted packet containing data upstream channel one else transmitting instant packet probably got acknowledged downstream channel contention upstream channel terminal noticed lack acknowledgement tried since one sender downstream channel central computer never collision system called alohanet worked fairly well condition low traffic bogged badly upstream traffic heavy time student named bob metcalfe got bachelor s degree mit moved river get phd harvard study exposed abramson s work became interested graduating harvard decided spend summer hawaii working abramson starting work xerox parc palo alto research center got parc saw researcher designed built would later called personal computer machine isolated using knowledge abramson s work together colleague david boggs designed implemented first local area network metcalfe boggs  called system ethernet luminiferous ether electromagnetic radiation thought propagate th century british physicist james clerk maxwell discovered electromagnetic radiation could described wave equation scientist assumed space must filled  ethereal medium radiation propagating famous michelsonmorley experiment  physicist discover electromagnetic radiation could propagate vacuum transmission medium vacuum thick coaxial cable ether  km long repeater every  meter  machine could attached system via transceivers screwed onto cable cable multiple machine attached parallel called multidrop cable system ran  mbps sketch architecture given fig  ethernet major improvement alohanet transmitting computer first listened cable see someone else already transmitting computer held back current transmission finished avoided interfering existing transmission giving much higher efficiency alohanet work like impossible terminal one island sense transmission terminal distant island single cable problem exist figure  architecture original ethernet despite computer listening transmitting problem still arises happens two computer wait current transmission completes start solution computer listen transmission detects interference jam ether alert sender back wait random time retrying second collision happens random waiting time doubled spread competing transmission give one chance go first xerox ethernet successful dec intel xerox drew standard  mbps ethernet called dix standard two minor change dix standard became ieee  standard  unfortunately xerox already history making seminal invention personal computer failing commercialize story told fumbling future smith alexander  xerox showed little interest anything ethernet helping standardize metcalfe formed company com sell ethernet adapter pc sold  million ethernet continued develop still developing new version  mbps  mbps still higher come also cabling improved switching feature added discus ethernet detail chap  passing worth mentioning ethernet ieee  lan standard committee also standardized token bus  token ring  need three moreorless incompatible standard little technology everything politics time standardization general motor pushing lan topology ethernet linear cable computer took turn transmitting passing short packet called token computer computer computer could send possessed token thus avoiding collision general motor announced scheme essential manufacturing car prepared budge position announcement notwithstanding  basically vanished sight similarly ibm favorite proprietary token ring token passed around ring whichever computer held token allowed transmit putting token back ring unlike  scheme standardized  still use ibm site virtually nowhere outside ibm site however work progressing gigabit version v seems unlikely ever catch ethernet short war ethernet token bus token ring ethernet mostly first challenger good   wireless lan  almost soon notebook computer appeared many people dream walking office magically notebook computer connected internet consequently various group began working way accomplish goal practical approach equip office notebook computer shortrange radio transmitter receiver allow communicate work rapidly led wireless lan marketed variety company trouble two compatible proliferation standard meant computer equipped brand x radio would work room equipped brand base station finally industry decided wireless lan standard might good idea ieee committee standardized wired lan given task drawing wireless lan standard standard came named  common slang name wifi important standard deserves respect call proper name  proposed standard work two mode  presence base station  absence base station former case communication go base station called access point  terminology latter case computer would send one another directly mode sometimes called ad hoc networking typical example two people sitting together room equipped wireless lan computer communicate directly two mode illustrated fig  figure  wireless networking base station b ad hoc networking first decision easiest call lan standard number like     wireless lan standard dubbed  rest harder particular many challenge met finding suitable frequency band available preferably worldwide dealing fact radio signal finite range ensuring user privacy maintained taking limited battery life account worrying human safety radio wave cause cancer understanding implication computer mobility finally building system enough bandwidth economically viable time standardization process started mids ethernet already come dominate local area networking committee decided make  compatible ethernet data link layer particular possible send ip packet wireless lan way wired computer sent ip packet ethernet nevertheless physical data link layer several inherent difference ethernet exist dealt standard first computer ethernet always listens ether transmitting ether idle computer begin transmitting wireless lan idea work well see examine fig   suppose computer transmitting computer b radio range s transmitter short  reach computer c c want transmit b listen ether starting fact hear anything mean transmission succeed  standard solve problem figure  range single radio may cover entire system second problem solved radio signal reflected solid object may received multiple time along multiple path interference result called multipath fading third problem great deal software aware mobility example many word processor list printer user choose print file computer word processor run taken new environment builtin list printer becomes invalid fourth problem notebook computer moved away ceilingmounted base station using range different base station way handing needed although problem occurs cellular telephone occur ethernet needed solved particular network envisioned consists multiple cell base station base station connected ethernet shown fig  outside entire system look like single ethernet connection  system outside world called portal figure  multicell  network work committee came standard  addressed concern wireless lan described ran either  mbps  mbps almost immediately people complained slow work began faster standard split developed within committee resulting two new standard  a standard us wider frequency band run speed  mbps b standard us frequency band  us different modulation technique achieve  mbps people see psychologically important since  mbps faster original wired ethernet likely original mbps  die quickly yet clear new standard win make matter even complicated already  committee come yet another variant g us modulation technique a frequency band b come back  detail chap    going cause revolution computing internet access beyond doubt airport train station hotel shopping mall university rapidly installing even upscale coffee shop installing  assembled yuppie surf web drinking latte likely  internet notebook computer computing make mobile  network standardization many network vendor supplier exist idea thing done without coordination would complete chaos user would get nothing done way agree network standard standard allow different computer communicate also increase market product adhering standard larger market lead mass production economy scale manufacturing vlsi implementation benefit decrease price increase acceptance following section take quick look important littleknown world international standardization standard fall two category de facto de jure de facto latin from fact standard happened without formal plan ibm pc successor de facto standard smalloffice home computer dozen manufacturer chose copy ibm s machine closely similarly unix de facto standard operating system university computer science department de jure latin by law standard contrast formal legal standard adopted authorized standardization body international standardization authority generally divided two class established treaty among national government comprising voluntary nontreaty organization area computer network standard several organization type discussed  s telecommunication world legal status world s telephone company varies considerably country country one extreme united state  separate privately owned telephone company broken  time world s largest corporation completely dominated scene provided telephone service  percent america s telephone spread throughout half geographical area company combined servicing remaining mostly rural customer since breakup continues provide longdistance service although competition company seven regional bell operating company split numerous independent provide local cellular telephone service due frequent merger change industry constant state flux company united state provide communication service public called common carrier offering price described document called tariff must approved federal communication commission interstate international traffic state public utility commission intrastate traffic extreme country national government complete monopoly communication including mail telegraph telephone often radio television world fall category case telecommunication authority nationalized company others simply branch government usually known ptt post telegraph telephone administration worldwide trend toward liberalization competition away government monopoly european country partially privatized ptts elsewhere process still slowly gaining steam different supplier service clearly need provide compatibility worldwide scale ensure people computer one country call counterpart another one actually need existed long time  representative many european government met form predecessor today s itu international telecommunication union job standardizing international telecommunication day meant telegraphy even clear half country used morse code half used code going problem telephone  put international service itu took job standardizing telephony pronounced telefony well  itu became agency united nation itu three main sector  radiocommunication sector itur  telecommunication standardization sector itut  development sector itud itur concerned allocating radio frequency worldwide competing interest group focus primarily itut concerned telephone data communication system   itut known ccitt acronym french name comité consultatif international télégraphique et téléphonique march   ccitt reorganized make le bureaucratic renamed reflect new role itut ccitt issued recommendation area telephone data communication one still frequently run ccitt recommendation ccitt x although since  recommendation bear itut label itut four class member  national government  sector member  associate member  regulatory agency itut  governmental member including almost every member united nation since united state ptt somebody else represent itut task fell state department probably ground itut foreign country state department s specialty approximately  sector member including telephone company eg vodafone worldcom telecom equipment manufacturer eg cisco nokia nortel computer vendor eg compaq sun toshiba chip manufacturer eg intel motorola ti medium company eg aol time warner cbs sony interested company eg boeing samsung xerox various nonprofit scientific organization industry consortium also sector member eg ifip iata associate member smaller organization interested particular study group regulatory agency folk watch telecom business u federal communication commission itut s task make technical recommendation telephone telegraph data communication interface often become internationally recognized standard example v also known eia rs united state specifies placement meaning various pin connector used asynchronous terminal external modem noted itut recommendation technically suggestion government adopt ignore wish government like yearold boys—they take kindly given order practice country wish adopt telephone standard different used rest world free price cutting everyone else might work north korea elsewhere would real problem fiction calling itut standard recommendation necessary keep nationalist force many country placated real work itut done  study group often large  people currently  study group covering topic ranging telephone billing multimedia service order make possible get anything done study group divided working party turn divided expert team turn divided ad hoc group bureaucracy always bureaucracy despite itut actually get thing done since inception produced close  recommendation occupying  page paper many widely used practice example popular v kbps modem standard itu recommendation  telecommunication completes transition started s entirely national entirely global standard become increasingly important organization want become involved setting information itu see irmer   s international standard world international standard produced published iso international standard organization voluntary nontreaty organization founded  member national standard organization  member country member include ansi u bsi great britain afnor france din germany  others purist iso s true name international organization standardization iso issue standard truly vast number subject ranging nut bolt literally telephone pole coating mention cocoa bean iso  fishing net iso  woman s underwear iso  quite subject one might think subject standardization  standard issued including osi standard iso almost  technical committee numbered order creation dealing specific subject tc deal nut bolt standardizing screw thread pitch tc deal computer information processing tc subcommittee sc divided working group wgs real work done largely wgs  volunteer worldwide many volunteer assigned work iso matter employer whose product standardized others government official keen country s way thing become international standard academic expert also active many wgs issue telecommunication standard iso itut often cooperate iso member itut avoid irony two official mutually incompatible international standard u representative iso ansi american national standard institute despite name private nongovernmental nonprofit organization member manufacturer common carrier interested party ansi standard frequently adopted iso international standard procedure used iso adopting standard designed achieve broad consensus possible process begin one national standard organization feel need international standard area working group formed come cd committee draft cd circulated member body get  month criticize substantial majority approves revised document called dis draft international standard produced circulated comment voting based result round final text international standard prepared approved published area great controversy cd dis may go several version acquiring enough vote whole process take year nist national institute standard technology part u department commerce used national bureau standard issue standard mandatory purchase made u government except department defense standard another major player standard world ieee institute electrical electronics engineer largest professional organization world addition publishing score journal running hundred conference year ieee standardization group develops standard area electrical engineering computing ieee s  committee standardized many kind lan study output later book actual work done collection working group listed fig   success rate various  working group low x number guarantee success impact success story especially   enormous figure   working group important one marked one marked hibernating one marked gave disbanded   s internet standard world worldwide internet standardization mechanism different itut iso difference crudely summed saying people come itu iso standardization meeting wear suit people come internet standardization meeting wear jean except meet san diego wear short tshirts itut iso meeting populated corporate official government civil servant standardization job regard standardization good thing devote life internet people hand prefer anarchy matter principle however hundred million people thing little communication occur thus standard however regrettable sometimes needed arpanet set dod created informal committee oversee  committee renamed iab internet activity board given slighter broader mission namely keep researcher involved arpanet internet pointed moreorless direction activity unlike herding cat meaning acronym iab later changed internet architecture board approximately ten member iab headed task force issue importance iab met several time year discus result give feedback dod nsf providing funding time standard needed eg new routing algorithm iab member would thrash announce change graduate student heart software effort could implement communication done series technical report called rfcs request comment rfcs stored online fetched anyone interested wwwietforgrfc numbered chronological order creation  exist refer many rfcs book  internet grown large highly informal style longer worked many vendor offered tcpip product want change ten researcher thought better idea summer  iab reorganized researcher moved irtf internet research task force made subsidiary iab along ietf internet engineering task force iab repopulated people representing broader range organization research community initially selfperpetuating group member serving year term new member appointed old one later internet society created populated people  interested internet internet society thus sense comparable acm ieee governed elected trustee appoint iab member idea split irtf concentrate longterm research ietf dealt shortterm engineering issue ietf divided working group specific problem solve chairman working group initially met steering committee direct engineering effort working group topic include new application user information osi integration routing addressing security network management standard eventually many working group formed  grouped area area chairman met steering committee addition formal standardization process adopted patterned isos become proposed standard basic idea must completely explained rfc sufficient interest community warrant consideration advance draft standard stage working implementation must rigorously tested least two independent site least  month iab convinced idea sound software work declare rfc internet standard internet standard become dod standard milstd making mandatory dod supplier david clark made nowfamous remark internet standardization consisting rough consensus running code  metric unit avoid confusion worth stating explicitly book computer science general metric unit used instead traditional english unit furlongstonefortnight system principal metric prefix listed fig  prefix typically abbreviated first letter unit greater  capitalized kb mb etc one exception historical reason kbps kilobitssec thus mbps communication line transmits   bitssec  psec  p clock tick every   second since milli micro begin letter m choice made normally m milli µ greek letter mu micro figure  principal metric prefix also worth pointing measuring memory disk file database size common industry practice unit slightly different meaning kilo mean    rather    memory always power two thus kb memory contains  byte  byte similarly mb memory contains    byte gb memory contains    byte tb database contains    byte however kbps communication line transmits  bit per second mbps lan run  bitssec speed power two unfortunately many people tend mix two system especially disk size avoid ambiguity book use symbol kb mb gb       byte respectively symbol kbps mbps gbps       bitssec respectively  outline rest book book discus principle practice computer networking chapter start discussion relevant principle followed number example illustrate principle example usually taken internet wireless network since important different example given relevant  book structured according hybrid model fig  starting chap  begin working way protocol hierarchy beginning bottom second chapter provides background field data communication cover wired wireless satellite transmission system material concerned physical layer although cover architectural rather hardware aspect several example physical layer public switched telephone network mobile telephone cable television network also discussed chapter  discus data link layer protocol mean number increasingly complex example analysis protocol also covered important realworld protocol discussed including hdlc used low mediumspeed network ppp used internet chapter  concern medium access sublayer part data link layer basic question deal determine may use network next network consists single shared channel lan satellite network many example given area wired lan wireless lan especially ethernet wireless man bluetooth satellite network bridge data link switch used connect lan also discussed chapter  deal network layer especially routing many routing algorithm static dynamic covered even good routing algorithm though traffic offered network handle congestion develop discus congestion prevent even better preventing congestion guaranteeing certain quality service discus topic well connecting heterogeneous network form internetworks lead numerous problem discussed network layer internet given extensive coverage chapter  deal transport layer much emphasis connectionoriented protocol since many application need example transport service implementation discussed detail actual code given simple example show could implemented internet transport protocol udp tcp covered detail performance issue issue concerning wireless network also covered chapter  deal application layer protocol application first topic dns internet s telephone book next come email including discussion protocol move onto web detailed discussion static content dynamic content happens client side happens server side protocol performance wireless web finally examine networked multimedia including streaming audio internet radio video demand chapter  network security topic aspect relate layer easiest treat layer thoroughly explained chapter start introduction cryptography later show cryptography used secure communication email web book end discussion area security hit privacy freedom speech censorship social issue collide head chapter  contains annotated list suggested reading arranged chapter intended help reader would like pursue study networking chapter also alphabetical bibliography reference cited book author s web site prentice hall http wwwprenhallcomtanenbaum page link many tutorial faq company industry consortium professional organization standard organization technology paper  summary computer network used numerous service company individual company network personal computer using shared server often provide access corporate information typically  follow clientserver model client workstation employee desktop accessing powerful server machine room individual network offer access variety information entertainment resource individual often access internet calling isp using modem although increasingly many people fixed connection home upandcoming area wireless networking new application mobile email access mcommerce roughly speaking network divided lan man wan internetworks characteristic technology speed niche lan cover building operate high speed man cover city example cable television system used many people access internet wan cover country continent lan man unswitched ie router wan switched wireless network becoming extremely popular especially wireless lan network interconnected form internetworks network software consists protocol rule process communicate protocol either connectionless connectionoriented network support protocol hierarchy layer providing service layer insulating detail protocol used lower layer protocol stack typically based either osi model tcpip model network transport application layer differ layer design issue include multiplexing flow control error control others much book deal protocol design network provide service user service connectionoriented connectionless network connectionless service provided one layer connectionoriented service provided layer wellknown network include internet atm network ethernet ieee  wireless lan internet evolved arpanet network added form internetwork present internet actually collection many thousand network rather single network characterizes use tcpip protocol stack throughout atm widely used inside telephone system longhaul data traffic ethernet popular lan present large company university finally wireless lan surprisingly high speed  mbps beginning widely deployed multiple computer talk requires large amount standardization hardware software organization itut iso ieee iab manage different part standardization process problem  imagine trained st bernard bernie carry box three mm tape instead flask brandy disk fill consider emergency tape contain  gigabyte dog travel side wherever may  kmhour range distance bernie higher data rate transmission line whose data rate excluding overhead  mbps  alternative lan simply big timesharing system terminal user give two advantage clientserver system using lan  performance clientserver system influenced two network factor bandwidth network many bitssec transport latency many second take first bit get client server give example network exhibit high bandwidth high latency give example one low bandwidth low latency  besides bandwidth latency parameter needed give good characterization quality service offered network used digitized voice traffic  factor delay storeandforward packetswitching system long take store forward packet switch switching time  µsec likely major factor response clientserver system client new york server california assume propagation speed copper fiber  speed light vacuum  clientserver system us satellite network satellite height  km bestcase delay response request  future everyone home terminal connected computer network instant public referendum important pending legislation become possible ultimately existing legislature  could eliminated let people expressed directly positive aspect direct democracy fairly obvious discus negative aspect  collection five router connected pointtopoint subnet pair router designer may put highspeed line mediumspeed line lowspeed line line take  m computer time generate inspect topology long take inspect  group  n  router interconnected centralized binary tree router tree node router communicates router j sending message root tree root sends message back j derive approximate expression mean number hop per message large n assuming router pair equally likely  disadvantage broadcast subnet capacity wasted multiple host attempt access channel time simplistic example suppose time divided discrete slot n host attempting use channel probability p slot fraction slot wasted due collision  two reason using layered protocol  president specialty paint corp get idea work local beer brewer produce invisible beer antilitter measure president tell legal department look turn ask engineering help result chief engineer call counterpart company discus technical aspect project engineer report back respective legal department confer telephone arrange legal aspect finally two corporate president discus financial side deal example multilayer protocol sense osi model  principal difference connectionless communication connectionoriented communication  two network provide reliable connectionoriented service one offer reliable byte stream offer reliable message stream identical distinction made give example differ  negotiation mean discussing network protocol give example  fig  service shown service implicit figure  network data link layer handle transmission error requesting damaged frame retransmitted probability frame s damaged p mean number transmission required send frame assume acknowledgement never lost  osi layer handle following dividing transmitted bit stream frame b b determining route subnet use  unit exchanged data link level called frame unit exchanged network level called packet frame encapsulate packet packet encapsulate frame explain answer  system n layer protocol hierarchy application generate message length byte layer h byte header added fraction network bandwidth filled header  list two way osi reference model tcpip reference model list two way differ  main difference tcp udp  subnet fig  b designed withstand nuclear war many bomb would take partition node two disconnected set assume bomb wipe node link connected  internet roughly doubling size every  month although one really know sure one estimate put number host  million  use data compute expected number internet host year  believe explain  file transferred two computer two acknowledgement strategy possible first one file chopped packet individually acknowledged receiver file transfer whole acknowledged second one packet acknowledged individually entire file acknowledged arrives discus two approach  atm use small fixedlength cell  long bit original  standard meter use transmission speed  mbps assume propagation speed coax  speed light vacuum  image  x  pixel  bytespixel assume image uncompressed long take transmit kbps modem channel mbps cable modem mbps ethernet mbps ethernet   ethernet wireless network similarity difference one property ethernet one frame time transmitted ethernet  share property ethernet discus answer  wireless network easy install make inexpensive since installation cost usually far overshadow equipment cost nevertheless also disadvantage name two  list two advantage two disadvantage international standard network protocol  system permanent part removable part cdrom drive cdrom important system standardized different company make permanent removable part everything still work together give three example outside computer industry international standard exist give three area outside computer industry exist  make list activity every day computer network used would life altered network suddenly switched  find network used school place work describe network type topology switching method used  ping program allows send test packet given location see long take get back try using ping see long take get location several known location thes data plot oneway transit time internet function distance best use university since location server known accurately example berkeleyedu berkeley california mitedu cambridge massachusetts vunl amsterdam netherlands wwwusydeduau sydney australia wwwuctacza cape town south africa  go ietf s web site wwwietforg see pick project like write halfpage report problem proposed solution  standardization important network world itu iso main official standardization organization go web site wwwituorg wwwisoorg respectively learn standardization work write short report kind thing standardized  internet made large number network arrangement determines topology internet considerable amount information internet topology available line use search engine find internet topology write short report summarizing finding  chapter  physical layer chapter look lowest layer depicted hierarchy fig  defines mechanical electrical timing interface network begin theoretical analysis data transmission discover mother parent nature put limit sent channel cover three kind transmission medium guided copper wire fiber optic wireless terrestrial radio satellite material provide background information key transmission technology used modern network remainder chapter devoted three example communication system used practice wide area computer network fixed telephone system mobile phone system cable television system three use fiber optic backbone organized differently use different technology last mile  theoretical basis data communication information transmitted wire varying physical property voltage current representing value voltage current singlevalued function time f model behavior signal analyze mathematically analysis subject following section  fourier analysis early th century french mathematician jeanbaptiste fourier proved reasonably behaved periodic function g period constructed sum possibly infinite number sine cosine equation  f  fundamental frequency n b n sine cosine amplitude n th harmonic term c constant decomposition called fourier series fourier series function reconstructed period known amplitude given original function time found performing sum eq  data signal finite duration handled imagining repeat entire pattern forever ie interval t  etc n amplitude computed given g multiplying side eq  sin p kft integrating  since one term summation survives a n b n summation vanishes completely similarly multiplying eq  co p kft integrating  derive b n integrating side equation stand find c result performing operation follows   bandwidthlimited signal see data communication let u consider specific example transmission ascii character b encoded bit byte bit pattern transmitted  lefthand part fig  show voltage output transmitting computer fourier analysis signal yield coefficient figure  binary signal rootmeansquare fourier amplitude b e successive approximation original signal  rootmeansquare amplitude first term shown righthand side fig   value interest square proportional energy transmitted corresponding frequency transmission facility transmit signal without losing power process fourier component equally diminished resulting signal would reduced amplitude distorted ie would nice squaredoff shape fig  unfortunately transmission facility diminish different fourier component different amount thus introducing distortion usually amplitude transmitted undiminished  frequency f c measured cyclessec hertz hz frequency cutoff frequency attenuated range frequency transmitted without strongly attenuated called bandwidth practice cutoff really sharp often quoted bandwidth  frequency half power get bandwidth physical property transmission medium usually depends construction thickness length medium case filter introduced circuit limit amount bandwidth available customer example telephone wire may bandwidth  mhz short distance telephone company add filter restricting customer  hz bandwidth adequate intelligible speech improves systemwide efficiency limiting resource usage customer let u consider signal fig  would look bandwidth low lowest frequency transmitted ie function approximated first term eq  figure  b show signal result channel allows first harmonic fundamental f pas similarly fig  c e show spectrum reconstructed function higherbandwidth channel given bit rate b bitssec time required send  bit example  bit time  b sec frequency first harmonic b  hz ordinary telephone line often called voicegrade line artificiallyintroduced cutoff frequency  hz restriction mean number highest harmonic passed roughly  b   b cutoff sharp data rate number work shown fig  number clear trying send  bps voicegrade telephone line transform fig  something looking like fig   c making accurate reception original binary bit stream tricky obvious data rate much higher  kbps hope binary signal even transmission facility completely noiseless word limiting bandwidth limit data rate even perfect channel however sophisticated coding scheme make use several voltage level exist achieve higher data rate discus later chapter figure  relation data rate harmonic   maximum data rate channel early  engineer henry nyquist realized even perfect channel finite transmission capacity derived equation expressing maximum data rate finite bandwidth noiseless channel  claude shannon carried nyquist s work extended case channel subject random thermodynamic noise shannon  briefly summarize classical result nyquist proved arbitrary signal run lowpass filter bandwidth h filtered signal completely reconstructed making  h exact sample per second sampling line faster  h time per second pointless higher frequency component sampling could recover already filtered signal consists v discrete level nyquist s theorem state example noiseless khz channel transmit binary ie twolevel signal rate exceeding  bps far considered noiseless channel random noise present situation deteriorates rapidly always random thermal noise present due motion molecule system amount thermal noise present measured ratio signal power noise power called signaltonoise ratio denote signal power noise power n signaltonoise ratio sn usually ratio quoted instead quantity  log  sn given unit called decibel db sn ratio   db ratio   db ratio   db manufacturer stereo amplifier often characterize bandwidth frequency range product linear giving db frequency end point amplification factor approximately halved log    shannon s major result maximum data rate noisy channel whose bandwidth h hz whose signaltonoise ratio sn given example channel hz bandwidth signal thermal noise ratio  db typical parameter analog part telephone system never transmit much  bps matter many signal level used matter often infrequently sample taken shannon s result derived informationtheory argument applies channel subject thermal noise counterexample treated category perpetual motion machine noted upper bound real system rarely achieve   guided transmission medium purpose physical layer transport raw bit stream one machine another various physical medium used actual transmission one niche term bandwidth delay cost ease installation maintenance medium roughly grouped guided medium copper wire fiber optic unguided medium radio laser air look following section  magnetic medium one common way transport data one computer another write onto magnetic tape removable medium eg recordable dvd physically transport tape disk destination machine read back although method sophisticated using geosynchronous communication satellite often cost effective especially application high bandwidth cost per bit transported key factor simple calculation make point clear industry standard ultrium tape hold  gigabyte box  x  x  cm hold  tape total capacity  terabyte  terabit  petabit box tape delivered anywhere united state  hour federal express company effective bandwidth transmission  terabits sec  gbps destination hour away road bandwidth increased  gbps computer network even approach bank many gigabyte data backed daily second machine bank continue function even face major flood earthquake likely transmission technology even begin approach magnetic tape performance course network getting faster tape density increasing look cost get similar picture cost ultrium tape around  bought bulk tape reused least ten time tape cost maybe  per box per usage add another  shipping probably much le cost roughly  ship  tb amount shipping gigabyte  cent network beat moral story never underestimate bandwidth station wagon full tape hurtling highway  twisted pair although bandwidth characteristic magnetic tape excellent delay characteristic poor transmission time measured minute hour millisecond many application online connection needed one oldest still common transmission medium twisted pair twisted pair consists two insulated copper wire typically  mm thick wire twisted together helical form like dna molecule twisting done two parallel wire constitute fine antenna wire twisted wave different twist cancel wire radiates le effectively common application twisted pair telephone system nearly telephone connected telephone company telco office twisted pair twisted pair run several kilometer without amplification longer distance repeater needed many twisted pair run parallel substantial distance wire coming apartment building telephone company office bundled together encased protective sheath pair bundle would interfere one another twisting part world telephone line run pole ground common see bundle several centimeter diameter twisted pair used transmitting either analog digital signal bandwidth depends thickness wire distance traveled several megabitssec achieved kilometer many case due adequate performance low cost twisted pair widely used likely remain year come  twisted pair cabling come several variety two important computer network category  twisted pair consist two insulated wire gently twisted together four pair typically grouped plastic sheath protect wire keep together prior  office building one category  cable running central wiring closet floor office scheme allowed four regular telephone two multiline telephone office connect telephone company equipment wiring closet starting around  advanced category  twisted pair introduced similar category  pair twist per centimeter result le crosstalk betterquality signal longer distance making suitable highspeed computer communication upandcoming category   capable handling signal bandwidth  mhz  mhz respectively versus mere  mhz  mhz category   respectively wiring type often referred utp unshielded twisted pair contrast bulky expensive shielded twisted pair cable ibm introduced early s proven popular outside ibm installation twisted pair cabling illustrated fig  figure  category  utp b category  utp  coaxial cable another common transmission medium coaxial cable known many friend coax pronounced coax better shielding twisted pair span longer distance higher speed two kind coaxial cable widely used one kind ohm cable commonly used intended digital transmission start kind ohm cable commonly used analog transmission cable television becoming important advent internet cable distinction based historical rather technical factor eg early dipole antenna impedance  ohm easy use existing  impedance matching transformer coaxial cable consists stiff copper wire core surrounded insulating material insulator encased cylindrical conductor often closelywoven braided mesh outer conductor covered protective plastic sheath cutaway view coaxial cable shown fig  figure  coaxial cable construction shielding coaxial cable give good combination high bandwidth excellent noise immunity bandwidth possible depends cable quality length signaltonoise ratio data signal modern cable bandwidth close  ghz coaxial cable used widely used within telephone system longdistance line largely replaced fiber optic longhaul route coax still widely used cable television metropolitan area network however   fiber optic many people computer industry take enormous pride fast computer technology improving original  ibm pc ran clock speed  mhz twenty year later pc could run  ghz gain factor  per decade bad period wide area data communication went  kbps arpanet  gbps modern optical communication gain factor  per decade time error rate went   per bit almost zero furthermore single cpu beginning approach physical limit speed light heat dissipation problem contrast current fiber technology achievable bandwidth certainly excess  gbps  tbps many people looking hard better technology material current practical signaling limit  gbps due inability convert electrical optical signal faster although laboratory  gbps achieved single fiber race computing communication communication full implication essentially infinite bandwidth although zero cost yet sunk generation computer scientist engineer taught think term low nyquist shannon limit imposed copper wire new conventional wisdom computer hopelessly slow network try avoid computation cost matter much bandwidth waste section study fiber optic see transmission technology work optical transmission system three key component light source transmission medium detector conventionally pulse light indicates  bit absence light indicates  bit transmission medium ultrathin fiber glass detector generates electrical pulse light fall attaching light source one end optical fiber detector unidirectional data transmission system accepts electrical signal convert transmits light pulse reconverts output electrical signal receiving end transmission system would leak light useless practice except interesting principle physic light ray pass one medium another example fused silica air ray refracted bent silicaair boundary shown fig  see light ray incident boundary angle  emerging angle b  amount refraction depends property two medium particular index refraction angle incidence certain critical value light refracted back silica none escape air thus light ray incident critical angle trapped inside fiber shown fig  b propagate many kilometer virtually loss figure  three example light ray inside silica fiber impinging airsilica boundary different angle b light trapped total internal reflection sketch fig  b show one trapped ray since light ray incident boundary critical angle reflected internally many different ray bouncing around different angle ray said different mode fiber property called multimode fiber  however fiber s diameter reduced wavelength light fiber act like wave guide light propagate straight line without bouncing yielding singlemode fiber singlemode fiber expensive widely used longer distance currently available singlemode fiber transmit data  gbps  km without amplification even higher data rate achieved laboratory shorter distance transmission light fiber optical fiber made glass turn made sand inexpensive raw material available unlimited amount glassmaking known ancient egyptian glass  mm thick light could shine glass transparent enough useful window developed renaissance glass used modern optical fiber transparent ocean full instead water seabed would visible surface ground airplane clear day attenuation light glass depends wavelength light well physical property glass kind glass used fiber attenuation shown fig  decibel per linear kilometer fiber attenuation decibel given formula figure  attenuation light fiber infrared region example factor two loss give attenuation  log    db figure show near infrared part spectrum used practice visible light slightly shorter wavelength   micron  micron   meter true metric purist would refer wavelength  nm  nm stick traditional usage three wavelength band used optical communication centered    micron respectively last two good attenuation property le  percent loss per kilometer  micron band higher attenuation wavelength laser electronics made material gallium arsenide three band   ghz wide light pulse sent fiber spread length propagate spreading called chromatic dispersion amount wavelength dependent one way keep spreadout pulse overlapping increase distance done reducing signaling rate  fortunately discovered making pulse special shape related reciprocal hyperbolic cosine nearly dispersion effect cancel possible send pulse thousand kilometer without appreciable shape distortion pulse called soliton considerable amount research going take soliton lab field fiber cable fiber optic cable similar coax except without braid figure  show single fiber viewed side center glass core light propagates multimode fiber core typically  micron diameter thickness human hair singlemode fiber core   micron figure  side view single fiber b end view sheath three fiber core surrounded glass cladding lower index refraction core keep light core next come thin plastic jacket protect cladding fiber typically grouped bundle protected outer sheath figure  b show sheath three fiber terrestrial fiber sheath normally laid ground within meter surface occasionally subject attack backhoe gopher near shore transoceanic fiber sheath buried trench kind seaplow deep water lie bottom snagged fishing trawler attacked giant squid fiber connected three different way first terminate connector plugged fiber socket connector lose   percent light make easy reconfigure system second spliced mechanically mechanical splice lay two carefullycut end next special sleeve clamp place alignment improved passing light junction making small adjustment maximize signal mechanical splice take trained personnel  minute result  percent light loss third two piece fiber fused melted form solid connection fusion splice almost good single drawn fiber even small amount attenuation occurs three kind splice reflection occur point splice reflected energy interfere signal two kind light source typically used signaling led light emitting diode semiconductor laser different property shown fig  tuned wavelength inserting fabryperot machzehnder interferometer source fiber fabryperot interferometer simple resonant cavity consisting two parallel mirror light incident perpendicular mirror length cavity selects wavelength fit inside integral number time machzehnder interferometer separate light two beam two beam travel slightly different distance recombined end phase certain wavelength figure  comparison semiconductor diode led light source  receiving end optical fiber consists photodiode give electrical pulse struck light typical response time photodiode  nsec limit data rate  gbps thermal noise also issue pulse light must carry enough energy detected making pulse powerful enough error rate made arbitrarily small fiber optic network fiber optic used lan well longhaul transmission although tapping complex connecting ethernet one way around problem realize ring network really collection pointtopoint link shown fig  interface computer pass light pulse stream next link also serf junction allow computer send accept message figure  fiber optic ring active repeater two type interface used passive interface consists two tap fused onto main fiber one tap led laser diode end transmitting photodiode receiving tap completely passive thus extremely reliable broken led photodiode break ring take one computer offline interface type shown fig  active repeater incoming light converted electrical signal regenerated full strength weakened retransmitted light interface computer ordinary copper wire come signal regenerator purely optical repeater used device require optical electrical optical conversion mean operate extremely high bandwidth active repeater fails ring broken network go hand since signal regenerated interface individual computertocomputer link kilometer long virtually limit total size ring passive interface lose light junction number computer total ring length greatly restricted ring topology way build lan using fiber optic also possible hardware broadcasting using passive star construction fig  design interface fiber running transmitter silica cylinder incoming fiber fused one end cylinder similarly fiber fused end cylinder run receiver whenever interface emits light pulse diffused inside passive star illuminate receiver thus achieving broadcast  effect passive star combine incoming signal transmits merged result line since incoming energy divided among outgoing line number node network limited sensitivity photodiodes figure  passive star connection fiber optic network comparison fiber optic copper wire instructive compare fiber copper fiber many advantage start handle much higher bandwidth copper alone would require use highend network due low attenuation repeater needed every  km long line versus every  km copper substantial cost saving fiber also advantage affected power surge electromagnetic interference power failure affected corrosive chemical air making ideal harsh factory environment oddly enough telephone company like fiber different reason thin lightweight many existing cable duct completely full room add new capacity removing copper replacing fiber empty duct copper excellent resale value copper refiner see high grade ore also fiber much lighter copper one thousand twisted pair  km long weigh  kg two fiber capacity weigh  kg greatly reduces need expensive mechanical support system must maintained new route fiber win hand due much lower installation cost finally fiber leak light quite difficult tap property give fiber excellent security potential wiretapper downside fiber le familiar technology requiring skill engineer fiber damaged easily bent much since optical transmission inherently unidirectional twoway communication requires either two fiber two frequency band one fiber finally fiber interface cost electrical interface nevertheless future fixed data communication distance meter clearly fiber discussion aspect fiber optic network see hecht   wireless transmission age given rise information junky people need online time mobile user twisted pair coax fiber optic use need get hit data laptop  notebook shirt pocket palmtop wristwatch computer without tethered terrestrial communication infrastructure user wireless communication answer following section look wireless communication general many important application besides providing connectivity user want surf web beach people believe future hold two kind communication fiber wireless fixed ie nonmobile computer telephone fax use fiber mobile one use wireless wireless advantage even fixed device circumstance example running fiber building difficult due terrain mountain jungle swamp etc wireless may better noteworthy modern wireless digital communication began hawaiian island large chunk pacific ocean separated user telephone system inadequate  electromagnetic spectrum electron move create electromagnetic wave propagate space even vacuum wave predicted british physicist james clerk maxwell  first observed german physicist heinrich hertz  number oscillation per second wave called frequency f measured hz honor heinrich hertz distance two consecutive maximum minimum called wavelength universally designated greek letter l lambda antenna appropriate size attached electrical circuit electromagnetic wave broadcast efficiently received receiver distance away wireless communication based principle vacuum electromagnetic wave travel speed matter frequency speed usually called speed light c approximately  x   msec  foot  cm per nanosecond case could made redefining foot distance light travel vacuum  nsec rather basing shoe size longdead king copper fiber speed slows  value becomes slightly frequency dependent speed light ultimate speed limit object signal ever move faster fundamental relation f l c vacuum equation  since c constant know f find l vice versa rule thumb l meter f mhz l f  example mhz wave  meter long mhz wave meters long meter wave frequency  mhz electromagnetic spectrum shown fig  radio microwave infrared visible light portion spectrum used transmitting information modulating amplitude frequency phase wave ultraviolet light xrays gamma ray would even better due higher frequency hard produce modulate propagate well building dangerous living thing band listed bottom fig  official itu name based wavelength lf band go  km  km approximately  khz  khz term lf mf hf refer low medium high frequency respectively clearly name assigned nobody expected go  mhz higher band later named ultra super extremely tremendously high frequency band beyond name incredibly astonishingly prodigiously high frequency ihf ahf phf would sound nice figure  electromagnetic spectrum us communication  amount information electromagnetic wave carry related bandwidth current technology possible encode bit per hertz low frequency often many  high frequency coaxial cable  mhz bandwidth carry several gigabitssec fig  obvious networking people like fiber optic much solve eq  f differentiate respect l get go finite difference instead differential look absolute value get equation  thus given width wavelength band dl compute corresponding frequency band f data rate band produce wider band higher data rate example consider micron band fig  l x   dl  x   sod f  thz say  bitshz get  tbps transmission use narrow frequency band ie ff  get best reception many wattshz however case wide band used two variation frequency hopping spread spectrum transmitter hop frequency frequency hundred time per second popular military communication make transmission hard detect next impossible jam also offer good resistance multipath fading direct signal always arrives receiver first reflected signal follow longer path arrive later receiver may changed frequency longer accepts signal previous frequency thus eliminating interference direct reflected signal recent year technique also applied commercially—both  bluetooth use example curious footnote technique coinvented austrianborn sex goddess hedy lamarr first woman appear nude motion picture  czech film extase first husband armament manufacturer told easy block radio signal used control torpedo  discovered selling weapon hitler horrified disguised maid escape fled hollywood continue career movie actress spare time invented frequency hopping help allied war effort scheme used  frequency number key frequency piano invention friend musical composer george antheil received u patent  however unable convince u navy invention practical use never received royalty year patent expired become popular form spread spectrum direct sequence spread spectrum spread signal wide frequency band also gaining popularity commercial world particular secondgeneration mobile phone use become dominant third generation thanks good spectral efficiency noise immunity property wireless lan also use come back spread spectrum later chapter fascinating detailed history spread spectrum communication see scholtz  moment assume transmission use narrow frequency band discus various part electromagnetic spectrum fig  used starting radio  radio transmission radio wave easy generate travel long distance penetrate building easily widely used communication indoors outdoors radio wave also omnidirectional meaning travel direction source transmitter receiver carefully aligned physically sometimes omnidirectional radio good sometimes bad s general motor decided equip new cadillacs computercontrolled antilock brake driver stepped brake pedal computer pulsed brake instead locking hard one fine day ohio highway patrolman began using new mobile radio call headquarters suddenly cadillac next began behaving like bucking bronco officer pulled car driver claimed done nothing car gone crazy eventually pattern began emerge cadillacs would sometimes go berserk major highway ohio highway patrol watching long long time general motor could understand cadillacs worked fine state also minor road ohio much searching discover cadillac s wiring made fine antenna frequency used ohio highway patrol s new radio system property radio wave frequency dependent low frequency radio wave pas obstacle well power fall sharply distance source roughly  r  air high frequency radio wave tend travel straight line bounce obstacle also absorbed rain frequency radio wave subject interference motor electrical equipment due radio s ability travel long distance interference user problem reason government tightly license use radio transmitter one exception discussed vlf lf mf band radio wave follow ground illustrated fig  wave detected perhaps  km lower frequency le higher one radio broadcasting us mf band ground wave boston radio station heard easily new york radio wave band pas building easily portable radio work indoors main problem using band data communication low bandwidth see eq  figure  vlf lf mf band radio wave follow curvature earth b hf band bounce ionosphere  hf vhf band ground wave tend absorbed earth however wave reach ionosphere layer charged particle circling earth height   km refracted sent back earth shown fig  b certain atmospheric condition signal bounce several time amateur radio operator ham use band talk long distance military also communicate hf vhf band  microwave transmission  mhz wave travel nearly straight line therefore narrowly focused concentrating energy small beam mean parabolic antenna like familiar satellite tv dish give much higher signaltonoise ratio transmitting receiving antenna must accurately aligned addition directionality allows multiple transmitter lined row communicate multiple receiver row without interference provided minimum spacing rule observed fiber optic decade microwave formed heart longdistance telephone transmission system fact mci one s first competitor deregulated built entire system microwave communication going tower tower ten kilometer apart even company s name reflected mci stood microwave communication inc mci since gone fiber merged worldcom since microwave travel straight line tower far apart earth get way think san francisco amsterdam link consequently repeater needed periodically higher tower farther apart distance repeater go roughly square root tower height meterhigh tower repeater spaced  km apart unlike radio wave lower frequency microwave pas building well addition even though beam may well focused transmitter still divergence space wave may refracted lowlying atmospheric layer may take slightly longer arrive direct wave delayed wave may arrive phase direct wave thus cancel signal effect called multipath fading often serious problem weather frequency dependent operator keep  percent channel idle spare switch multipath fading wipe frequency band temporarily demand spectrum drive operator yet higher frequency band  ghz routine use  ghz new problem set absorption water wave centimeter long absorbed rain effect would fine one planning build huge outdoor microwave oven roasting passing bird communication severe problem multipath fading solution shut link rained route around summary microwave communication widely used longdistance telephone communication mobile phone television distribution us severe shortage spectrum developed several significant advantage fiber main one right way needed buying small plot ground every  km putting microwave tower one bypass telephone system communicate directly mci managed get started new longdistance telephone company quickly sprint went completely different route formed southern pacific railroad already owned large amount right way buried fiber next track microwave also relatively inexpensive putting two simple tower may big pole four guy wire putting antenna one may cheaper burying  km fiber congested urban area mountain may also cheaper leasing telephone company s fiber especially telephone company yet even fully paid copper ripped put fiber  politics electromagnetic spectrum prevent total chaos national international agreement get use frequency since everyone want higher data rate everyone want spectrum national government allocate spectrum fm radio television mobile phone well telephone company police maritime navigation military government many competing user worldwide agency itur warc try coordinate allocation device work multiple country manufactured however country bound itur s recommendation fcc federal communication commission allocation united state occasionally rejected itur s recommendation usually required politicallypowerful group giving piece spectrum even piece spectrum allocated use mobile phone additional issue carrier allowed use frequency three algorithm widely used past oldest algorithm often called beauty contest requires carrier explain proposal serf public interest best government official decide nice story enjoy government official award property worth billion dollar favorite company often lead bribery corruption nepotism worse furthermore even scrupulously honest government official thought foreign company could better job national company would lot explaining observation led algorithm  holding lottery among interested company problem idea company interest using spectrum enter lottery say fast food restaurant shoe store chain win resell spectrum carrier huge profit risk bestowing huge windfall alert otherwise random company severely criticized many led algorithm  auctioning bandwidth highest bidder england auctioned frequency needed thirdgeneration mobile system  expected get  billion actually received  billion carrier got feeding frenzy scared death missing mobile boat event switched nearby government greedy bit inspired hold auction worked also left carrier much debt close bankruptcy even best case take many year recoup licensing fee completely different approach allocating frequency allocate let everyone transmit regulate power used station short range interfere accordingly government set aside frequency band called ism industrial scientific medical band unlicensed usage garage door opener cordless phone radiocontrolled toy wireless mouse numerous wireless household device use ism band minimize interference uncoordinated device fcc mandate device ism band use spread spectrum technique similar rule apply country location ism band varies somewhat country country united state example device whose power  watt use band shown fig  without requiring fcc license mhz band work best crowded available worldwide ghz band available country subject interference microwave oven radar installation bluetooth  wireless lan operate band ghz band new relatively undeveloped equipment expensive since a us quickly become popular figure  ism band united state   infrared millimeter wave unguided infrared millimeter wave widely used shortrange communication remote control used television vcr stereo use infrared communication relatively directional cheap easy build major drawback pas solid object try standing remote control television see still work general go longwave radio toward visible light wave behave like light le le like radio hand fact infrared wave pas solid wall well also plus mean infrared system one room building interfere similar system adjacent room building control neighbor s television remote control furthermore security infrared system eavesdropping better radio system precisely reason therefore government license needed operate infrared system contrast radio system must licensed outside ism band infrared communication limited use desktop example connecting notebook computer printer major player communication game  lightwave transmission unguided optical signaling use century paul revere used binary optical signaling old north church prior famous ride modern application connect lan two building via laser mounted rooftop coherent optical signaling using laser inherently unidirectional building need laser photodetector scheme offer high bandwidth low cost also relatively easy install unlike microwave require fcc license laser s strength narrow beam also weakness aiming laser beam mm wide target size pin head  meter away requires marksmanship latterday annie oakley usually lens put system defocus beam slightly disadvantage laser beam penetrate rain thick fog normally work well sunny day however author attended conference modern hotel europe conference organizer thoughtfully provided room full terminal attendee read email boring presentation since local ptt unwilling install large number telephone line  day organizer put laser roof aimed university s computer science building kilometer away tested night conference worked perfectly  am next morning bright sunny day link failed completely stayed day evening organizer tested carefully worked absolutely perfectly pattern repeated two day consistently conference organizer discovered problem heat sun daytime caused convection current rise roof building shown fig  turbulent air diverted beam made dance around detector atmospheric seeing like make star twinkle astronomer put telescope top mountains—to get much atmosphere possible also responsible shimmering road hot day wavy image seen one look hot radiator figure  convection current interfere laser communication system bidirectional system two laser pictured   communication satellite s early s people tried set communication system bouncing signal metallized weather balloon unfortunately received signal weak practical use u navy noticed kind permanent weather balloon sky—the moon—and built operational system shiptoshore communication bouncing signal progress celestial communication field wait first communication satellite launched key difference artificial satellite real one artificial one amplify signal sending back turning strange curiosity powerful communication system communication satellite interesting property make attractive many application simplest form communication satellite thought big microwave repeater sky contains several transponder listens portion spectrum amplifies incoming signal rebroadcast another frequency avoid interference incoming signal downward beam broad covering substantial fraction earth s surface narrow covering area hundred kilometer diameter mode operation known bent pipe according kepler s law orbital period satellite varies radius orbit  power higher satellite longer period near surface earth period  minute consequently loworbit satellite pas view fairly quickly many needed provide continuous coverage altitude  km period  hour altitude  km period one month anyone observed moon regularly testify satellite s period important issue determining place another issue presence van allen belt layer highly charged particle trapped earth s magnetic field satellite flying within would destroyed fairly quickly highlyenergetic charged particle trapped earth s magnetic field factor lead three region satellite placed safely region property illustrated fig  briefly describe satellite inhabit region figure  communication satellite property including altitude earth roundtrip delay time number satellite needed global coverage   geostationary satellite  science fiction writer arthur c clarke calculated satellite altitude  km circular equatorial orbit would appear remain motionless sky would need tracked clarke  went describe complete communication system used manned geostationary satellite including orbit solar panel radio frequency launch procedure unfortunately concluded satellite impractical due impossibility putting powerhungry fragile vacuum tube amplifier orbit never pursued idea although wrote science fiction story invention transistor changed first artificial communication satellite telstar launched july  since communication satellite become multibillion dollar business aspect outer space become highly profitable highflying satellite often called geo geostationary earth orbit satellite current technology unwise geostationary satellite spaced much closer  degree degree equatorial plane avoid interference spacing  degree   satellite sky however transponder use multiple frequency polarization increase available bandwidth prevent total chaos sky orbit slot allocation done itu process highly political country barely stone age demanding their orbit slot purpose leasing highest bidder country however maintain national property right extend moon country legal right orbit slot territory add fight commercial telecommunication application television broadcaster government military also want piece orbiting pie modern satellite quite large weighing  kg consuming several kilowatt electric power produced solar panel effect solar lunar planetary gravity tend move away assigned orbit slot orientation effect countered onboard rocket motor finetuning activity called station keeping however fuel motor exhausted typically  year satellite drift tumble helplessly turned eventually orbit decay satellite reenters atmosphere burn occasionally crash earth orbit slot bone contention frequency downlink transmission interfere existing microwave user consequently itu allocated certain frequency band satellite user main one listed fig  c band first designated commercial satellite traffic two frequency range assigned lower one downlink traffic satellite upper one uplink traffic satellite allow traffic go way time two channel required one going way band already overcrowded also used common carrier terrestrial microwave link l band added international agreement  however narrow crowded  figure  principal satellite band next highest band available commercial telecommunication carrier ku k band band yet congested frequency satellite spaced close  degree however another problem exists rain water excellent absorber short microwave fortunately heavy storm usually localized using several widely separated ground station instead one circumvents problem price extra antenna extra cable extra electronics enable rapid switching station bandwidth also allocated ka k band commercial satellite traffic equipment needed use still expensive addition commercial band many government military band also exist modern satellite around  transponder mhz bandwidth usually transponder operates bent pipe recent satellite onboard processing capacity allowing sophisticated operation earliest satellite division transponder channel static bandwidth simply split fixed frequency band nowadays transponder beam divided time slot various user taking turn study two technique frequency division multiplexing time division multiplexing detail later chapter first geostationary satellite single spatial beam illuminated  earth s surface called footprint enormous decline price size power requirement microelectronics much sophisticated broadcasting strategy become possible satellite equipped multiple antenna multiple transponder downward beam focused small geographical area multiple upward downward transmission take place simultaneously typically socalled spot beam elliptically shaped small hundred km diameter communication satellite united state typically one wide beam contiguous  state plus spot beam alaska hawaii new development communication satellite world development lowcost microstations sometimes called vsats small aperture terminal abramson  tiny terminal meter smaller antenna versus  standard geo antenna put  watt power uplink generally good  kbps downlink often  kbps direct broadcast satellite television us technology oneway transmission many vsat system microstations enough power communicate directly one another via satellite course instead special ground station hub large highgain antenna needed relay traffic vsats shown fig  mode operation either sender receiver large antenna powerful amplifier tradeoff longer delay return cheaper enduser station figure  vsats using hub  vsats great potential rural area widely appreciated half world s population life hour s walk nearest telephone stringing telephone wire thousand small village far beyond budget third world government installing meter vsat dish powered solar cell often feasible vsats provide technology wire world communication satellite several property radically different terrestrial pointtopoint link begin even though signal satellite travel speed light nearly  kmsec long roundtrip distance introduces substantial delay geo satellite depending distance user ground station elevation satellite horizon endtoend transit time   msec typical value  msec  msec vsat system hub comparison purpose terrestrial microwave link propagation delay roughly  µseckm coaxial cable fiber optic link delay approximately  µseckm latter slower former electromagnetic signal travel faster air solid material another important property satellite inherently broadcast medium cost send message thousand station within transponder s footprint send one application property useful example one could imagine satellite broadcasting popular web page cache large number computer spread wide area even broadcasting simulated pointtopoint line satellite broadcasting may much cheaper hand security privacy point view satellite complete disaster everybody hear everything encryption essential security required satellite also property cost transmitting message independent distance traversed call across ocean cost service call across street satellite also excellent error rate deployed almost instantly major consideration military communication  mediumearth orbit satellite much lower altitude two van allen belt find meo mediumearth orbit satellite viewed earth drift slowly longitude taking something like  hour circle earth accordingly must tracked move sky lower geos smaller footprint ground require le powerful transmitter reach currently used telecommunication examine  gps global positioning system satellite orbiting  km example meo satellite   lowearth orbit satellite moving altitude come leo lowearth orbit satellite due rapid motion large number needed complete system hand satellite close earth ground station need much power roundtrip delay millisecond section examine three example two aimed voice communication one aimed internet service iridium mentioned first  year satellite era loworbit satellite rarely used zip view quickly  motorola broke new ground filing application fcc asking permission launch  loworbit satellite iridium project element  iridium plan later revised use  satellite project renamed dysprosium element  probably sounded much like disease idea soon one satellite went view another would replace proposal set feeding frenzy among communication company sudden everyone wanted launch chain loworbit satellite seven year cobbling together partner financing partner launched iridium satellite  communication service began november  unfortunately commercial demand large heavy satellite telephone negligible mobile phone network grown spectacularly since  consequence iridium profitable forced bankruptcy august  one spectacular corporate fiasco history satellite asset worth  billion subsequently purchased investor  million kind extraterrestrial garage sale iridium service restarted march  iridium s business providing worldwide telecommunication service using handheld device communicate directly iridium satellite provides voice data paging fax navigation service everywhere land sea air customer include maritime aviation oil exploration industry well people traveling part world lacking telecommunication infrastructure eg desert mountain jungle third world country iridium satellite positioned altitude  km circular polar orbit arranged northsouth necklace one satellite every  degree latitude six satellite necklace entire earth covered suggested fig  people knowing much chemistry think arrangement big dysprosium atom earth nucleus satellite electron figure  iridium satellite form six necklace around earth b  moving cell cover earth  satellite maximum  cell spot beam total  cell surface earth shown fig  b satellite capacity  channel  used paging navigation others used data voice interesting property iridium communication distant customer take place space one satellite relaying data next one illustrated fig  see caller north pole contacting satellite directly overhead call relayed via satellite finally sent callee south pole figure  relaying space b relaying ground globalstar alternative design iridium globalstar based  leo satellite us different switching scheme iridium whereas iridium relay call satellite satellite requires sophisticated switching equipment satellite globalstar us traditional bentpipe design call originating north pole fig  b sent back earth picked large ground station santa s workshop call routed via terrestrial network ground station nearest callee delivered bentpipe connection shown advantage scheme put much complexity ground easier manage also use large ground station antenna put powerful signal receive weak one mean lowerpowered telephone used telephone put milliwatt power signal get back ground station fairly weak even amplified satellite teledesic iridium targeted telephone user located odd place next example teledesic targeted bandwidthhungry internet user world conceived  mobile phone pioneer craig mccaw microsoft founder bill gate unhappy snail s pace world s telephone company providing high bandwidth computer user goal teledesic system provide million concurrent internet user uplink much  mbps downlink  mbps using small fixed vsattype antenna completely bypassing telephone system telephone company pieinthesky original design system consisting  smallfootprint satellite arranged  plane lower van allen belt altitude  km later changed  satellite larger footprint transmission occurs relatively uncrowded highbandwidth ka band system packetswitched space satellite capable routing packet neighboring satellite user need bandwidth send packet requested assigned dynamically  msec system scheduled go live  go planned   satellite versus fiber comparison satellite communication terrestrial communication instructive recently  year ago case could made future communication lay communication satellite telephone system changed little past  year showed sign changing next  year glacial movement caused small part regulatory environment telephone company expected provide good voice service reasonable price return got guaranteed profit investment people data transmit bps modem available pretty much introduction competition  united state somewhat later europe changed radically telephone company began replacing longhaul network fiber introduced highbandwidth service like adsl asymmetric digital subscriber line also stopped longtime practice charging artificiallyhigh price longdistance user subsidize local service sudden terrestrial fiber connection looked like longterm winner nevertheless communication satellite major niche market fiber sometimes address look first single fiber principle potential bandwidth satellite ever launched bandwidth available user fiber installed used within telephone system handle many long distance call provide individual user high bandwidth satellite practical user erect antenna roof building completely bypass telephone system get high bandwidth teledesic based idea second niche mobile communication many people nowadays want communicate jogging driving sailing flying terrestrial fiber optic link use satellite link potentially possible however combination cellular radio fiber adequate job user probably airborne sea third niche situation broadcasting essential message sent satellite received thousand ground station example organization transmitting stream stock bond commodity price thousand dealer might find satellite system much cheaper simulating broadcasting ground fourth niche communication place hostile terrain poorly developed terrestrial infrastructure indonesia example satellite domestic telephone traffic launching one satellite cheaper stringing thousand undersea cable among  island archipelago fifth niche market satellite cover area obtaining right way laying fiber difficult unduly expensive sixth rapid deployment critical military communication system time war satellite win easily short look like mainstream communication future terrestrial fiber optic combined cellular radio specialized us satellite better however one caveat applies economics although fiber offer bandwidth certainly possible terrestrial satellite communication compete aggressively price advance technology radically reduce cost deploying satellite eg future space shuttle toss dozen satellite one launch loworbit satellite catch big way certain fiber win market  public switched telephone network two computer owned company organization located close need communicate often easiest run cable lan work way however distance large many computer cable pas public road public right way cost running private cable usually prohibitive furthermore every country  world stringing private transmission line across underneath public property also illegal consequently network designer must rely existing telecommunication facility facility especially pstn public switched telephone network usually designed many year ago completely different goal mind transmitting human voice moreorless recognizable form suitability use computercomputer communication often marginal best situation rapidly changing introduction fiber optic digital technology event telephone system tightly intertwined wide area computer network worth devoting time studying see order magnitude problem let u make rough illustrative comparison property typical computercomputer connection via local cable via dialup telephone line cable running two computer transfer data   bps maybe contrast dialup line maximum data rate  kbps difference factor almost  difference duck waddling leisurely grass rocket moon dialup line replaced adsl connection still factor – difference trouble course computer system designer used working computer system suddenly confronted another system whose performance point view   order magnitude worse surprising devoted much time effort trying figure use efficiently following section describe telephone system show work additional information innards telephone system see bellamy   structure telephone system soon alexander graham bell patented telephone  hour ahead rival elisha gray enormous demand new invention initial market sale telephone came pair customer string single wire electron returned earth telephone owner wanted talk n telephone owner separate wire strung n house within year city covered wire passing house tree wild jumble became immediately obvious model connecting every telephone every telephone shown fig  going work figure  fullyinterconnected network b centralized switch c twolevel hierarchy credit bell saw formed bell telephone company opened first switching office new connecticut  company ran wire customer s house office make call customer would crank phone make ringing sound telephone company office attract attention operator would manually connect caller callee using jumper cable model single switching office illustrated fig  b pretty soon bell system switching office springing everywhere people wanted make longdistance call city bell system began connect switching office original problem soon returned connect every switching office every switching office mean wire quickly became unmanageable secondlevel switching office invented multiple secondlevel office needed illustrated fig  c eventually hierarchy grew five level   three major part telephone system place switching office wire customer switching office balanced insulated twisted pair instead open wire earth return longdistance connection switching office improvement three area since basic bell system model remained essentially intact  year short technical history telephone system see hawley  prior  breakup telephone system organized highlyredundant multilevel hierarchy following description highly simplified give essential flavor nevertheless telephone two copper wire coming go directly telephone company s nearest end office also called local central office distance typically   km shorter city rural area united state alone  end office twowire connection subscriber s telephone end office known trade local loop world s local loop stretched end end would extend moon back  time one time  percent s capital value copper local loop effect world s largest copper mine fortunately fact widely known investment community known corporate raider might bought terminated telephone service united state ripped wire sold wire copper refiner get quick payback subscriber attached given end office call another subscriber attached end office switching mechanism within office set direct electrical connection two local loop connection remains intact duration call called telephone attached another end office different procedure used end office number outgoing line one nearby switching center called toll office within local area tandem office line called toll connecting trunk caller s callee s end office happen toll connecting trunk toll office likely occurrence relatively close connection may established within toll office telephone network consisting telephone small dot end office large dot toll office square shown fig  c caller callee toll office common path established somewhere higher hierarchy primary sectional regional office form network toll office connected toll primary sectional regional exchange communicate via highbandwidth intertoll trunk also called interoffice trunk number different kind switching center topology eg two sectional office direct connection must go regional office varies country country depending country s telephone density figure  show mediumdistance connection might routed figure  typical circuit route mediumdistance call variety transmission medium used telecommunication local loop consist category  twisted pair nowadays although early day telephony uninsulated wire spaced  cm apart telephone pole common switching office coaxial cable microwave especially fiber optic widely used past transmission throughout telephone system analog actual voice signal transmitted electrical voltage source destination advent fiber optic digital electronics computer trunk switch digital leaving local loop last piece analog  technology system digital transmission preferred necessary accurately reproduce analog waveform passed many amplifier long call able correctly distinguish   enough property make digital transmission reliable analog also cheaper easier maintain summary telephone system consists three major component  local loop analog twisted pair going house business  trunk digital fiber optic connecting switching office  switching office call moved one trunk another short digression politics telephone come back three component detail local loop provide everyone access whole system critical unfortunately also weakest link system longhaul trunk main issue collect multiple call together send fiber subject called multiplexing study three different way finally two fundamentally different way switching look  politics telephone decade prior  bell system provided local long distance service throughout united state s u federal government came believe illegal monopoly sued break government january   broken long line  boc bell operating company piece  bocs grouped seven regional bocs rbocs make economically viable entire nature telecommunication united state changed overnight court order act congress exact detail divestiture described socalled mfj modified final judgment oxymoron ever one—if judgment could modified clearly final event led increased competition better service lower long distance price consumer business however price local service rose cross subsidy longdistance calling eliminated local service become self supporting many country introduced competition along similar line make clear could united state divided  lata local access transport area roughly lata big area covered one area code within lata one lec local exchange carrier monopoly traditional telephone service within area important lecs bocs although latas contained one  independent telephone company operating lecs interlata traffic handled different kind company ixc interexchange carrier originally long line serious ixc worldcom sprint wellestablished competitor ixc business one concern breakup ensure ixcs would treated equally term line quality tariff number digit customer would dial use way handled illustrated fig  see three example latas several end office latas   also small hierarchy tandem office intralata toll office figure  relationship latas lecs ixcs circle lec switching office hexagon belongs ixc whose number  ixc wish handle call originating lata build switching office called pop point presence lec required connect ixc every end office either directly latas   indirectly lata  furthermore term connection technical financial must identical ixcs way subscriber say lata  choose ixc use calling subscriber lata  part mfj ixcs forbidden offer local telephone service lecs forbidden offer interlata telephone service although free enter business operating fried chicken restaurant  fairly unambiguous statement unfortunately technology funny way making law obsolete neither cable television mobile phone covered agreement cable television went one way two way mobile phone exploded popularity lecs ixcs began buying merging cable mobile operator  congress saw trying maintain distinction various kind company longer tenable drafted bill allow cable tv company local telephone company longdistance carrier mobile operator enter one another s business idea company could offer customer single integrated package containing cable tv telephone information service different company would compete service price bill enacted law february  result bocs became ixcs company cable television operator began offering local telephone service competition lecs one interesting property  law requirement lecs implement local number portability mean customer change local telephone company without get new telephone number provision remove huge hurdle many people make much inclined switch lecs thus increasing competition result u telecommunication landscape currently undergoing radical restructuring many country starting follow suit often country wait see kind experiment work u work well thing work badly try something else  local loop modem adsl wireless time start detailed study telephone system work main part system illustrated fig  see local loop trunk toll office end office contain switching equipment switch call end office  local loop u large country fact recently area code exchange indicated end office  xxxx specific end office  subscriber numbered   advent competition local service system longer tenable multiple company wanted end office code also number code basically used complex mapping scheme introduced  figure  use analog digital transmission computer computer call conversion done modem codecs let u begin part people familiar twowire local loop coming telephone company end office house small business local loop also frequently referred last mile although length several mile used analog signaling  year likely continue year come due high cost converting digital nevertheless even last bastion analog transmission change taking place section study traditional local loop new development taking place particular emphasis data communication home computer computer wish send digital data analog dialup line data must first converted analog form transmission local loop conversion done device called modem something study shortly telephone company end office data converted digital form transmission longhaul trunk end computer modem reverse conversion—digital analog—is needed traverse local loop destination arrangement shown fig  isp  internet service provider bank modem connected different local loop isp handle many connection modem assuming server server enough computing power arrangement normal one kbps modem appeared reason become apparent shortly analog signaling consists varying voltage time represent information stream transmission medium perfect receiver would receive exactly signal transmitter sent unfortunately medium perfect received signal transmitted signal digital data difference lead error transmission line suffer three major problem attenuation delay distortion noise attenuation loss energy signal propagates outward loss expressed decibel per kilometer amount energy lost depends frequency see effect frequency dependence imagine signal simple waveform series fourier component component attenuated different amount result different fourier spectrum receiver make thing worse different fourier component also propagate different speed wire speed difference lead distortion signal received end another problem noise unwanted energy source transmitter thermal noise caused random motion electron wire unavoidable crosstalk caused inductive  coupling two wire close sometimes talking telephone hear another conversation background crosstalk finally impulse noise caused spike power line cause digital data impulse noise wipe one bit modem due problem discussed especially fact attenuation propagation speed frequency dependent undesirable wide range frequency signal unfortunately square wave used digital signal wide frequency spectrum thus subject strong attenuation delay distortion effect make baseband dc signaling unsuitable except slow speed short distance get around problem associated dc signaling especially telephone line ac signaling used continuous tone  hz range called sine wave carrier introduced amplitude frequency phase modulated transmit information amplitude modulation two different amplitude used represent   respectively frequency modulation also known frequency shift keying two different tone used term keying also widely used industry synonym modulation simplest form phase modulation carrier wave systematically shifted   degree uniformly spaced interval better scheme use shift     degree transmit  bit information per time interval also always requiring phase shift end every time interval make easier receiver recognize boundary time interval figure  illustrates three form modulation fig  one amplitude nonzero one zero fig  b two frequency used fig  c phase shift either present absent bit boundary device accepts serial stream bit input produce carrier modulated one method vice versa called modem modulatordemodulator modem inserted digital computer analog telephone system figure  binary signal b amplitude modulation c frequency modulation phase modulation  go higher higher speed possible keep increasing sampling rate nyquist theorem say even perfect hz line dialup telephone decidedly point sampling faster  hz practice modem sample  timessec focus getting bit per sample number sample per second measured baud baud one symbol sent thus n baud line transmits n symbolssec example baud line sends one symbol every  µsec symbol consists  volt logical   volt logical  bit rate  bps however voltage     volt used every symbol consists  bit baud line transmit  symbolssec data rate  bps similarly four possible phase shift also  bitssymbol bit rate twice baud rate latter technique widely used called qpsk quadrature phase shift keying concept bandwidth baud symbol bit rate commonly confused let u restate bandwidth medium range frequency pas minimum attenuation physical property medium usually  maximum frequency measured hz baud rate number samplessec made sample sends one piece information one symbol baud rate symbol rate thus modulation technique eg qpsk determines number bitssymbol bit rate amount information sent channel equal number symbolssec time number bitssymbol advanced modem use combination modulation technique transmit multiple bit per baud often multiple amplitude multiple phase shift combined transmit several bitssymbol fig  see dot     degree constant amplitude distance origin phase dot indicated angle line origin make positive xaxis fig  four valid combination used transmit  bit per symbol qpsk figure  qpsk b qam c qam fig  b see different modulation scheme four amplitude four phase used total  different combination modulation scheme used transmit  bit per symbol called qam quadrature amplitude modulation sometimes term qam used instead qam used example transmit  bps baud line figure  c yet another modulation scheme involving amplitude phase allows  different combination  bit transmitted per symbol called qam higherorder qams also used diagram fig  show legal combination amplitude phase called constellation diagram highspeed modem standard constellation pattern talk modem use one although modem emulate slower one many point constellation pattern even small amount noise detected amplitude phase result error potentially many bad bit reduce chance error standard higher speed modem error correction adding extra bit sample scheme known tcm trellis coded modulation thus example v modem standard us  constellation point transmit  data bit  parity bit per symbol  baud achieve  bps error correction constellation  pattern shown fig  decision rotate around origin  degree done engineering reason rotated unrotated constellation information capacity figure  v  bps b v bi  bps next step  bps  bps called v bi speed achieved transmitting  data bit  parity bit per sample  baud constellation pattern  point qam used shown fig  b fax modem use speed transmit page scanned bit map qam used standard telephone modem used cable network shall see next telephone modem v bi v run  bps  baud  data bitssymbol final modem series v bi us  data bitssymbol  baud achieve  bps increase effective data rate many modem compress data transmitting get effective data rate higher  bps hand nearly modem test line starting transmit user data find quality lacking cut back speed lower rated maximum thus effective modem speed observed user lower equal higher official rating modern modem allow traffic direction time using different frequency different direction connection allows traffic direction simultaneously called full duplex twolane road full duplex connection allows traffic either way one way time called half duplex single railroad track half duplex connection allows traffic one way called simplex oneway street simplex another example simplex connection optical fiber laser one end light detector end reason standard modem stop  shannon limit telephone system  kbps going faster would violate law physic department thermodynamics find whether kbps modem theoretically possible stay tuned theoretical limit  kbps average length local loop quality line  kbps determined average length local loop fig  call originating computer left terminating isp  go two local loop analog signal source destination add noise signal could get rid one local loop maximum rate would doubled isp  precisely pure digital feed nearest end office digital signal used trunk fed directly isp  eliminating codecs modem analog transmission end thus one end connection purely digital isps maximum data rate high  kbps two home user modem analog line maximum  kbps  reason  kbps modem use nyquist theorem telephone channel  hz wide including guard band maximum number independent sample per second thus  number bit per sample u  one used control purpose allowing  bitsec user data europe  bit available user bitsec modem could used get international agreement standard  chosen modem standard called v provides kbps upstream channel user isp  kbps downstream channel isp user usually data transport isp user way eg requesting web page take byte actual page could megabyte theory upstream channel wider  kbps would possible since many local loop noisy even  kbps decided allocate bandwidth downstream channel increase chance actually working  kbps next step beyond v v modem capable  kbps upstream channel line handle also determine appropriate speed use half usual  second required older modem finally allow incoming telephone call interrupt internet session provided line call waiting service digital subscriber line telephone industry finally got  kbps patted back job well done meanwhile cable tv industry offering speed  mbps shared cable satellite company planning offer upward  mbps internet access became increasingly important part business telephone company lecs began realize needed competitive product answer start offering new digital service local loop service bandwidth standard telephone service sometimes called broadband although term really marketing concept specific technical concept initially many overlapping offering general name xdsl digital subscriber line various x discus primarily focus probably going become popular service adsl asymmetric dsl since adsl still developed standard fully place detail given may change time basic picture remain valid information adsl see summer  vetter et al  reason modem slow telephone invented carrying human voice entire system carefully optimized purpose data always stepchild point local loop terminates end office wire run filter attenuates frequency  hz  hz cutoff sharp— hz  hz  db points—so bandwidth usually quoted  hz even though distance  db point  hz data thus also restricted narrow band trick make xdsl work customer subscribes incoming line connected different kind switch one filter thus making entire capacity local loop available limiting factor becomes physic local loop artificial  hz bandwidth created filter unfortunately capacity local loop depends several factor including length thickness general quality plot potential bandwidth function distance given fig  figure assumes factor optimal new wire modest bundle etc figure  bandwidth versus distance category  utp dsl  implication figure creates problem telephone company pick speed offer simultaneously picking radius end office beyond service offered mean distant customer try sign service may told thanks lot interest live  meter far nearest end office get service could please move lower chosen speed larger radius customer covered lower speed le attractive service fewer people willing pay business meet technology one potential solution building mini end office neighborhood expensive proposition xdsl service designed certain goal mind first service must work existing category  twisted pair local loop second must affect customer existing telephone fax machine third must much faster  kbps fourth always monthly charge perminute charge initial adsl offering worked dividing spectrum available local loop  mhz three frequency band pot plain old telephone service upstream user end office downstream end office user technique multiple frequency band called frequency division multiplexing study detail later section subsequent offering provider taken different approach appears one likely win describe alternative approach called dmt discrete multitone illustrated fig  effect divide available  mhz spectrum local loop  independent channel  hz channel  used pot channel – used keep voice signal data signal interfering remaining  channel one used upstream control one used downstream control rest available user data figure  operation adsl using discrete multitone modulation principle remaining channel used fullduplex data stream harmonic crosstalk effect keep practical system well theoretical limit provider determine many channel used upstream many downstream – mix upstream downstream technically possible provider allocate something like  – bandwidth downstream channel since user download data upload choice give rise a  adsl common split  channel upstream rest downstream also possible highest upstream channel bidirectional increased bandwidth although making optimization requires adding special circuit cancel echo adsl standard ansi t itu g allows speed much  mbps downstream  mbps upstream however provider offer speed typically provider offer  kbps downstream  kbps upstream standard service  mbps downstream  kbps upstream premium service within channel modulation scheme similar v used although sampling rate  baud instead  baud line quality channel constantly monitored data rate adjusted continuously needed different channel may different data rate actual data sent qam modulation  bit per baud using constellation diagram analogous fig  b example  downstream channel  bitsbaud  baud downstream bandwidth  mbps practice signaltonoise ratio never good enough achieve rate  mbps possible short run highquality loop standard go far typical adsl arrangement shown fig  scheme telephone company technician must install nid network interface device customer s premise small plastic box mark end telephone company s property start customer s property close nid sometimes combined splitter analog filter separate  hz band used pot data pot signal routed existing telephone fax machine data signal routed adsl modem adsl modem actually digital signal processor set act  qam modem operating parallel different frequency since current adsl modem external computer must connected high speed usually done putting ethernet card computer operating short twonode ethernet containing computer adsl modem occasionally usb port used instead ethernet future internal adsl modem card doubt become available figure  typical adsl equipment configuration end wire end office side corresponding splitter installed voice portion signal filtered sent normal voice switch signal  khz routed new kind device called dslam digital subscriber line access multiplexer contains kind digital signal processor adsl modem digital signal recovered bit stream packet formed sent isp complete separation voice system adsl make relatively easy telephone company deploy adsl needed buying dslam splitter attaching adsl subscriber  splitter highbandwidth service eg isdn require much greater change existing switching equipment one disadvantage design fig  presence nid splitter customer premise installing done telephone company technician necessitating expensive truck roll ie sending technician customer s premise therefore alternative splitterless design also standardized informally called glite itu standard number g fig   without splitter existing telephone line used difference microfilter inserted telephone jack telephone adsl modem wire microfilter telephone lowpass filter eliminating frequency  hz microfilter adsl modem highpass filter eliminating frequency  khz however system reliable splitter glite used  mbps versus  mbps adsl splitter glite still requires splitter end office however installation require thousand truck roll adsl physical layer standard run top depends carrier often choice atm due atm s ability manage quality service fact many telephone company run atm core network wireless local loop since  u bit later country company wish compete entrenched local telephone company former monopolist called ilec incumbent lec free likely candidate longdistance telephone company ixcs ixc wishing get local phone business city must following thing first must buy lease building first end office city second must fill end office telephone switch equipment available offtheshelf product various vendor third must run fiber end office nearest toll office new local customer access national network fourth must acquire customer typically advertising better service lower price ilec hard part begin suppose customer actually show new local phone company called clec competitive lec going connect customer telephone computer shiny new end office buying necessary right way stringing wire fiber prohibitively expensive many clecs discovered cheaper alternative traditional twistedpair local loop wll wireless local loop certain sense fixed telephone using wireless local loop bit like mobile phone three crucial technical difference first wireless local loop customer often want highspeed internet connectivity often speed least equal adsl second new customer probably mind clec technician install large directional antenna roof pointed clec s end office third user move eliminating problem mobility cell handoff study later chapter thus new industry born fixed wireless local telephone internet service run clecs wireless local loop although wlls began serious operation  first go back  see origin year fcc allocated two television channel  mhz instructional television  ghz subsequent year  channel added  ghz total  mhz instructional television never took  fcc took frequency back allocated twoway radio immediately seized upon wireless local loop frequency microwave – cm long range  km penetrate vegetation rain moderately well  mhz new spectrum immediately put use wireless local loop service called mmds multichannel multipoint distribution service mmds regarded man metropolitan area network cousin lmds discussed big advantage service technology well established equipment readily available disadvantage total bandwidth available modest must shared many user fairly large geographic area  low bandwidth mmds led interest millimeter wave alternative frequency – ghz u  ghz europe frequency allocated difficult build silicon integrated circuit operate fast problem solved invention gallium arsenide integrated circuit opening millimeter band radio communication fcc responded demand allocating  ghz new wireless local loop service called lmds local multipoint distribution service allocation single largest chunk bandwidth ever allocated fcc one use similar chunk allocated europe  ghz operation lmds shown fig  tower shown multiple antenna pointing different direction since millimeter wave highly directional antenna defines sector independent one frequency range – km mean many tower needed cover city figure  architecture lmds system like adsl lmds us asymmetric bandwidth allocation favoring downstream channel current technology sector  gbps downstream  mbps upstream shared among user sector active user downloads three kb page per minute user occupying average  bps spectrum allows maximum  active user per sector keep delay reasonable  active user supported though four sector shown fig   active user population  could supported assuming one three customer line peak period single tower four antenna could serve  people within km radius tower calculation done many potential clecs concluded modest investment millimeterwave tower get local telephone internet business offer user data rate comparable cable tv lower price lmds problem however one thing millimeter wave propagate straight line must clear line sight roof top antenna tower another leaf absorb wave well tower must high enough avoid tree line sight may looked like clear line sight december may clear july tree full leaf rain also absorbs wave extent error introduced rain compensated error correcting code turning power raining nevertheless lmds service likely rolled first dry climate say arizona rather seattle wireless local loop likely catch unless standard encourage equipment vendor produce product ensure customer change clecs without buy new equipment provide standardization ieee set committee called  draw standard lmds  standard published april  ieee call  wireless man  ieee  designed digital telephony internet access connection two remote lan television radio broadcasting us look detail chap   trunk multiplexing economy scale play important role telephone system cost essentially amount money install maintain highbandwidth trunk lowbandwidth trunk two switching office ie cost come dig trench copper wire optical fiber consequently telephone company developed elaborate scheme multiplexing many conversation single physical trunk multiplexing scheme divided two basic category fdm frequency division multiplexing tdm time division multiplexing fdm frequency spectrum divided frequency band user exclusive possession band tdm user take turn roundrobin fashion one periodically getting entire bandwidth little burst time radio broadcasting provides illustration kind multiplexing allocated spectrum  mhz roughly   khz different frequency allocated different logical channel station operating portion spectrum interchannel separation great enough prevent interference system example frequency division multiplexing addition country individual station two logical subchannels music advertising two alternate time frequency first burst music burst advertising music situation time division multiplexing examine frequency division multiplexing see fdm applied fiber optic wavelength division multiplexing turn tdm end advanced tdm system used fiber optic sonet frequency division multiplexing figure  show three voicegrade telephone channel multiplexed using fdm filter limit usable bandwidth  hz per voicegrade channel many channel multiplexed together  hz allocated channel keep well separated first voice channel raised frequency different amount combined two channel occupy portion spectrum notice even though gap guard band channel overlap adjacent channel filter sharp edge overlap mean strong spike edge one channel felt adjacent one nonthermal noise figure  frequency division multiplexing original bandwidth b bandwidth raised frequency c multiplexed channel  fdm scheme used around world degree standardized widespread standard twelve hz voice channel multiplexed   khz band unit called group khz khz band sometimes used another group many carrier offer  kbps leased line service customer based group five group  voice channel multiplexed form supergroup next unit mastergroup five supergroups ccitt standard ten supergroups bell system standard  voice channel also exist wavelength division multiplexing fiber optic channel variation frequency division multiplexing used called wdm wavelength division multiplexing basic principle wdm fiber depicted fig  four fiber come together optical combiner energy present different wavelength four beam combined onto single shared fiber transmission distant destination far end beam split many fiber input side output fiber contains short speciallyconstructed core filter one wavelength resulting signal routed destination recombined different way additional multiplexed transport figure  wavelength division multiplexing really nothing new frequency division multiplexing high frequency long channel frequency ie wavelength range range disjoint multiplexed together longhaul fiber difference electrical fdm optical system using diffraction grating completely passive thus highly reliable wdm technology progressing rate put computer technology shame wdm invented around  first commercial system eight channel  gbps per channel  system  channel  gbps market  product  channel  gbps total  gbps enough bandwidth transmit  fulllength movie per second mpeg system  channel already working laboratory number channel large wavelength spaced close together example  nm system often referred dwdm dense wdm noted reason wdm popular energy single fiber typically gigahertz wide currently impossible convert electrical optical medium faster running many channel parallel different wavelength aggregate bandwidth increased linearly number channel since bandwidth single fiber band  ghz see fig  theoretically room  gbps channel even  bithz higher rate also possible another new development optical amplifier previously every  km necessary split channel convert one electrical signal amplification separately reconverting optical  combining nowadays optical amplifier regenerate entire signal every  km without need multiple optoelectrical conversion example fig  fixed wavelength system bit input fiber  go output fiber  bit input fiber  go output fiber  etc however also possible build wdm system switched device output filter tunable using fabryperot machzehnder interferometer information wdm application internet packet switching see elmirghani mouftah  hunter andonovic  listani et al  time division multiplexing wdm technology wonderful still lot copper wire telephone system let u turn back although fdm still used copper wire microwave channel requires analog circuitry amenable done computer contrast tdm handled entirely digital electronics become far widespread recent year unfortunately used digital data since local loop produce analog signal conversion needed analog digital end office individual local loop come together combined onto outgoing trunk look multiple analog voice signal digitized combined onto single outgoing digital trunk computer data sent modem also analog following description also applies analog signal digitized end office device called codec coderdecoder producing series bit number codec make  sample per second  µsecsample nyquist theorem say sufficient capture information khz telephone channel bandwidth lower sampling rate information would lost higher one extra information would gained technique called pcm pulse code modulation pcm form heart modern telephone system consequence virtually time interval within telephone system multiple  µsec digital transmission began emerging feasible technology ccitt unable reach agreement international standard pcm consequently variety incompatible scheme use different country around world method used north america japan t carrier depicted fig  technically speaking format called ds carrier called t following widespread industry tradition make subtle distinction t carrier consists  voice channel multiplexed together usually analog signal sampled roundrobin basis resulting analog stream fed codec rather  separate codecs merging digital output  channel turn get insert  bit output stream seven bit data one control yielding  x   bps data  x   bps signaling information per channel figure  t carrier  mbps  frame consists  x   bit plus one extra bit framing yielding  bit every  µsec give gross data rate  mbps rd bit used frame synchronization take pattern  normally receiver keep checking bit make sure lost synchronization get sync receiver scan pattern get resynchronized analog customer generate bit pattern corresponds sine wave  hz would filtered digital customer course generate pattern odds present frame slip t system used entirely data  channel used data th one used special synchronization pattern allow faster recovery event frame slip ccitt finally reach agreement felt  bps signaling information far much mbps standard based  rather bit data item analog signal quantized  rather  discrete level two incompatible variation provided commonchannel signaling extra bit attached onto rear rather front bit frame take value  odd frame contains signaling information channel even frame variation channelassociated signaling channel private signaling subchannel private subchannel arranged allocating one eight user bit every sixth frame signaling purpose five six sample  bit wide one  bit wide ccitt also recommended pcm carrier  mbps called e carrier  bit data sample packed basic  µsec frame thirty channel used information two used signaling group four frame provides  signaling bit half used channelassociated signaling half used frame synchronization reserved country use wish outside north america japan mbps e carrier used instead t voice signal digitized tempting try use statistical technique reduce number bit needed per channel technique appropriate encoding speech digitization analog signal compaction method based principle signal change relatively slowly compared sampling frequency much information  bit digital level redundant one method called differential pulse code modulation consists outputting digitized amplitude difference current value previous one since jump ± scale  unlikely  bit suffice instead  signal occasionally jump wildly encoding logic may require several sampling period catch speech error introduced ignored variation compaction method requires sampled value differ predecessor either   condition single bit transmitted telling whether new sample previous one technique called delta modulation illustrated fig  like compaction technique assume small level change consecutive sample delta encoding get trouble signal change fast shown figure happens information lost figure  delta modulation  improvement differential pcm extrapolate previous value predict next value encode difference actual signal predicted one transmitter receiver must use prediction algorithm course scheme called predictive encoding useful reduce size number encoded hence number bit sent time division multiplexing allows multiple t carrier multiplexed higherorder carrier figure  show done left see four t channel multiplexed onto one t channel multiplexing t done bit bit rather byte byte  voice channel make t frame four t stream  mbps generate  mbps t actually  mbps extra bit used framing recovery case carrier slip t t widely used customer whereas t t used within telephone system well known figure  multiplexing t stream onto higher carrier next level seven t stream combined bitwise form t stream six t stream joined form t stream step small amount overhead added framing recovery case synchronization sender receiver lost little agreement basic carrier united state rest world equally little agreement multiplexed higherbandwidth carrier u scheme stepping    strike everyone else way go ccitt standard call multiplexing four stream onto one stream level also framing recovery data different u ccitt standard ccitt hierarchy      channel run speed      mbps sonetsdh early day fiber optic every telephone company proprietary optical tdm system broken  local telephone company connect multiple longdistance carrier different optical tdm system need standardization became obvious  bellcore rbocs research arm began working standard called sonet synchronous optical network later  ccitt joined effort resulted sonet standard set parallel ccitt recommendation g g g  ccitt recommendation called sdh synchronous digital hierarchy differ sonet minor way virtually longdistance telephone traffic united state much elsewhere us trunk running sonet physical layer additional information sonet see bellamy  goralski  shepard  sonet design four major goal first foremost sonet make possible different carrier interwork achieving goal required defining common signaling standard respect wavelength timing framing structure issue second mean needed unify u european japanese digital system based kbps pcm channel combined different incompatible way third sonet provide way multiplex multiple digital channel time sonet devised highestspeed digital carrier actually used widely united state t  mbps t defined used much nothing even defined t speed part sonet s mission continue hierarchy gigabitssec beyond standard way multiplex slower channel one sonet channel also needed fourth sonet provide support operation administration maintenance oam previous system well early decision make sonet traditional tdm system entire bandwidth fiber devoted one channel containing time slot various subchannels sonet synchronous system controlled master clock accuracy  part   bit sonet line sent extremely precise interval controlled master clock cell switching later proposed basis atm fact permitted irregular cell arrival got labeled asynchronous transfer mode contrast synchronous operation sonet sonet sender receiver tied common clock atm basic sonet frame block  byte put every  µsec since sonet synchronous frame emitted whether useful data send  framessec exactly match sampling rate pcm channel used digital telephony system byte sonet frame best described rectangle byte  column wide  row high thus  x   bit transmitted  time per second gross data rate  mbps basic sonet channel called sts synchronous transport signal sonet trunk multiple sts first three column frame reserved system management information illustrated fig   first three row contain section overhead next six contain line overhead section overhead generated checked start end section whereas line overhead generated checked start end line figure  two backtoback sonet frame  sonet transmitter sends backtoback byte frame without gap even data case sends dummy data receiver s point view see continuous bit stream know frame begin answer first two byte frame contain fixed pattern receiver search find pattern place large number consecutive frame assumes sync sender theory user could insert pattern payload regular way practice done due multiplexing multiple user frame reason remaining  column hold  x  x  x   mbps user data however user data called spe synchronous payload envelope always begin row  column  spe begin anywhere within frame pointer first byte contained first row line overhead first column spe path overhead ie header endtoend path sublayer protocol ability allow spe begin anywhere within sonet frame even span two frame shown fig  give added flexibility system example payload arrives source dummy sonet frame constructed inserted current frame instead held start next one sonet multiplexing hierarchy shown fig  rate sts sts defined optical carrier corresponding sts n called oc n bit bit except certain bit reordering needed synchronization sdh name different start oc ccittbased system rate near  mbps oc carrier present closely match speed major highspeed trunk used japan oc oc used japan gross data rate includes overhead spe data rate excludes line section overhead user data rate excludes overhead count  payload column figure  sonet sdh multiplex rate  aside carrier oc multiplexed carry data single source letter c concatenated appended designation oc indicates mbps carrier consisting three separate oc carrier occ indicates data stream single source  mbps three oc stream within occ stream interleaved column first column  stream  column  stream  column  stream  followed column  stream  leading frame  column wide  row deep  switching point view average telephone engineer phone system divided two principal part outside plant local loop trunk since physically outside switching office inside plant switch inside switching office looked outside plant time examine inside plant two different switching technique used nowadays circuit switching packet switching give brief introduction go circuit switching detail telephone system work study packet switching detail subsequent chapter circuit switching computer place telephone call switching equipment within telephone system seek physical path way telephone receiver s telephone technique called circuit switching shown schematically fig  six rectangle represents carrier switching office end office toll office etc example office three incoming line three outgoing line call pass switching office physical connection conceptually established line call came one output line shown dotted line figure  circuit switching b packet switching early day telephone connection made operator plugging jumper cable input output socket fact surprising little story associated invention automatic circuit switching equipment invented th century missouri undertaker named almon b strowger shortly telephone invented someone died one survivor would call town operator say please connect undertaker unfortunately mr strowger two undertaker town  one s wife town telephone operator quickly saw either going invent automatic telephone switching equipment going go business chose first option nearly  year circuitswitching equipment used worldwide known strowger gear history record whether nowunemployed switchboard operator got job information operator answering question what phone number undertaker model shown fig  highly simplified course part physical path two telephone may fact microwave fiber link onto thousand call multiplexed nevertheless basic idea valid call set dedicated path end exists continue exist call finished figure  timing event circuit switching b message switching c packet switching alternative circuit switching packet switching shown fig  b technology individual packet sent need dedicated path set advance packet find way destination important property circuit switching need set endtoend path data sent elapsed time end dialing start ringing easily  sec longdistance international call time interval telephone system hunting path shown fig   note data transmission even begin call request signal must propagate way destination acknowledged many computer application eg pointofsale credit verification long setup time undesirable consequence reserved path calling party setup completed delay data propagation time electromagnetic signal  msec per  km also consequence established path danger congestion—that call put never get busy signal course might get one connection established due lack switching trunk capacity  message switching alternative switching strategy message switching illustrated fig  b form switching used physical path established advance sender receiver instead sender block data sent stored first switching office ie router forwarded later one hop time block received entirety inspected error retransmitted network using technique called storeandforward network mentioned chap  first electromechanical telecommunication system used message switching namely telegram message punched paper tape offline sending office read transmitted communication line next office along way punched paper tape operator tore tape read one many tape reader one reader per outgoing trunk switching office called torn tape office paper tape long gone message switching used discus book packet switching message switching limit block size mean router modern system must disk buffer long block also mean single block tie routerrouter line minute rendering message switching useless interactive traffic get around problem packet switching invented described chap  packetswitching network place tight upper limit block size allowing packet buffered router main memory instead disk making sure user monopolize transmission line long millisecond packetswitching network well suited handling interactive traffic advantage packet switching message switching shown fig  b c first packet multipacket message forwarded second one fully arrived reducing delay improving throughput reason computer network usually packet switched occasionally circuit switched never message switched circuit switching packet switching differ many respect start circuit switching requires circuit set end end communication begin packet switching require advance setup first packet sent soon available result connection setup circuit switching reservation bandwidth way sender receiver packet follow path among property packet follow path mean arrive order packet switching path different packet follow different path depending network condition time sent may arrive order packet switching fault tolerant circuit switching fact invented switch go circuit using terminated traffic sent packet switching packet routed around dead switch setting path advance also open possibility reserving bandwidth advance bandwidth reserved packet arrives sent immediately reserved bandwidth packet switching bandwidth reserved packet may wait turn forwarded bandwidth reserved advance mean congestion occur packet show unless packet show expected hand attempt made establish circuit attempt fail due congestion thus congestion occur different time circuit switching setup time packet switching packet sent circuit reserved particular user traffic send bandwidth circuit wasted used traffic packet switching waste bandwidth thus efficient systemwide perspective understanding tradeoff crucial comprehending difference circuit switching packet switching tradeoff guaranteed service wasting resource versus guaranteeing service wasting resource  packet switching us storeandforward transmission packet accumulated router s memory sent next router circuit switching bit flow wire continuously storeandforward technique add delay another difference circuit switching completely transparent sender receiver use bit rate format framing method want carrier know care packet switching carrier determines basic parameter rough analogy road versus railroad former user determines size speed nature vehicle latter carrier transparency allows voice data fax coexist within phone system final difference circuit packet switching charging algorithm circuit switching charging historically based distance time mobile phone distance usually play role except international call time play minor role eg calling plan  free minute cost one  free minute sometimes night weekend call cheaper normal packet switching connect time issue volume traffic sometimes home user isps usually charge flat monthly rate le work customer understand model easily backbone carrier charge regional network based volume traffic difference summarized fig  figure  comparison circuitswitched packetswitched network circuit switching packet switching important enough come back shortly describe various technology used detail  mobile telephone system traditional telephone system even day get multigigabit endtoend fiber still able satisfy growing group user people go people expect make phone call airplane car swimming pool jogging park within year also expect send email surf web location consequently tremendous amount interest wireless telephony following section study topic detail wireless telephone come two basic variety cordless phone mobile phone sometimes called cell phone cordless phone device consisting base station handset sold set use within home never used networking examine instead concentrate mobile system used wide area voice data communication mobile phone gone three distinct generation different technology  analog voice  digital voice   digital voice data internet email etc although discussion technology system interesting note political tiny marketing decision huge impact first mobile system devised u mandated whole country fcc result entire u single analog system mobile phone purchased california also worked new york contrast mobile came europe every country devised system resulted fiasco europe learned mistake digital came around governmentrun ptts got together standardized single system gsm european mobile phone work anywhere europe u decided government standardization business left digital marketplace decision resulted different equipment manufacturer producing different kind mobile phone consequence u two major incompatible digital mobile phone system operation plus one minor one despite initial lead u mobile phone ownership usage europe far greater u single system europe part reason second area u europe differed humble matter phone number u mobile phone mixed regular fixed telephone thus way caller see say   fixed telephone cheap free call mobile phone expensive call keep people getting nervous using telephone telephone company decided make mobile phone owner pay incoming call consequence many people hesitated buy mobile phone fear running big bill receiving call europe mobile phone special area code analogous   number instantly recognizable consequently usual rule caller pay also applies mobile phone europe except international call cost split third issue large impact adoption widespread use prepaid mobile phone europe  area purchased many store formality buying radio pay go preloaded example   euro recharged using secret pin code balance drop zero consequence practically every teenager many small child europe usually prepaid mobile phone parent locate without danger child running huge bill mobile phone used occasionally use essentially free since monthly charge charge incoming call  firstgeneration mobile phone analog voice enough politics marketing aspect mobile phone let u look technology starting earliest system mobile radiotelephone used sporadically maritime military communication early decade th century  first system carbased telephone set st louis system used single large transmitter top tall building single channel used sending receiving talk user push button enabled transmitter disabled receiver system known pushtotalk system installed several city beginning late s cbradio taxi police car television program often use technology s imts improved mobile telephone system installed used highpowered watt transmitter top hill two frequency one sending one receiving pushtotalk button longer needed since communication mobile telephone went inbound different channel outbound signal mobile user could hear unlike pushtotalk system used taxi imts supported  channel spread  mhz  mhz due small number channel user often wait long time getting dial tone also due large power hilltop transmitter adjacent system several hundred kilometer apart avoid interference limited capacity made system impractical advanced mobile phone system  changed amp advanced mobile phone system invented bell lab first installed united state  also used england called tacs japan called mcsl although longer state art look detail many fundamental property directly inherited digital successor damp order achieve backward compatibility mobile phone system geographic region divided cell device sometimes called cell phone amp cell typically   km across digital system cell smaller cell us set frequency used neighbor key idea give cellular system far capacity previous system use relatively small cell reuse transmission frequency nearby adjacent cell whereas imts system  km across one call frequency amp system might  km cell area able   call frequency widely separated cell thus cellular design increase system capacity least order magnitude cell get smaller furthermore smaller cell mean le power needed lead smaller cheaper transmitter handset handheld telephone put  watt transmitter car  watt maximum allowed fcc idea frequency reuse illustrated fig  cell normally roughly circular easier model hexagon fig  cell size grouped unit seven cell letter indicates group frequency notice frequency set buffer two cell wide frequency reused providing good separation low interference figure  frequency reused adjacent cell b add user smaller cell used finding location high air place base station antenna major issue problem led telecommunication carrier forge alliance roman catholic church since latter owns substantial number exalted potential antenna site worldwide conveniently single management area number user grown point system overloaded power reduced overloaded cell split smaller microcells permit frequency reuse shown fig  b telephone company sometimes create temporary microcells using portable tower satellite link sporting event rock concert place large number mobile user congregate hour big cell complex matter treated hac  center cell base station telephone cell transmit base station consists computer transmitterreceiver connected antenna small system base station connected single device called mtso mobile telephone switching office msc mobile switching center larger one several mtsos may needed connected secondlevel mtso mtsos essentially end office telephone system fact connected least one telephone system end office mtsos communicate base station pstn using packetswitching network  instant mobile telephone logically one specific cell control cell s base station mobile telephone physically leaf cell base station notice telephone s signal fading away asks surrounding base station much power getting base station transfer ownership cell getting strongest signal cell telephone located telephone informed new bos call progress asked switch new channel old one reused adjacent cell process called handoff take  msec channel assignment done mtso nerve center system base station really radio relay handoff done two way soft handoff telephone acquired new base station previous one sign way loss continuity downside telephone need able tune two frequency time old one new one neither first second generation device hard handoff old base station drop telephone new one acquires new one unable acquire eg available frequency call disconnected abruptly user tend notice inevitable occasionally current design channel amp system us  fullduplex channel consisting pair simplex channel  simplex transmission channel   mhz  simplex receive channel   mhz simplex channel  khz wide thus amp us fdm separate channel mhz band radio wave  cm long travel straight line absorbed tree plant bounce ground building possible signal sent mobile telephone reach base station direct path also slightly later bouncing ground building may lead echo signal distortion multipath fading sometimes even possible hear distant conversation bounced several time  channel divided four category  control base mobile manage system  paging base mobile alert mobile user call  access bidirectional call setup channel assignment  data bidirectional voice fax data twentyone channel reserved control wired prom telephone since frequency reused nearby cell actual number voice channel available per cell much smaller  typically  call management mobile telephone amp bit serial number digit telephone number prom telephone number represented digit area code  bit digit subscriber number  bit phone switched scan preprogrammed list  control channel find powerful signal phone broadcast bit serial number bit telephone number like control information amp packet sent digital form multiple time errorcorrecting code even though voice channel analog base station hears announcement tell mtso record existence new customer also informs customer s home mtso current location normal operation mobile telephone reregisters every  minute  make call mobile user switch phone enters number called keypad hit send button phone transmits number called identity access channel collision occurs try later base station get request informs mtso caller customer mtso s company one partner mtso look idle channel call one found channel number sent back control channel mobile phone automatically switch selected voice channel wait called party pick phone incoming call work differently start idle phone continuously listen paging channel detect message directed call placed mobile phone either fixed phone another mobile phone packet sent callee s home mtso find packet sent base station current cell sends broadcast paging channel form unit  called phone responds yes access channel base say something like unit  call channel  point called phone switch channel  start making ringing sound playing melody owner given birthday present  secondgeneration mobile phone digital voice first generation mobile phone analog second generation digital worldwide standardization first generation also standardization second either four system use damp gsm cdma pdc discus first three pdc used japan basically damp modified backward compatibility firstgeneration japanese analog system name pc personal communication service sometimes used marketing literature indicate secondgeneration ie digital system originally meant mobile phone using  mhz band distinction rarely made damps—the digital advanced mobile phone system second generation amp system damp fully digital described international standard is successor is damp carefully designed coexist amp first secondgeneration mobile phone could operate simultaneously cell particular damp us  khz channel amp frequency one channel analog adjacent one digital depending mix phone cell cell s mtso determines channel analog digital change channel type dynamically mix phone cell change damp introduced service new frequency band made available handle expected increased load upstream channel – mhz range corresponding downstream channel – mhz range pair amp band wave  cm long standard ¼wave antenna  cm long leading smaller phone however many damp phone use mhz mhz band get wider range available channel damp mobile phone voice signal picked microphone digitized compressed using model sophisticated delta modulation predictive encoding scheme studied earlier compression take account detailed property human vocal system get bandwidth standard kbps pcm encoding  kbps le compression done circuit called vocoder bellamy  compression done telephone rather base station end office reduce number bit sent air link fixed telephony benefit compression done telephone since reducing traffic local loop increase system capacity mobile telephony huge gain digitization compression handset much damp three user share single frequency pair using time division multiplexing frequency pair support  framessec  msec frame divided six time slot  msec illustrated fig  lowest frequency pair figure  damp channel three user b damp channel six user  frame hold three user take turn using upstream downstream link slot  fig   example user  may transmit base station user  receiving base station slot  bit long  bit used guard time synchronization control purpose leaving  bit user payload payload bit  used error correction noisy air link ultimately  bit left compressed speech  slotssec bandwidth available compressed speech  kbps  standard pcm bandwidth using better compression algorithm possible get speech  kbps case six user stuffed frame illustrated fig  b operator s perspective able squeeze three six time many damp user spectrum one amp user huge win explains much popularity pc course quality speech  kbps comparable achieved  kbps pc operator advertise hifi sound quality also clear data  kbps channel even good ancient bps modem control structure damp fairly complicated briefly summarized group  frame form superframe certain control information present superframe limited number time six main control channel used system configuration realtime nonrealtime control paging access response short message conceptually work like amp mobile switched make contact base station announce listens control channel incoming call picked new mobile mtso informs user s home base call routed correctly one difference amp damp handoff handled amp mtso manages completely without help mobile device seen fig  damp  time mobile neither sending receiving us idle slot measure line quality discovers signal waning complains mtso break connection time mobile try tune stronger signal another base station amp still take  msec handoff technique called maho mobile assisted handoff gsm—the global system mobile communication damp widely used u modified form japan virtually everywhere else world system called gsm global system mobile communication used even starting used u limited scale first approximation gsm similar damp cellular system system frequency division multiplexing used mobile transmitting one frequency receiving higher frequency  mhz higher damp  mhz higher gsm also system single frequency pair split timedivision multiplexing time slot shared multiple mobile however gsm channel much wider amp channel  khz versus  khz hold relatively additional user  versus  giving gsm much higher data rate per user damp briefly discus main property gsm however printed gsm standard  sic page long large fraction material relates engineering aspect system especially design receiver handle multipath signal propagation synchronizing transmitter receiver none even mentioned  frequency band  khz wide shown fig  gsm system  pair simplex channel simplex channel  khz wide support eight separate connection using time division multiplexing currently active station assigned one time slot one channel pair theoretically  channel supported cell many available avoid frequency conflict neighboring cell fig  eight shaded time slot belong connection four direction transmitting receiving happen time slot gsm radio transmit receive time take time switch one mobile station assigned  mhz time slot  wanted transmit base station would use lower four shaded slot one following time putting data slot data sent figure  gsm us  frequency channel us eightslot tdm system tdm slot shown fig  part complex framing hierarchy tdm slot specific structure group tdm slot form multiframes also specific structure simplified version hierarchy shown fig  see tdm slot consists bit data frame occupies channel  µsec including µsec guard time slot data frame start end three  bit frame delineation purpose also contains two bit information field one control bit indicates whether following information field voice data information field bit sync training field used receiver synchronize sender s frame boundary figure  portion gsm framing structure  data frame transmitted  µsec transmitter allowed send one data frame every  msec since sharing channel seven station gross rate channel  bps divided among eight user give  kbps gross double damp  bit  time per second  kbps however amp overhead eats large fraction bandwidth ultimately leaving  kbps worth payload per user error correction error correction  kbps left speech giving substantially better voice quality damp cost using correspondingly bandwidth seen fig  eight data frame make tdm frame  tdm frame make msec multiframe  tdm frame multiframe slot  used control slot  reserved future use  available user traffic however addition slot multiframe shown fig  slot multiframe shown also used slot used hold several control channel used manage system broadcast control channel continuous stream output base station containing base station s identity channel status mobile station monitor signal strength see moved new cell dedicated control channel used location updating registration call setup particular base station maintains database mobile station currently jurisdiction information needed maintain database sent dedicated control channel finally common control channel split three logical subchannels first subchannels paging channel base station us announce incoming call mobile station monitor continuously watch call answer second random access channel allows user request slot dedicated control channel two request collide garbled retried later using dedicated control channel slot station set call assigned slot announced third subchannel access grant channel cdma—code division multiple access damp gsm fairly conventional system use fdm tdm divide spectrum channel channel time slot however third kid block cdma code division multiple access work completely differently cdma first proposed industry gave approximately reaction columbus first got queen isabella proposed reaching india sailing wrong direction however persistence single company qualcomm cdma matured point acceptable viewed best technical solution around basis thirdgeneration mobile system also widely used u secondgeneration mobile system competing headon damp example sprint pc us cdma whereas wireless us damp cdma described international standard is sometimes referred name brand name cdmaone also used cdma completely different amp damp gsm instead dividing allowed frequency range hundred narrow channel cdma allows station transmit entire frequency spectrum time multiple simultaneous transmission separated using coding theory cdma also relaxes assumption colliding frame totally garbled instead assumes multiple signal add linearly getting algorithm let u consider analogy airport lounge many pair people conversing tdm comparable people middle room taking turn speaking fdm comparable people widely separated clump clump holding conversation time still independent others cdma comparable everybody middle room talking pair different language frenchspeaking couple hone french rejecting everything french noise thus key cdma able extract desired signal rejecting everything else random noise somewhat simplified description cdma follows cdma bit time subdivided short interval called chip typically   chip per bit example given use  chipsbit simplicity  station assigned unique bit code called chip sequence transmit  bit station sends chip sequence transmit  bit sends one s complement chip sequence pattern permitted thus  station assigned chip sequence  sends  bit sending   bit sending  increasing amount information sent b bitssec mb chipssec done bandwidth available increased factor making cdma form spread spectrum communication assuming change modulation encoding technique mhz band available  station fdm one would  khz could send  kbps assuming  bit per hz cdma station us full  mhz chip rate  megachip per second fewer  chip per bit effective bandwidth per station higher cdma fdm channel allocation problem also solved pedagogical purpose convenient use bipolar notation binary   binary   show chip sequence parenthesis  bit station becomes         fig  show binary chip sequence assigned four example station fig  b show bipolar notation figure  binary chip sequence four station b bipolar chip sequence c six example transmission recovery station c s signal station unique chip sequence let u use symbol indicate chip vector station negation chip sequence pairwise orthogonal mean normalized inner product two distinct chip sequence written •  known generate orthogonal chip sequence using method known walsh code mathematical term orthogonality chip sequence expressed follows equation   plain english many pair different orthogonality property prove crucial later note •  also  normalized inner product chip sequence  follows term inner product  sum also note bit time station transmit  sending chip sequence transmit  sending negative chip sequence silent transmit nothing moment assume station synchronized time chip sequence begin instant two station transmit simultaneously bipolar signal add linearly example one chip period three station output  one station output  result  one think adding voltage three station outputting  volt  station outputting  volt give  volt fig  c see six example one station transmitting time first example c transmits  bit get c s chip sequence second example b c transmit  bit get sum bipolar chip sequence namely third example station sends  station b sends  others silent fourth example c send  bit b sends  bit fifth example four station send  bit finally last example b send  bit c sends  bit note six sequence   given fig  c represents one bit time recover bit stream individual station receiver must know station s chip sequence advance recovery computing normalized inner product received chip sequence linear sum station transmitted chip sequence station whose bit stream trying recover received chip sequence receiver trying listen station whose chip sequence c computes normalized inner product • c see work imagine two station c transmit  bit time b transmits  bit receiver see sum computes first two term vanish pair chip sequence carefully chosen orthogonal shown eq  clear property must imposed chip sequence alternative way thinking situation imagine three chip sequence came separately rather summed receiver would compute inner product one separately add result due orthogonality property inner product except c • c would  adding inner product fact inner product adding  make decoding process concrete let u consider six example fig  c illustrated fig  suppose receiver interested extracting bit sent station c six sum   calculates bit summing pairwise product received c vector fig  b taking  result since  shown correct bit decoded time like speaking french ideal noiseless cdma system capacity ie number station made arbitrarily large capacity noiseless nyquist channel made arbitrarily large using bit per sample practice physical limitation reduce capacity considerably first assumed chip synchronized time reality synchronization impossible done sender receiver synchronize sender transmit predefined chip sequence long enough receiver lock onto unsynchronized transmission seen random noise many however basic decoding algorithm still work fairly well large body theory exists relating superposition chip sequence noise level pickholtz et al  one might expect longer chip sequence higher probability detecting correctly presence noise extra reliability bit sequence use errorcorrecting code chip sequence never use errorcorrecting code implicit assumption discussion power level station perceived receiver cdma typically used wireless system fixed base station many mobile station varying distance power level received base station depend far away transmitter good heuristic mobile station transmit base station inverse power level receives base station word mobile station receiving weak signal use power one getting strong signal base station also give explicit command mobile station increase decrease transmission power also assumed receiver know sender principle given enough computing capacity receiver listen sender running decoding algorithm parallel real life suffice say easier said done cdma also many complicating factor glossed brief introduction nevertheless cdma clever scheme rapidly introduced wireless mobile communication normally operates band  mhz versus  khz damp  khz gsm support many user band either system practice bandwidth available user least good gsm often much better engineer want gain deep understanding cdma read lee miller  alternative spreading scheme spreading time rather frequency described crespo et al  yet another scheme described sari et al  reference require quite bit background communication engineering  thirdgeneration mobile phone digital voice data future mobile telephony let u take quick look number factor driving industry first data traffic already exceeds voice traffic fixed network growing exponentially whereas voice traffic essentially flat many industry expert expect data traffic dominate voice mobile device well soon second telephone entertainment computer industry gone digital rapidly converging many people drooling lightweight portable device act telephone cd player dvd player email terminal web interface gaming machine word processor worldwide wireless connectivity internet high bandwidth device connect third generation mobile telephony information see huber et al  sarikaya  back  itu tried get bit specific dream issued blueprint getting called imt imt stood international mobile telecommunication number  stood three thing  year supposed go service  frequency supposed operate mhz  bandwidth service khz make three count nothing implemented  itu recommended government reserve spectrum  ghz device could roam seamlessly country country china reserved required bandwidth nobody else finally recognized  mbps currently  feasible user mobile due difficulty performing handoff quickly enough realistic  mbps stationary indoor user compete headon adsl  kbps people walking  kbps connection car nevertheless whole area g asitis called one great cauldron activity third generation may bit le originally hoped bit late surely happen basic service imt network supposed provide user  highquality voice transmission  messaging replacing email fax sm chat etc  multimedia playing music viewing video film television etc  internet access web surfing including page audio video additional service might video conferencing telepresence group game playing mcommerce waving telephone cashier pay store furthermore service supposed available worldwide automatic connection via satellite terrestrial network located instantly always qualityofservice guarantee itu envisioned single worldwide technology imt manufacturer could build single device could sold used anywhere world like cd player computer unlike mobile phone television single technology would also make life much simpler network operator would encourage people use service format war betamax versus vhs battle videorecorders first came good business several proposal made winnowing came two main one first one wcdma wideband cdma proposed ericsson system us direct sequence spread spectrum type described run  mhz bandwidth designed interwork gsm network although backward compatible gsm however property caller leave wcdma cell enter gsm cell without losing call system pushed hard european union called umts universal mobile telecommunication system contender cdma proposed qualcomm direct sequence spread spectrum design basically extension is backward compatible also us mhz bandwidth designed interwork gsm hand call gsm cell damp cell matter technical difference wcdma include different chip rate different frame time different spectrum used different way time synchronization ericsson qualcomm engineer put room told come common design probably could basic principle behind system cdma  mhz channel nobody willing die preferred chip rate trouble real problem engineering politics usual europe wanted system interworked gsm u wanted system compatible one already widely deployed u is side also supported local company ericsson based sweden qualcomm california finally ericsson qualcomm involved numerous lawsuit respective cdma patent march  two company settled lawsuit ericsson agreed buy qualcomm s infrastructure also agreed single g standard one multiple incompatible option large extent paper technical difference dispute notwithstanding g device service likely start appearing coming year much written g system praising greatest thing since sliced bread reference collins smith  de vriendt et al  harte et al  lu  sarikaya  however dissenter think industry pointed wrong direction garber  goodman  waiting fighting g stop operator gingerly taking cautious small step direction g going sometimes called g although g might accurate one system edge enhanced data rate gsm evolution gsm bit per baud trouble bit per baud also mean error per baud edge nine different scheme  modulation error correction differing much bandwidth devoted fixing error introduced higher speed another g scheme gprs general packet radio service overlay packet network top damp gsm allows mobile station send receive ip packet cell running voice system gprs operation time slot frequency reserved packet traffic number location time slot dynamically managed base station depending ratio voice data traffic cell available time slot divided several logical channel used different purpose base station determines logical channel mapped onto time slot one logical channel downloading packet base station mobile station packet indicating destined send ip packet mobile station request one time slot sending request base station request arrives without damage base station announces frequency time slot allocated mobile sending packet packet arrived base station transferred internet wired connection since gprs overlay existing voice system best stopgap measure g arrives even though g network fully deployed yet researcher regard g done deal thus interesting people already working g system berezdivin et al  guo chaskar  huang zhuang  kellerer et al  misra et al  proposed feature g system include high bandwidth ubiquity connectivity everywhere seamless integration wired network especially ip adaptive resource spectrum management software radio high quality service multimedia hand many  wireless lan access point set place people think g done deal doomed vision people wander one  access point another stay connected say industry state enormous flux huge understatement check back  year see happens  cable television studied fixed wireless telephone system fair amount detail clearly play major role future network however alternative available fixed networking becoming major player cable television network many people already get telephone internet service cable cable operator actively working increase market share following section look cable television networking system detail contrast telephone system studied information cable see laubach et al  louis  ovadia  smith   community antenna television cable television conceived late s way provide better reception people living rural mountainous area system initially consisted big antenna top hill pluck television signal air amplifier called head end strengthen coaxial cable deliver people s house illustrated fig  figure  early cable television system  early year cable television called community antenna television much momandpop operation anyone handy electronics could set service town user would chip pay cost number subscriber grew additional cable spliced onto original cable amplifier added needed transmission one way headend user  thousand independent system existed  time inc started new channel home box office new content movie distributed cable cableonly channel followed news sport cooking many topic development gave rise two change industry first large corporation began buying existing cable system laying new cable acquire new subscriber second need connect multiple system often distant city order distribute new cable channel cable company began lay cable city connect single system pattern analogous happened telephone industry  year earlier connection previously isolated end office make long distance calling possible  internet cable course year cable system grew cable various city replaced highbandwidth fiber similar happening telephone system system fiber longhaul run coaxial cable house called hfc hybrid fiber coax system electrooptical converter interface optical electrical part system called fiber node bandwidth fiber much coax fiber node feed multiple coaxial cable part modern hfc system shown fig  figure  cable television b fixed telephone system  recent year many cable operator decided get internet access business often telephony business well however technical difference cable plant telephone plant effect done achieve goal one thing oneway amplifier system replaced twoway amplifier however another difference hfc system fig  telephone system fig  b much harder remove neighborhood single cable shared many house whereas telephone system every house private local loop used television broadcasting sharing play role program broadcast cable matter whether  viewer  viewer cable used internet access matter lot  user  one user decides download large file bandwidth potentially taken away user user competition bandwidth telephone system particular property downloading large file adsl line reduce neighbor s bandwidth hand bandwidth coax much higher twisted pair way cable industry tackled problem split long cable connect one directly fiber node bandwidth headend fiber node effectively infinite long many subscriber cable segment amount traffic manageable typical cable nowadays – house people subscribe internet cable load may become much requiring splitting fiber node   spectrum allocation throwing tv channel using cable infrastructure strictly internet access would probably generate fair number irate customer cable company hesitant furthermore city heavily regulate cable cable operator would allowed even really wanted consequence needed find way television internet coexist cable cable television channel north america normally occupy – mhz region except fm radio   mhz channel  mhz wide including guard band europe low end usually  mhz channel – mhz wide higher resolution required pal secam otherwise allocation scheme similar low part band used modern cable also operate well  mhz often  mhz solution chosen introduce upstream channel – mhz band slightly higher europe use frequency high end downstream cable spectrum illustrated fig  figure  frequency allocation typical cable tv system used internet access note since television signal downstream possible use upstream amplifier work – mhz region downstream amplifier work  mhz shown figure thus get asymmetry upstream downstream bandwidth spectrum available television hand traffic likely downstream cable operator unhappy fact life saw earlier telephone company usually offer asymmetric dsl service even though technical reason long coaxial cable better transmitting digital signal long local loop analog modulation needed usual scheme take  mhz  mhz downstream channel modulate qam cable quality exceptionally good qam  mhz channel qam get  mbps overhead subtracted net payload  mbps qam net payload  mbps european value  larger upstream even qam work well much noise terrestrial microwave cb radio source conservative scheme—qpsk—is used method shown fig  yield  bit per baud instead   bit qam provides downstream channel consequently asymmetry upstream bandwidth downstream bandwidth much suggested fig   addition upgrading amplifier operator upgrade headend dumb amplifier intelligent digital computer system highbandwidth fiber interface isp often name get upgraded well headend cmts cable modem termination system following text refrain name upgrade stick traditional headend  cable modem internet access requires cable modem device two interface one computer one cable network early year cable internet operator proprietary cable modem installed cable company technician however soon became apparent open standard would create  competitive cable modem market drive price thus encouraging use service furthermore customer buy cable modem store install vx telephone modem would eliminate dreaded truck roll consequently larger cable operator teamed company called cablelabs produce cable modem standard test product compliance standard called docsis data cable service interface specification starting replace proprietary modem european version called eurodocsis cable operator like idea standard however since many making good money leasing modem captive customer open standard dozen manufacturer selling cable modem store end lucrative practice modemtocomputer interface straightforward normally mbps ethernet occasionally usb present future entire modem might small card plugged computer vx internal modem end complicated large part standard deal radio engineering subject far beyond scope book part worth mentioning cable modem like adsl modem always make connection turned maintain connection long powered cable operator charge connect time better understand work let u see happens cable modem plugged powered modem scan downstream channel looking special packet periodically put headend provide system parameter modem come online upon finding packet new modem announces presence one upstream channel headend responds assigning modem upstream downstream channel assignment changed later headend deems necessary balance load modem determines distance headend sending special packet seeing long take get response process called ranging important modem know distance accommodate way upstream channel operate get timing right divided time minislots upstream packet must fit one consecutive minislots headend announces start new round minislots periodically starting gun heard modem simultaneously due propagation time cable knowing far headend modem compute long ago first minislot really started minislot length network dependent typical payload  byte initialization headend also assigns modem minislot use requesting upstream bandwidth rule multiple modem assigned minislot lead contention computer want send packet transfer packet modem request necessary number minislots request accepted headend put acknowledgement downstream channel telling modem minislots reserved packet packet sent starting minislot allocated additional packet requested using field header hand contention request minislot acknowledgement modem wait random time try successive failure randomization time doubled reader already somewhat familiar networking algorithm slotted aloha binary exponential backoff ethernet used cable station sense medium come back issue chap  downstream channel managed differently upstream channel one thing one sender headend contention need minislots actually time division statistical multiplexing another traffic downstream usually much larger upstream fixed packet size  byte used part reedsolomon errorcorrecting code overhead leaving user payload  byte number chosen compatibility digital television using mpeg tv downstream data channel formatted way logically connection depicted fig  figure  typical detail upstream downstream channel north america  getting back modem initialization modem completed ranging gotten upstream channel downstream channel minislot assignment free start sending packet first packet sends one isp requesting ip address dynamically assigned using protocol called dhcp study chap  also request get accurate time day headend next step involves security since cable shared medium anybody want go trouble read traffic going past prevent everyone snooping neighbor literally traffic encrypted direction part initialization procedure involves establishing encryption key first one might think two stranger headend modem establish secret key broad daylight thousand people watching would impossible turn wait chap  explain short answer use diffiehellman algorithm finally modem log provide unique identifier secure channel point initialization complete user log isp get work much said cable modem relevant reference adam dulchinos  donaldson jones  duttaroy   adsl versus cable better adsl cable like asking operating system better language better religion answer get depends ask let u compare adsl cable point use fiber backbone differ edge cable us coax adsl us twisted pair theoretical carrying capacity coax hundred time twisted pair however full capacity cable available data user much cable s bandwidth wasted useless stuff television program practice hard generalize effective capacity adsl provider give specific statement bandwidth eg  mbps downstream  kbps upstream generally achieve  consistently cable provider make claim effective capacity depends many people currently active user s cable segment sometimes may better adsl sometimes may worse annoying though unpredictability great service one minute guarantee great service next minute since biggest bandwidth hog town may turned computer adsl system acquires user increasing number little effect existing user since user dedicated connection cable subscriber sign internet service performance existing user drop cure cable operator split busy cable connect one fiber node directly cost time money business pressure avoid aside already studied another system shared channel like cable mobile telephone system group user could call cellmates share fixed amount bandwidth normally rigidly divided fixed chunk among active user fdm tdm voice traffic fairly smooth data traffic rigid division inefficient data user frequently idle case reserved bandwidth wasted nevertheless respect cable access like mobile phone system like fixed system  availability issue adsl cable differ everyone telephone user close enough end office get adsl hand everyone cable cable company provides internet access get distance fiber node headend issue also worth noting since cable started television distribution medium business pointtopoint medium adsl inherently secure cable cable user easily read packet going cable reason decent cable provider encrypt traffic direction nevertheless neighbor get encrypted message still le secure get anything telephone system generally reliable cable example backup power continues work normally even power outage cable power amplifier along chain fails downstream user cut instantly finally adsl provider offer choice isps sometimes even required law always case cable operator conclusion adsl cable much alike different offer comparable service competition heat probably comparable price  summary physical layer basis network nature imposes two fundamental limit channel determine bandwidth limit nyquist limit deal noiseless channel shannon limit deal noisy channel transmission medium guided unguided principal guided medium twisted pair coaxial cable fiber optic unguided medium include radio microwave infrared laser air upandcoming transmission system satellite communication especially leo system key element wide area network telephone system main component local loop trunk switch local loop analog twisted pair circuit require modem transmitting digital data adsl offer speed  mbps dividing local loop many virtual channel modulating one separately wireless local loop another new development watch especially lmds trunk digital multiplexed several way including fdm tdm wdm circuit switching packet switching important mobile application fixed telephone system suitable mobile phone currently widespread use voice soon widespread use data first generation analog dominated amp second generation digital damp gsm cdma major option third generation digital based broadband cdma alternative system network access cable television system gradually evolved community antenna hybrid fiber coax potentially offer high bandwidth actual bandwidth available practice depends heavily number user currently active problem  compute fourier coefficient function f    noiseless khz channel sampled every  msec maximum data rate  television channel  mhz wide many bitssec sent fourlevel digital signal used assume noiseless channel  binary signal sent khz channel whose signaltonoise ratio  db maximum achievable data rate  signaltonoise ratio needed put t carrier khz line   difference passive star active repeater fiber network  much bandwidth  micron spectrum wavelength  micron  desired send sequence computer screen image optical fiber screen  x  pixel pixel  bit  screen image per second much bandwidth needed many micron wavelength needed band  micron  nyquist theorem true optical fiber copper wire  fig  lefthand band narrower others  radio antenna often work best diameter antenna equal wavelength radio wave reasonable antenna range  cm  meter diameter frequency range cover  multipath fading maximized two beam arrive  degree phase much path difference required maximize fading kmlong ghz microwave link  laser beam  mm wide aimed detector  mm wide  away roof building much angular diversion degree laser miss detector   loworbit satellite iridium project divided six necklace around earth altitude using period  minute average interval handoff stationary transmitter  consider satellite altitude geostationary satellite whose orbital plane inclined equatorial plane angle stationary user earth s surface north latitude satellite appear motionless sky describe motion  many end office code pre end office named threedigit area code first three digit local number area code started digit range –   second digit ended digit first two digit local number always range – third digit could digit  using data given text maximum number telephone existing u system support without changing numbering plan adding additional equipment could number telephone actually achieved purpose problem computer fax machine count telephone assume one device per subscriber line  simple telephone system consists two end office single toll office end office connected mhz fullduplex trunk average telephone used make four call per hour workday mean call duration  min ten percent call longdistance ie pas toll office maximum number telephone end office support assume  khz per circuit  regional telephone company  million subscriber telephone connected central office copper twisted pair average length twisted pair  km much copper local loop worth assume cross section strand circle  mm diameter density copper  gramscm  copper sell  dollar per kilogram  oil pipeline simplex system halfduplex system fullduplex system none  cost fast microprocessor dropped point possible put one modem affect handling telephone line error  modem constellation diagram similar fig  data point following coordinate         many bps modem parameter achieve  baud  modem constellation diagram similar fig  data point     modem use phase modulation amplitude modulation  constellation diagram point lie circle centered origin kind modulation used  many frequency fullduplex qam modem use  adsl system using dmt allocates  available data channel downstream link us qam modulation channel capacity downstream link  foursector lmds example fig  sector mbps channel according queueing theory channel  loaded queueing time equal download time condition long take download kb web page long take download page mbps adsl line kbps modem  ten signal requiring  hz multiplexed single channel using fdm much minimum bandwidth required multiplexed channel assume guard band  hz wide  pcm sampling time set  µsec  percent overhead t carrier percent  mbps delivered end user  compare maximum data rate noiseless khz channel using  analog encoding eg qpsk  bit per sample b b t pcm system  t carrier system slip loses track try resynchronize using st bit frame many frame inspected average resynchronize probability  wrong  difference demodulator part modem coder part codec convert analog signal digital one  signal transmitted digitally khz noiseless channel one sample every  µsec many bit per second actually sent encoding method ccitt  mbps standard b b dpcm bit relative signal value c c delta modulation  pure sine wave amplitude encoded using delta modulation x samplessec output  corresponds signal change a  output signal  corresponds signal change a  highest frequency tracked without cumulative error  sonet clock drift rate  part   long take drift equal width  bit implication calculation  fig  user data rate oc stated  mbps show number derived sonet oc parameter  accommodate lower data rate sts sonet system virtual tributary vt vt partial payload inserted sts frame combined partial payload fill data frame vt us  column vt us  column vt us  column vt us  column sts frame vt accommodate ds service  mbps b b european cept service  mbps c c ds service  mbps  essential difference message switching packet switching  available user bandwidth occ connection  three packetswitching network contain n node first network star topology central switch second bidirectional ring third fully interconnected wire every node every node best average andworst case transmission path hop  compare delay sending x bit message k hop path circuitswitched network lightly loaded packetswitched network circuit setup time sec propagation delay sec per hop packet size p bit data rate b bps condition packet network lower delay  suppose x bit user data transmitted k hop path packetswitched network series packet containing p data bit h header bit x p h bit rate line b bps propagation delay negligible value p minimizes total delay  typical mobile phone system hexagonal cell forbidden reuse frequency band adjacent cell  frequency available many used given cell  actual layout cell seldom regular shown fig  even shape individual cell typically irregular give possible reason might  make rough estimate number pc microcells  diameter would take cover san francisco  square km  sometimes mobile user cross boundary one cell another current call abruptly terminated even though transmitter receiver functioning perfectly  damp appreciably worse speech quality gsm due requirement damp backward compatible amp whereas gsm constraint cause  calculate maximum number user damp support simultaneously within single cell calculation gsm explain difference  suppose b c simultaneously transmitting  bit using cdma system chip sequence fig  b resulting chip sequence  discussion orthogonality cdma chip sequence stated •  also  prove  consider different way looking orthogonality property cdma chip sequence bit pair sequence match match express orthogonality property term match mismatch   cdma receiver get following chip         assuming chip sequence defined fig  b station transmitted bit one send  low end telephone system star shaped local loop neighborhood converging end office contrast cable television consists single long cable snaking way past house neighborhood suppose future tv cable  gbps fiber instead copper could used simulate telephone model everybody private line end office many onetelephone house could hooked single fiber  cable tv system  commercial channel alternating program advertising like tdm like fdm  cable company decides provide internet access cable neighborhood consisting  house company us coaxial cable spectrum allocation allowing  mbps downstream bandwidth per cable attract customer company decides guarantee least  mbps downstream bandwidth house time describe cable company need provide guarantee  using spectral allocation shown fig  information given text many mbps cable system allocate upstream many downstream  fast cable user receive data network otherwise idle  multiplexing sts multiple data stream called tributary play important role sonet  multiplexer multiplex three input sts tributary onto one output sts stream multiplexing done byte byte first three output byte first byte tributary    respectively next three output byte second byte tributary    respectively write program simulates  multiplexer program consist five process main process creates four process one three sts tributary one multiplexer tributary process read sts frame input file sequence  byte send frame byte byte multiplexer process multiplexer process receives byte output sts frame byte byte writing standard output use pipe communication among process  chapter  data link layer chapter study design principle layer  data link layer study deal algorithm achieving reliable efficient communication two adjacent machine data link layer adjacent mean two machine connected communication channel act conceptually like wire eg coaxial cable telephone line pointtopoint wireless channel essential property channel make wirelike bit delivered exactly order sent first might think problem trivial software study—machine put bit wire machine b take unfortunately communication circuit make error occasionally furthermore finite data rate nonzero propagation delay time bit sent time received limitation important implication efficiency data transfer protocol used communication must take factor consideration protocol subject chapter introduction key design issue present data link layer start study protocol looking nature error cause detected corrected study series increasingly complex protocol one solving problem present layer finally conclude examination protocol modeling correctness give example data link protocol  data link layer design issue data link layer number specific function carry function include  providing welldefined service interface network layer  dealing transmission error  regulating flow data slow receiver swamped fast sender accomplish goal data link layer take packet get network layer encapsulates frame transmission frame contains frame header payload field holding packet frame trailer illustrated fig  frame management form heart data link layer following section examine abovementioned issue detail figure  relationship packet frame although chapter explicitly data link layer data link protocol many principle study error control flow control found transport protocol well fact many network function found upper layer data link layer however matter found principle pretty much really matter study data link layer often show simplest purest form making good place examine detail   service provided network layer function data link layer provide service network layer principal service transferring data network layer source machine network layer destination machine source machine entity call process network layer hand bit data link layer transmission destination job data link layer transmit bit destination machine handed network layer shown fig  actual transmission follows path fig  b easier think term two data link layer process communicating using data link protocol reason implicitly use model fig  throughout chapter figure  virtual communication b actual communication data link layer designed offer various service actual service offered vary system system three reasonable possibility commonly provided  unacknowledged connectionless service  acknowledged connectionless service  acknowledged connectionoriented service let u consider turn unacknowledged connectionless service consists source machine send independent frame destination machine without destination machine acknowledge logical connection established beforehand released afterward frame lost due noise line attempt made detect loss recover data link layer class service appropriate error rate low recovery left higher layer also appropriate realtime traffic voice late data worse bad data lan use unacknowledged connectionless service data link layer next step term reliability acknowledged connectionless service service offered still logical connection used frame sent individually acknowledged way sender know whether frame arrived correctly arrived within specified time interval sent service useful unreliable channel wireless system perhaps worth emphasizing providing acknowledgement data link layer optimization never requirement network layer always send packet wait acknowledged acknowledgement forthcoming timer expires sender send entire message trouble strategy frame usually strict maximum length imposed hardware network layer packet average packet broken say  frame   percent frame lost may take long time packet get individual frame acknowledged retransmitted entire packet get much faster reliable channel fiber overhead heavyweight data link protocol may unnecessary wireless channel inherent unreliability well worth cost getting back service sophisticated service data link layer provide network layer connectionoriented service service source destination machine establish connection data transferred frame sent connection numbered data link layer guarantee frame sent indeed received furthermore guarantee frame received exactly frame received right order connectionless service contrast conceivable lost acknowledgement cause packet sent several time thus received several time connectionoriented service contrast provides network layer process equivalent reliable bit stream connectionoriented service used transfer go three distinct phase first phase connection established side initialize variable counter needed keep track frame received one second phase one frame actually transmitted third final phase connection released freeing variable buffer resource used maintain connection consider typical example wan subnet consisting router connected pointtopoint leased telephone line frame arrives router hardware check error using technique study late chapter pass frame data link layer software might embedded chip network interface board data link layer software check see frame expected give packet contained payload field routing software routing software chooses appropriate outgoing line pass packet back data link layer software transmits flow two router shown fig  figure  placement data link protocol routing code frequently want job done right reliable sequenced connection pointtopoint line want bothered often packet got lost way data link protocol shown dotted rectangle make unreliable communication line look perfect least fairly good aside although shown multiple copy data link layer software router fact one copy handle line different table data structure one  framing provide service network layer data link layer must use service provided physical layer physical layer accept raw bit stream attempt deliver destination bit stream guaranteed error free number bit received may le equal  number bit transmitted may different value data link layer detect necessary correct error usual approach data link layer break bit stream discrete frame compute checksum frame checksum algorithm discussed later chapter frame arrives destination checksum recomputed newlycomputed checksum different one contained frame data link layer know error occurred take step deal eg discarding bad frame possibly also sending back error report breaking bit stream frame difficult first appears one way achieve framing insert time gap frame much like space word ordinary text however network rarely make guarantee timing possible gap might squeezed gap might inserted transmission since risky count timing mark start end frame method devised section look four method  character count  flag byte byte stuffing  starting ending flag bit stuffing  physical layer coding violation first framing method us field header specify number character frame data link layer destination see character count know many character follow hence end frame technique shown fig  four frame size     character respectively figure  character stream without error b one error trouble algorithm count garbled transmission error example character count  second frame fig  b becomes  destination get synchronization unable locate start next frame even checksum incorrect destination know frame bad still way telling next frame start sending frame back source asking retransmission help either since destination know many character skip get start retransmission reason character count method rarely used anymore second framing method get around problem resynchronization error frame start end special byte past starting ending byte different recent year protocol used byte called flag byte starting ending delimiter shown fig  flag way receiver ever loses synchronization search flag byte find end current frame two consecutive flag byte indicate end one frame start next one  figure  frame delimited flag byte b four example byte sequence byte stuffing serious problem occurs method binary data object program floatingpoint number transmitted may easily happen flag byte s bit pattern occurs data situation usually interfere framing one way solve problem sender s data link layer insert special escape byte esc accidental flag byte data data link layer receiving end remove escape byte data given network layer technique called byte stuffing character stuffing thus framing flag byte distinguished one data absence presence escape byte course next question happens escape byte occurs middle data answer stuffed escape byte thus single escape byte part escape sequence whereas doubled one indicates single escape occurred naturally data example shown fig   b case byte sequence delivered destuffing exactly original byte sequence bytestuffing scheme depicted fig  slight simplification one used ppp protocol home computer use communicate internet service provider discus ppp later chapter major disadvantage using framing method closely tied use bit character character code use bit character example unicode us bit character network developed disadvantage embedding character code length framing mechanism became obvious new technique developed allow arbitrary sized character new technique allows data frame contain arbitrary number bit allows character code arbitrary number bit per character work like frame begin end special bit pattern  fact flag byte whenever sender s data link layer encounter five consecutive  data automatically stuff  bit outgoing bit stream bit stuffing analogous byte stuffing escape byte stuffed outgoing character stream flag byte data receiver see five consecutive incoming  bit followed  bit automatically destuffs ie deletes  bit byte stuffing completely transparent network layer computer bit stuffing user data contain flag pattern  flag transmitted  stored receiver s memory  figure  give example bit stuffing figure  bit stuffing original data b data appear line c data stored receiver s memory destuffing  bit stuffing boundary two frame unambiguously recognized flag pattern thus receiver loses track scan input flag sequence since occur frame boundary never within data last method framing applicable network encoding physical medium contains redundancy example lan encode  bit data using  physical bit normally  bit highlow pair  bit lowhigh pair scheme mean every data bit transition middle making easy receiver locate bit boundary combination highhigh lowlow used data used delimiting frame protocol final note framing many data link protocol use combination character count one method extra safety frame arrives count field used locate end frame appropriate delimiter present position checksum correct frame accepted valid otherwise input stream scanned next delimiter  error control solved problem marking start end frame come next problem make sure frame eventually delivered network layer destination proper order suppose sender kept outputting frame without regard whether arriving properly might fine unacknowledged connectionless service would certainly fine reliable connectionoriented service usual way ensure reliable delivery provide sender feedback happening end line typically protocol call receiver send back special control frame bearing positive negative acknowledgement incoming frame sender receives positive acknowledgement frame know frame arrived safely hand negative acknowledgement mean something gone wrong frame must transmitted additional complication come possibility hardware trouble may cause frame vanish completely eg noise burst case receiver react since reason react clear protocol sender transmits frame wait acknowledgement positive negative hang forever frame ever lost due example malfunctioning hardware possibility dealt introducing timer data link layer sender transmits frame generally also start timer timer set expire interval long enough frame reach destination processed acknowledgement propagate back sender normally frame correctly received acknowledgement get back timer run case timer canceled however either frame acknowledgement lost timer go alerting sender potential problem obvious solution transmit frame however frame may transmitted multiple time danger receiver accept frame two time pas network layer prevent happening generally necessary assign sequence number outgoing frame receiver distinguish retransmissions original whole issue managing timer sequence number ensure frame ultimately passed network layer destination exactly le important part data link layer s duty later chapter look series increasingly sophisticated example see management done   flow control another important design issue occurs data link layer higher layer well sender systematically want transmit frame faster receiver accept situation easily occur sender running fast lightly loaded computer receiver running slow heavily loaded machine sender keep pumping frame high rate receiver completely swamped even transmission error free certain point receiver simply unable handle frame arrive start lose clearly something done prevent situation two approach commonly used first one feedbackbased flow control receiver sends back information sender giving permission send data least telling sender receiver second one ratebased flow control protocol builtin mechanism limit rate sender may transmit data without using feedback receiver chapter study feedbackbased flow control scheme ratebased scheme never used data link layer look ratebased scheme chap  various feedbackbased flow control scheme known use basic principle protocol contains welldefined rule sender may transmit next frame rule often prohibit frame sent receiver granted permission either implicitly explicitly example connection set receiver might say you may send n frame sent send told continue examine detail shortly  error detection correction saw chap  telephone system three part switch interoffice trunk local loop first two almost entirely digital developed country local loop still analog twisted copper pair continue year due enormous expense replacing error rare digital part still common local loop furthermore wireless communication becoming common error rate order magnitude worse interoffice fiber trunk conclusion transmission error going u many year come learn deal result physical process generate error medium eg radio tend come burst rather singly error come burst advantage disadvantage isolated singlebit error advantage side computer data always sent block bit suppose block size  bit error rate  per bit error independent block would contain error error came burst  however one two block  would affected average disadvantage burst error much harder correct isolated error  errorcorrecting code network designer developed two basic strategy dealing error one way include enough redundant information along block data sent enable receiver deduce transmitted data must way include enough redundancy allow receiver deduce error occurred error request retransmission former strategy us errorcorrecting code latter us errordetecting code use errorcorrecting code often referred forward error correction technique occupies different ecological niche channel highly reliable fiber cheaper use error detecting code retransmit occasional block found faulty however channel wireless link make many error better add enough redundancy block receiver able figure original block rather relying retransmission may error understand error handled necessary look closely error really normally frame consists data ie message bit r redundant check bit let total length n ie n r n bit unit containing data check bit often referred n bit codeword  given two codewords say   possible determine many corresponding bit differ case  bit differ determine many bit differ exclusive two codewords count number  bit result example number bit position two codewords differ called hamming distance hamming  significance two codewords hamming distance apart require singlebit error convert one data transmission application  possible data message legal due way check bit computed  n possible codewords used given algorithm computing check bit possible construct complete list legal codewords list find two codewords whose hamming distance minimum distance hamming distance complete code errordetecting errorcorrecting property code depend hamming distance detect error need distance  code code way singlebit error change valid codeword another valid codeword receiver see invalid codeword tell transmission error occurred similarly correct error need distance   code way legal codewords far apart even change original codeword still closer codeword uniquely determined simple example errordetecting code consider code single parity bit appended data parity bit chosen number  bit codeword even odd example  sent even parity bit added end make  odd parity  becomes  code single parity bit distance  since singlebit error produce codeword wrong parity used detect single error simple example errorcorrecting code consider code four valid codewords     code distance  mean correct double error codeword  arrives receiver know original must  however triple error change   error corrected properly imagine want design code message bit r check bit allow single error corrected  legal message n illegal codewords distance  formed systematically inverting n bit n bit codeword formed thus  legal message requires n  bit pattern dedicated since total number bit pattern  n must n    n using n r requirement becomes r   r given put lower limit number check bit needed correct single error theoretical lower limit fact achieved using method due hamming  bit codeword numbered consecutively starting bit  left end bit  immediate right bit power       etc check bit rest      etc filled data bit check bit force parity collection bit including even odd bit may included several parity computation see check bit data bit position k contributes rewrite k sum power  example          bit checked check bit occurring expansion eg bit  checked bit     codeword arrives receiver initializes counter zero examines check bit k k     see correct parity receiver add k counter counter zero check bit examined ie correct codeword accepted valid counter nonzero contains number incorrect bit example check bit    error inverted bit  one checked bit    figure  show bit ascii character encoded bit codewords using hamming code remember data found bit position        figure  use hamming code correct burst error hamming code correct single error however trick used permit hamming code correct burst error sequence k consecutive codewords arranged matrix one codeword per row normally data would transmitted one codeword time left right correct burst error data transmitted one column time starting leftmost column k bit sent second column sent indicated fig  frame arrives receiver matrix reconstructed one column time burst error length k occurs  bit k codewords affected hamming code correct one error per codeword entire block restored method us kr check bit make block km data bit immune single burst error length k le  errordetecting code errorcorrecting code widely used wireless link notoriously noisy error prone compared copper wire optical fiber without errorcorrecting code would hard get anything however copper wire fiber error rate much lower error detection retransmission usually efficient dealing occasional error simple example consider channel error isolated error rate   per bit let block size  bit provide error correction bit block  check bit needed megabit data would require  check bit merely detect block single bit error one parity bit per block suffice every  block extra block  bit transmitted total overhead error detection retransmission method  bit per megabit data versus  bit hamming code single parity bit added block block badly garbled long burst error probability error detected  hardly acceptable odds improved considerably block sent regarded rectangular matrix n bit wide k bit high described parity bit computed separately column affixed matrix last row matrix transmitted one row time block arrives receiver check parity bit one wrong receiver request retransmission block additional retransmissions requested needed entire block received without parity error  method detect single burst length n since  bit per column changed burst length n  pas undetected however first bit inverted last bit inverted bit correct burst error imply bit wrong implies least first last wrong block badly garbled long burst multiple shorter burst probability n column correct parity accident  probability bad block accepted  n although scheme may sometimes adequate practice another method widespread use polynomial code also known crc cyclic redundancy check polynomial code based upon treating bit string representation polynomial coefficient   k bit frame regarded coefficient list polynomial k term ranging x k  x  polynomial said degree k  highorder leftmost bit coefficient x k  next bit coefficient x k  example   bit thus represents sixterm polynomial coefficient       x  x  x  polynomial arithmetic done modulo  according rule algebraic field theory carry addition borrows subtraction addition subtraction identical exclusive example long division carried way binary except subtraction done modulo  divisor said to go dividend dividend many bit divisor polynomial code method employed sender receiver must agree upon generator polynomial g x advance high loworder bit generator must  compute checksum frame bit corresponding polynomial x frame must longer generator polynomial idea append checksum end frame way polynomial represented checksummed frame divisible g x receiver get checksummed frame try dividing g x remainder transmission error algorithm computing checksum follows  let r degree g x append r zero bit loworder end frame contains r bit corresponds polynomial xm r x  divide bit string corresponding g x bit string corresponding xm r x using modulo  division  subtract remainder always r fewer bit bit string corresponding xm r x using modulo  subtraction result checksummed frame transmitted call polynomial x figure  illustrates calculation frame  using generator g x x  x  figure  calculation polynomial code checksum  clear x divisible modulo  g x division problem diminish dividend remainder left divisible divisor example base  divide   remainder  subtracting   left  divisible  let u analyze power method kind error detected imagine transmission error occurs instead bit string x arriving x e x arrives  bit e x corresponds bit inverted k  bit e x k singlebit error occurred single burst error characterized initial  mixture   final  bit  upon receiving checksummed frame receiver divide g x computes x e x g x x g x  result computation simply e x g x error happen correspond polynomial containing g x factor slip error caught singlebit error e x x determines bit error g x contains two term never divide e x singlebit error detected two isolated singlebit error e x x x j j alternatively written e x x j x j  assume g x divisible x sufficient condition double error detected g x divide x k  k maximum value j ie maximum frame length simple lowdegree polynomial give protection long frame known example x  x   divide x k  value k   odd number bit error e x contains odd number term eg x  x   x   interestingly polynomial odd number term x  factor modulo  system making x a factor g x catch error consisting odd number inverted bit see polynomial odd number term divisible x  assume e x odd number term divisible x  factor e x x  q x evaluate e    q  since    modulo  e  must zero e x odd number term substituting  x everywhere always yield  result thus polynomial odd number term divisible x  finally importantly polynomial code r check bit detect burst error length r burst error length k represented x x k   determines far righthand end received frame burst located g x contains x  term x factor degree parenthesized expression le degree g x remainder never zero burst length r  remainder division g x zero burst identical g x definition burst first last bit must  whether match depends r  intermediate bit combination regarded equally likely probability incorrect frame accepted valid ½ r  also shown error burst longer r  bit occurs several shorter burst occur probability bad frame getting unnoticed ½ r assuming bit pattern equally likely certain polynomial become international standard one used ieee  among desirable property property detects burst length  le burst affecting odd number bit although calculation required compute checksum may seem complicated peterson brown  shown simple shift register circuit constructed compute verify checksum hardware practice hardware nearly always used virtually lan use pointtopoint line case decade assumed frame checksummed contain random bit analysis checksum algorithm made assumption inspection real data shown assumption quite wrong consequence circumstance undetected error much common previously thought partridge et al   elementary data link protocol introduce subject protocol begin looking three protocol increasing complexity interested reader simulator subsequent protocol available via web see preface look protocol useful make explicit assumption underlying model communication start assume physical layer data link layer network layer independent process communicate passing message back forth many case physical data link layer process running processor inside special network io chip network layer code running main cpu however implementation also possible eg three process inside single io chip physical data link layer procedure called network layer process event treating three layer separate process make discussion conceptually cleaner also serf emphasize independence layer another key assumption machine want send long stream data machine b using reliable connectionoriented service later consider case b also want send data  simultaneously assumed infinite supply data ready send never wait data produced instead s data link layer asks data network layer always able comply immediately restriction dropped later also assume machine crash protocol deal communication error problem caused computer crashing rebooting far data link layer concerned packet passed across interface network layer pure data whose every bit delivered destination s network layer fact destination s network layer may interpret part packet header concern data link layer data link layer accepts packet encapsulates packet frame adding data link header trailer see fig  thus frame consists embedded packet control information header checksum trailer frame transmitted data link layer machine assume exist suitable library procedure physical layer send frame physical layer receive frame transmitting hardware computes appends checksum thus creating trailer datalink layer software need worry polynomial algorithm discussed earlier chapter might used example initially receiver nothing sits around waiting something happen example protocol chapter indicate data link layer waiting something happen procedure call wait event event procedure return something happened eg frame arrived upon return variable event tell happened set possible event differs various protocol described defined separately protocol note realistic situation data link layer sit tight loop waiting event suggested receive interrupt cause stop whatever go handle incoming frame nevertheless simplicity ignore detail parallel activity within data link layer assume dedicated full time handling one channel frame arrives receiver hardware computes checksum checksum incorrect ie transmission error data link layer informed event cksum err inbound frame arrived undamaged data link layer also informed event frame arrival acquire frame inspection using physical layer soon receiving data link layer acquired undamaged frame check control information header everything right pass packet portion network layer circumstance frame header ever given network layer good reason network layer must never given part frame header keep network data link protocol completely separate long network layer know nothing data link protocol frame format thing changed without requiring change network layer s software providing rigid interface network layer data link layer greatly simplifies software design communication protocol different layer evolve independently figure  show declaration c common many protocol discussed later five data structure defined boolean seq nr packet frame kind frame boolean enumerated type take value true false seq nr small integer used number frame tell apart sequence number run  including max seq defined protocol needing packet unit information exchanged network layer data link layer machine network layer peer model always contains max pkt byte realistically would variable length figure  definition needed protocol follow definition located file protocolh  frame composed four field kind seq ack info first three contain control information last may contain actual data transferred control field collectively called frame header kind field tell whether data frame protocol distinguish frame containing control information containing data well seq ack field used sequence number acknowledgement respectively use described detail later info field data frame contains single packet info field control frame used realistic implementation would use variablelength info field omitting altogether control frame important realize relationship packet frame network layer build packet taking message transport layer adding network layer header packet passed data link layer inclusion info field outgoing frame frame arrives destination data link layer extract packet frame pass packet network layer manner network layer act though machine exchange packet directly  number procedure also listed fig  library routine whose detail implementation dependent whose inner working concern u procedure wait event sits tight loop waiting something happen mentioned earlier procedure network layer network layer used data link layer pas packet network layer accept packet network layer respectively note physical layer physical layer pas frame data link layer physical layer hand procedure network layer network layer pas packet data link layer network layer word network layer network layer deal interface layer   whereas physical layer physical layer deal interface layer   protocol assume channel unreliable loses entire frame upon occasion able recover calamity sending data link layer must start internal timer clock whenever sends frame reply received within certain predetermined time interval clock time data link layer receives interrupt signal protocol handled allowing procedure wait event return event timeout procedure start timer stop timer turn timer respectively timeouts possible timer running explicitly permitted call start timer timer running call simply reset clock cause next timeout full timer interval elapsed unless reset turned meanwhile procedure start ack timer stop ack timer control auxiliary timer used generate acknowledgement certain condition procedure enable network layer disable network layer used sophisticated protocol longer assume network layer always packet send data link layer enables network layer network layer permitted interrupt packet sent indicate event network layer ready network layer disabled may cause event careful enables disables network layer data link layer prevent network layer swamping packet buffer space frame sequence number always range  max seq inclusive max seq different different protocol frequently necessary advance sequence number  circularly ie max seq followed  macro inc performs incrementing defined macro used inline within critical path see later factor limiting network performance often protocol processing defining simple operation like macro affect readability code improve performance also since max seq different value different protocol making macro becomes possible include protocol binary without conflict ability useful simulator declaration fig  part protocol follow save space provide convenient reference extracted listed together conceptually merged protocol c merging done putting definition special header file case protocolh using include facility c preprocessor include protocol file  unrestricted simplex protocol initial example consider protocol simple data transmitted one direction transmitting receiving network layer always ready processing time ignored infinite buffer space available best communication channel data link layer never damage loses frame thoroughly unrealistic protocol nickname utopia shown fig  figure  unrestricted simplex protocol  protocol consists two distinct procedure sender receiver sender run data link layer source machine receiver run data link layer destination machine sequence number acknowledgement used max seq needed event type possible frame arrival ie arrival undamaged frame sender infinite loop pumping data onto line fast body loop consists three action go fetch packet always obliging network layer construct outbound frame using variable send frame way info field frame used protocol field error flow control error flow control restriction receiver equally simple initially wait something happen possibility arrival undamaged frame eventually frame arrives procedure wait event return event set frame arrival ignored anyway call physical layer remove newly arrived frame hardware buffer put variable r receiver code get finally data portion passed network layer data link layer settle back wait next frame effectively suspending frame arrives   simplex stopandwait protocol drop unrealistic restriction used protocol  ability receiving network layer process incoming data infinitely quickly equivalently presence receiving data link layer infinite amount buffer space store incoming frame waiting respective turn communication channel still assumed error free however data traffic still simplex main problem deal prevent sender flooding receiver data faster latter able process essence receiver requires time execute physical layer plus network layer sender must transmit average rate le one frame per time moreover assume automatic buffering queueing done within receiver s hardware sender must never transmit new frame old one fetched physical layer lest new one overwrite old one certain restricted circumstance eg synchronous transmission receiving data link layer fully dedicated processing one input line might possible sender simply insert delay protocol  slow sufficiently keep swamping receiver however usually data link layer several line attend time interval frame arriving processed may vary considerably network designer calculate worstcase behavior receiver program sender transmit slowly even every frame suffers maximum delay overrun trouble approach conservative lead bandwidth utilization far optimum unless best worst case almost ie variation data link layer s reaction time small general solution dilemma receiver provide feedback sender passed packet network layer receiver sends little dummy frame back sender effect give sender permission transmit next frame sent frame sender required protocol bide time little dummy ie acknowledgement frame arrives using feedback receiver let sender know may send data example flow control mentioned earlier protocol sender sends one frame wait acknowledgement proceeding called stopandwait figure  give example simplex stopandwait protocol figure  simplex stopandwait protocol  although data traffic example simplex going sender receiver frame travel direction consequently communication channel two data link layer need capable bidirectional information transfer however protocol entail strict alternation flow first sender sends frame receiver sends frame sender sends another frame receiver sends another one half duplex physical channel would suffice protocol  sender start fetching packet network layer using construct frame sending way unlike protocol  sender must wait acknowledgement frame arrives looping back fetching next packet network layer sending data link layer need even inspect incoming frame one possibility incoming frame always acknowledgement difference receiver receiver delivering packet network layer receiver sends acknowledgement frame back sender entering wait loop arrival frame back sender important content receiver need put particular information  simplex protocol noisy channel let u consider normal situation communication channel make error frame may either damaged lost completely however assume frame damaged transit receiver hardware detect computes checksum frame damaged way checksum nevertheless correct unlikely occurrence protocol protocol fail ie deliver incorrect packet network layer  first glance might seem variation protocol  would work adding timer sender could send frame receiver would send acknowledgement frame data correctly received damaged frame arrived receiver would discarded sender would time send frame process would repeated frame finally arrived intact scheme fatal flaw think problem try discover might go wrong reading see might go wrong remember task data link layer process provide errorfree transparent communication network layer process network layer machine give series packet data link layer must ensure identical series packet delivered network layer machine b data link layer particular network layer b way knowing packet lost duplicated data link layer must guarantee combination transmission error however unlikely cause duplicate packet delivered network layer consider following scenario  network layer give packet  data link layer packet correctly received b passed network layer b b sends acknowledgement frame back  acknowledgement frame get lost completely never arrives life would great deal simpler channel mangled lost data frame control frame sad say channel discriminating  data link layer eventually time received acknowledgement incorrectly assumes data frame lost damaged sends frame containing packet   duplicate frame also arrives data link layer b perfectly unwittingly passed network layer sending file b part file duplicated ie copy file made b incorrect error detected word protocol fail clearly needed way receiver able distinguish frame seeing first time retransmission obvious way achieve sender put sequence number header frame sends receiver check sequence number arriving frame see new frame duplicate discarded since small frame header desirable question arises minimum number bit needed sequence number ambiguity protocol frame direct successor  frame lost damaged receiver acknowledge sender keep trying send correctly received receiver send acknowledgement sender potential trouble crop depending upon whether acknowledgement frame get back sender correctly sender may try send  event trigger sender start sending frame  arrival acknowledgement frame  implies correctly received furthermore acknowledgement also correctly received sender otherwise sender would begun  let alone  consequence ambiguity frame immediate predecessor successor predecessor successor bit sequence number   therefore sufficient instant time receiver expects particular sequence number next arriving frame containing wrong sequence number rejected duplicate frame containing correct sequence number arrives accepted passed network layer expected sequence number incremented modulo  ie  becomes   becomes  example kind protocol shown fig  protocol sender wait positive acknowledgement advancing next data item often called par positive acknowledgement retransmission arq automatic repeat request like protocol  one also transmits data one direction figure  positive acknowledgement retransmission protocol  protocol  differs predecessor sender receiver variable whose value remembered data link layer wait state sender remembers sequence number next frame send next frame send receiver remembers sequence number next frame expected frame expected protocol short initialization phase entering infinite loop transmitting frame sender start timer running already running reset allow another full timer interval time interval chosen allow enough time frame get receiver receiver process worst case acknowledgement frame propagate back sender time interval elapsed safe assume either transmitted frame acknowledgement lost send duplicate timeout interval set short sender transmit unnecessary frame extra frame affect correctness protocol hurt performance  transmitting frame starting timer sender wait something exciting happen three possibility exist acknowledgement frame arrives undamaged damaged acknowledgement frame stagger timer expires valid acknowledgement come sender fetch next packet network layer put buffer overwriting previous packet also advance sequence number damaged frame arrives frame arrives neither buffer sequence number changed duplicate sent valid frame arrives receiver sequence number checked see duplicate accepted passed network layer acknowledgement generated duplicate damaged frame passed network layer  sliding window protocol previous protocol data frame transmitted one direction practical situation need transmitting data direction one way achieving fullduplex data transmission two separate communication channel use one simplex data traffic different direction done two separate physical circuit forward channel data reverse channel acknowledgement case bandwidth reverse channel almost entirely wasted effect user paying two circuit using capacity one better idea use circuit data direction protocol   already used transmit frame way reverse channel capacity forward channel model data frame b intermixed acknowledgement frame b looking kind field header incoming frame receiver tell whether frame data acknowledgement although interleaving data control frame circuit improvement two separate physical circuit yet another improvement possible data frame arrives instead immediately sending separate control frame receiver restrains wait network layer pass next packet acknowledgement attached outgoing data frame using ack field frame header effect acknowledgement get free ride next outgoing data frame technique temporarily delaying outgoing acknowledgement hooked onto next outgoing data frame known piggybacking principal advantage using piggybacking distinct acknowledgement frame better use available channel bandwidth ack field frame header cost bit whereas separate frame would need header acknowledgement checksum addition fewer frame sent mean fewer frame arrival interrupt perhaps fewer buffer receiver depending receiver s software organized next protocol examined piggyback field cost  bit frame header rarely cost bit however piggybacking introduces complication present separate acknowledgement long data link layer wait packet onto piggyback acknowledgement data link layer wait longer sender s timeout period frame retransmitted defeating whole purpose acknowledgement data link layer oracle could foretell future would know next network layer packet going come could decide either wait send separate acknowledgement immediately depending long projected wait going course data link layer foretell future must resort ad hoc scheme waiting fixed number millisecond new packet arrives quickly acknowledgement piggybacked onto otherwise new packet arrived end time period data link layer sends separate acknowledgement frame next three protocol bidirectional protocol belong class called sliding window protocol three differ among term efficiency complexity buffer requirement discussed later sliding window protocol outbound frame contains sequence number ranging  maximum maximum usually  n  sequence number fit exactly n bit field stopandwait sliding window protocol us n  restricting sequence number   sophisticated version use arbitrary n  essence sliding window protocol instant time sender maintains set sequence number corresponding frame permitted send frame said fall within sending window similarly receiver also maintains receiving window corresponding set frame permitted accept sender s window receiver s window need lower upper limit even size protocol fixed size others grow shrink course time frame sent received although protocol give data link layer freedom order may send receive frame definitely dropped requirement protocol must deliver packet destination network layer order passed data link layer sending machine changed requirement physical communication channel wirelike must deliver frame order sent sequence number within sender s window represent frame sent sent yet acknowledged whenever new packet arrives network layer given next highest sequence number upper edge window advanced one acknowledgement come lower edge advanced one way window continuously maintains list unacknowledged frame figure  show example figure  sliding window size  bit sequence number initially b first frame sent c first frame received first acknowledgement received since frame currently within sender s window may ultimately lost damaged transit sender must keep frame memory possible retransmission thus maximum window size n sender need n buffer hold unacknowledged frame window ever grows maximum size sending data link layer must forcibly shut network layer another buffer becomes free receiving data link layer s window corresponds frame may accept frame falling outside window discarded without comment frame whose sequence number equal lower edge window received passed network layer acknowledgement generated window rotated one unlike sender s window receiver s window always remains initial size note window size  mean data link layer accepts frame order larger window network layer contrast always fed data proper order regardless data link layer s window size figure  show example maximum window size  initially frame outstanding lower upper edge sender s window equal time go situation progress shown   onebit sliding window protocol tackling general case let u first examine sliding window protocol maximum window size  protocol us stopandwait since sender transmits frame wait acknowledgement sending next one figure  depicts protocol like others start defining variable next frame send tell frame sender trying send similarly frame expected tell frame receiver expecting case   possibility figure  bit sliding window protocol normal circumstance one two data link layer go first transmits first frame word one data link layer program contain physical layer start timer procedure call outside main loop event data link layer start simultaneously peculiar situation arises discussed later starting machine fetch first packet network layer build frame sends frame arrives receiving data link layer check see  duplicate protocol  frame one expected passed network layer receiver s window slid acknowledgement field contains number last frame received without error number agrees sequence number frame sender trying send sender know done frame stored buffer fetch next packet network layer sequence number disagrees must continue trying send frame whenever frame received frame also sent back let u examine protocol  see resilient pathological scenario assume computer trying send frame  computer b b trying send frame  suppose sends frame b s timeout interval little short consequently may time repeatedly sending series identical frame seq  ack  first valid frame arrives computer b accepted frame expected set  subsequent frame rejected b expecting frame sequence number   furthermore since duplicate ack  b still waiting acknowledgement  b fetch new packet network layer every rejected duplicate come b sends frame containing seq  ack  eventually one arrives correctly causing begin sending next packet combination lost frame premature timeouts cause protocol deliver duplicate packet either network layer skip packet deadlock however peculiar situation arises side simultaneously send initial packet synchronization difficulty illustrated fig  part normal operation protocol shown b peculiarity illustrated b wait s first frame sending one sequence shown every frame accepted however b simultaneously initiate communication first frame cross data link layer get situation b frame arrival brings new packet network layer duplicate b half frame contain duplicate even though transmission error similar situation occur result premature timeouts even one side clearly start first fact multiple premature timeouts occur frame may sent three time figure  two scenario protocol  normal case b abnormal case notation seq ack packet number asterisk indicates network layer accepts packet  protocol using go back n made tacit assumption transmission time required frame arrive receiver plus transmission time acknowledgement come back negligible sometimes assumption clearly false situation long roundtrip time important implication efficiency bandwidth utilization example consider kbps satellite channel msec  roundtrip propagation delay let u imagine trying use protocol  send bit frame via satellite  sender start sending first frame  msec frame completely sent  msec frame fully arrived receiver  msec acknowledgement arrived back sender best circumstance waiting receiver short acknowledgement frame mean sender blocked   percent time word  percent available bandwidth used clearly combination long transit time high bandwidth short frame length disastrous term efficiency problem described viewed consequence rule requiring sender wait acknowledgement sending another frame relax restriction much better efficiency achieved basically solution lie allowing sender transmit w frame blocking instead  appropriate choice w sender able continuously transmit frame time equal roundtrip transit time without filling window example w least  sender begin sending frame  time finished sending  frame  acknowledgement frame  arrived thereafter acknowledgement arrive every  msec sender always get permission continue need time   unacknowledged frame outstanding put term sender s maximum window size  need large window sending side occurs whenever product bandwidth x roundtripdelay large bandwidth high even moderate delay sender exhaust window quickly unless large window delay high eg geostationary satellite channel sender exhaust window even moderate bandwidth product two factor basically tell capacity pipe sender need ability fill without stopping order operate peak efficiency technique known pipelining channel capacity b bitssec frame size l bit roundtrip propagation time r sec time required transmit single frame lb sec last bit data frame sent delay r  bit arrives receiver another delay least r  acknowledgement come back total delay r stopandwait line busy lb idle r giving l br efficiency le  percent since always nonzero delay acknowledgement propagate back pipelining principle used keep line busy interval interval small additional complexity worth trouble pipelining frame unreliable communication channel raise serious issue first happens frame middle long stream damaged lost large number succeeding frame arrive receiver sender even find anything wrong damaged frame arrives receiver obviously discarded receiver correct frame following remember receiving data link layer obligated hand packet network layer sequence fig  see effect pipelining error recovery examine detail figure  pipelining error recovery effect error receiver s window size  b receiver s window size large  two basic approach available dealing error presence pipelining one way called go back n receiver simply discard subsequent frame sending acknowledgement discarded frame strategy corresponds receive window size  word data link layer refuse accept frame except next one must give network layer sender s window fill timer run pipeline begin empty eventually sender time retransmit unacknowledged frame order starting damaged lost one approach waste lot bandwidth error rate high fig  see go back n case receiver s window large frame   correctly received acknowledged frame  however damaged lost sender unaware problem continues send frame timer frame  expires back frame  start sending    etc general strategy handling error frame pipelined called selective repeat used bad frame received discarded good frame received buffered sender time oldest unacknowledged frame retransmitted frame arrives correctly receiver deliver network layer sequence frame buffered selective repeat often combined receiver send negative acknowledgement nak detects error example receives checksum error frame sequence naks stimulate retransmission corresponding timer expires thus improve performance fig  b frame   correctly received acknowledged frame  lost frame  arrives receiver data link layer notice missed frame sends back nak  buffer  frame   arrive buffered data link layer instead passed network layer eventually nak  get back sender immediately resends frame  arrives data link layer     pas network layer correct order also acknowledge frame including  shown figure nak get lost eventually sender time frame  send accord may quite later effect nak speed retransmission one specific frame  selective repeat corresponds receiver window larger  frame within window may accepted buffered preceding one passed network layer approach require large amount data link layer memory window large two alternative approach tradeoff bandwidth data link layer buffer space depending resource scarcer one used figure  show pipelining protocol receiving data link layer accepts frame order frame following error discarded protocol first time dropped assumption network layer always infinite supply packet send network layer packet want send cause network layer ready event happen however enforce flow control rule maxseq unacknowledged frame outstanding time data link layer must able keep network layer bothering work library procedure enable network layer disable network layer job figure  sliding window protocol using go back n   note maximum max seq frame max seq  frame may outstanding instant even though max seq  distinct sequence number    max seq see restriction required consider following scenario max seq   sender sends frame    piggybacked acknowledgement frame  eventually come back sender  sender sends another eight frame sequence number    another piggybacked acknowledgement frame  come question eight frame belonging second batch arrive successfully eight get lost counting discard following error lost case receiver would sending frame  acknowledgement sender way telling reason maximum number outstanding frame must restricted max seq although protocol  buffer frame arriving error escape problem buffering altogether since sender may retransmit unacknowledged frame future time must hang transmitted frame know sure accepted receiver acknowledgement come frame n frame n  n  also automatically acknowledged property especially important previous acknowledgementbearing frame lost garbled whenever acknowledgement come data link layer check see buffer released buffer released ie room available window previously blocked network layer allowed cause network layer ready event protocol assume always reverse traffic piggyback acknowledgement acknowledgement sent protocol  need assumption since sends back one frame every time receives frame even already sent frame next protocol solve problem oneway traffic elegant way protocol  multiple outstanding frame logically need multiple timer one per outstanding frame frame time independently one timer easily simulated software using single hardware clock cause interrupt periodically pending timeouts form linked list node list telling number clock tick timer expires frame timed pointer next node illustration timer could implemented consider example fig  assume clock tick every  msec initially real time  three timeouts pending    every time hardware clock tick real time updated tick counter head list decremented tick counter becomes zero timeout caused node removed list shown fig  b although organization requires list scanned start timer stop timer called require much work per tick protocol  routine given parameter indicating frame timed figure  simulation multiple timer software   protocol using selective repeat protocol  work well error rare line poor waste lot bandwidth retransmitted frame alternative strategy handling error allow receiver accept buffer frame following damaged lost one protocol discard frame merely earlier frame damaged lost protocol sender receiver maintain window acceptable sequence number sender s window size start  grows predefined maximum max seq receiver s window contrast always fixed size equal max seq receiver buffer reserved sequence number within fixed window associated buffer bit arrived telling whether buffer full empty whenever frame arrives sequence number checked function see fall within window already received accepted stored action taken without regard whether contains next packet expected network layer course must kept within data link layer passed network layer lowernumbered frame already delivered network layer correct order protocol using algorithm given fig   figure  sliding window protocol using selective repeat   nonsequential receive introduces certain problem present protocol frame accepted order illustrate trouble easily example suppose bit sequence number sender permitted transmit seven frame required wait acknowledgement initially sender s receiver s window shown fig  sender transmits frame   receiver s window allows accept frame sequence number   inclusive seven frame arrive correctly receiver acknowledges advance window allow receipt        shown fig  b seven buffer marked empty figure  initial situation window size seven b seven frame sent received acknowledged c initial situation window size four four frame sent received acknowledged point disaster strike form lightning bolt hitting telephone pole wiping acknowledgement sender eventually time retransmits frame  frame arrives receiver check made see fall within receiver s window unfortunately fig  b frame  within new window accepted receiver sends piggybacked acknowledgement frame  since   received sender happy learn transmitted frame actually arrive correctly advance window immediately sends frame        frame  accepted receiver packet passed directly network layer immediately thereafter receiving data link layer check see valid frame  already discovers pass embedded packet network layer consequently network layer get incorrect packet protocol fails essence problem receiver advanced window new range valid sequence number overlapped old one consequently following batch frame might either duplicate acknowledgement lost new one acknowledgement received poor receiver way distinguishing two case way dilemma lie making sure receiver advanced window overlap original window ensure overlap maximum window size half range sequence number done fig  c fig  example  bit used sequence number range   eight unacknowledged frame outstanding instant way receiver accepted frame   advanced window permit acceptance frame   unambiguously tell subsequent frame retransmissions   new one   general window size protocol  max seq   thus bit sequence number window size four interesting question many buffer must receiver condition ever accept frame whose sequence number lower edge window frame whose sequence number upper edge window consequently number buffer needed equal window size range sequence number example bit sequence number eight buffer numbered   needed frame arrives put buffer mod  notice although  mod  competing buffer never within window time would imply window size least   reason number timer needed equal number buffer size sequence space effectively timer associated buffer timer run content buffer retransmitted protocol  implicit assumption channel heavily loaded frame arrives acknowledgement sent immediately instead acknowledgement piggybacked onto next outgoing data frame reverse traffic light acknowledgement held long period time lot traffic one direction traffic direction max seq packet sent protocol block assume always reverse traffic protocol  problem fixed insequence data frame arrives auxiliary timer started start ack timer reverse traffic presented timer expires separate acknowledgement frame sent interrupt due auxiliary timer called ack timeout event arrangement onedirectional traffic flow possible lack reverse data frame onto acknowledgement piggybacked longer obstacle one auxiliary timer exists start ack timer called timer running reset full acknowledgement timeout interval essential timeout associated auxiliary timer appreciably shorter timer used timing data frame condition required make sure correctly received frame acknowledged early enough frame s retransmission timer expire retransmit frame protocol  us efficient strategy protocol  dealing error whenever receiver reason suspect error occurred sends negative acknowledgement nak frame back sender frame request retransmission frame specified nak two case receiver suspicious damaged frame arrived frame expected one arrived potential lost frame avoid making multiple request retransmission lost frame receiver keep track whether nak already sent given frame variable nak protocol  true nak sent yet frame expected nak get mangled lost real harm done since sender eventually time retransmit missing frame anyway wrong frame arrives nak sent lost nak true auxiliary timer started expires ack sent resynchronize sender receiver s current status situation time required frame propagate destination processed acknowledgement come back nearly constant situation sender adjust timer slightly larger normal time interval expected sending frame receiving acknowledgement however time highly variable sender faced choice either setting interval small value risking unnecessary retransmissions setting large value going idle long period error choice waste bandwidth reverse traffic sporadic time acknowledgement irregular shorter reverse traffic longer variable processing time within receiver also problem general whenever standard deviation acknowledgement interval small compared interval timer set tight naks useful otherwise timer must set loose avoid unnecessary retransmissions naks appreciably speed retransmission lost damaged frame closely related matter timeouts naks question determining frame caused timeout protocol  always ack expected always oldest protocol  trivial way determine timed suppose frame   transmitted meaning list outstanding frame  order oldest youngest imagine  time  new frame transmitted  time  time  another new frame transmitted point list outstanding frame  oldest youngest inbound traffic ie acknowledgementbearing frame lost seven outstanding frame time order keep example getting even complicated already shown timer administration instead assume variable oldest frame set upon timeout indicate frame timed   protocol verification realistic protocol program implement often quite complicated consequently much research done trying find formal mathematical technique specifying verifying protocol following section look model technique although looking context data link layer also applicable layer  finite state machine model key concept used many protocol model finite state machine technique protocol machine ie sender receiver always specific state every instant time state consists value variable including program counter case large number state grouped purpose analysis example considering receiver protocol  could abstract possible state two important one waiting frame  waiting frame  state thought transient step way one main state typically state chosen instant protocol machine waiting next event happen ie executing procedure call wait event example point state protocol machine completely determined state variable number state  n n number bit needed represent variable combined state complete system combination state two protocol machine channel state channel determined content using protocol  example channel four possible state  frame  frame moving sender receiver acknowledgement frame going way empty channel model sender receiver two state complete system  distinct state word channel state order concept frame on channel abstraction course really mean frame possibly received yet processed destination frame remains on channel protocol machine executes fromphysicallayer process state zero possible transition state transition occur event happens protocol machine transition might occur frame sent frame arrives timer expires interrupt occurs etc channel typical event insertion new frame onto channel protocol machine delivery frame protocol machine loss frame due noise given complete description protocol machine channel characteristic possible draw directed graph showing state node transition directed arc one particular state designated initial state state corresponds description system start running convenient starting place shortly thereafter initial state perhaps state reached sequence transition using wellknown technique graph theory eg computing transitive closure graph possible determine state reachable technique called reachability analysis lin et al  analysis helpful determining whether protocol correct formally finite state machine model protocol regarded quadruple set state process channel set frame exchanged channel set initial state process set transition state  beginning time process initial state event begin happen frame becoming available transmission timer going event may cause one process channel take action switch new state carefully enumerating possible successor state one build reachability graph analyze protocol reachability analysis used detect variety error protocol specification example possible certain frame occur certain state finite state machine say action taken specification error incompleteness exists set state exit made progress made ie correct frame received another error deadlock le serious error protocol specification tell handle event state event occur extraneous transition error also detected example finite state machine model consider fig  graph corresponds protocol  described protocol machine two state channel four state total  state exist reachable initial one unreachable one shown figure checksum error also ignored simplicity figure  state diagram protocol  b transition state labeled three character src   corresponding frame sender trying send r also   corresponding frame receiver expects c   empty – corresponding state channel example initial state chosen  word sender sent frame  receiver expects frame  frame  currently channel nine kind transition shown fig  transition  consists channel losing content transition  consists channel correctly delivering packet  receiver receiver changing state expect frame  emitting acknowledgement transition  also corresponds receiver delivering packet  network layer transition listed fig  b arrival frame checksum error shown change state protocol  normal operation transition     repeated order cycle two packet delivered bringing sender back initial state trying send new frame sequence number  channel loses frame  make transition state  state – eventually sender time transition  system move back  loss acknowledgement complicated requiring two transition     repair damage one property protocol bit sequence number must matter sequence event happens receiver never delivers two odd packet without intervening even packet vice versa graph fig  see requirement stated formally there must exist path initial state two occurrence transition  occur without occurrence transition  vice versa figure seen protocol correct respect  similar requirement exist path sender change state twice eg   back  receiver state remains constant path exist corresponding sequence event two frame would irretrievably lost without receiver noticing packet sequence delivered would undetected gap two packet yet another important property protocol absence deadlock deadlock situation protocol make forward progress ie deliver packet network layer matter sequence event happens term graph model deadlock characterized existence subset state reachable initial state two property  transition subset  transition subset cause forward progress deadlock situation protocol remains forever easy see graph protocol  suffer deadlock  petri net model finite state machine technique formally specifying protocol section describe completely different technique petri net danthine  petri net four basic element place transition arc token place represents state part system may figure   show petri net two place b shown circle system currently state indicated token heavy dot place transition indicated horizontal vertical bar transition zero input arc coming input place zero output arc going output place figure  petri net two place two transition transition enabled least one input token input place enabled transition may fire removing one token input place depositing token output place number input arc output arc differs token conserved two transition enabled one may fire choice transition fire indeterminate petri net useful modeling protocol petri net fig  deterministic used model twophase process eg behavior baby eat sleep eat sleep modeling tool unnecessary detail suppressed figure  give petri net model fig  unlike finite state machine model composite state sender s state channel state receiver s state represented separately transition   correspond transmission frame  sender normally timeout respectively transition   analogous frame  transition    correspond loss frame  acknowledgement frame  respectively transition   occur data frame wrong sequence number arrives receiver transition   represent arrival receiver next frame sequence delivery network layer figure  petri net model protocol   petri net used detect protocol failure way similar use finite state machine example firing sequence included transition  twice without transition  intervening protocol would incorrect concept deadlock petri net similar finite state machine counterpart petri net represented convenient algebraic form resembling grammar transition contributes one rule grammar rule specifies input output place transition since fig   transition grammar  rule numbered – one corresponding transition number grammar petri net fig  follows  bd ac   ad  b b  c   e  cf df  eg dg  cg df  ef dg interesting note managed reduce complex protocol  simple grammar rule easily manipulated computer program current state petri net represented unordered collection place place represented collection many time token rule whose lefthand side place present fired removing place current state adding output place current state marking fig  acg ie c g one token consequently rule    enabled applied leading new state possibly marking original one contrast rule  ad applied marked   example data link protocol following section examine several widelyused data link protocol first one hdlc classical bitoriented protocol whose variant use decade many application second one ppp data link protocol used connect home computer internet  hdlc—highlevel data link control section examine group closely related protocol bit old still heavily used derived data link protocol first used ibm mainframe world sdlc synchronous data link control protocol developing sdlc ibm submitted ansi iso acceptance u international standard respectively ansi modified become adccp advanced data communication control procedure iso modified become hdlc highlevel data link control ccitt adopted modified hdlc lap link access procedure part x network interface standard later modified lapb make compatible later version hdlc nice thing standard many choose furthermore like wait next year s model protocol based principle bit oriented use bit stuffing data transparency differ minor nevertheless irritating way discussion bitoriented protocol follows intended general introduction specific detail one protocol please consult appropriate definition bitoriented protocol use frame structure shown fig  address field primarily importance line multiple terminal used identify one terminal pointtopoint line sometimes used distinguish command response figure  frame format bitoriented protocol control field used sequence number acknowledgement purpose discussed data field may contain information may arbitrarily long although efficiency checksum fall increasing frame length due greater probability multiple burst error checksum field cyclic redundancy code using technique examined sec  frame delimited another flag sequence  idle pointtopoint line flag sequence transmitted continuously minimum frame contains three field total  bit excluding flag either end three kind frame information supervisory unnumbered content control field three kind shown fig  protocol us sliding window bit sequence number seven unacknowledged frame may outstanding instant seq field fig  frame sequence number next field piggybacked acknowledgement however protocol adhere convention instead piggybacking number last frame received correctly use number first frame yet received ie next frame expected choice using last frame received next frame expected arbitrary matter convention used provided used consistently figure  control field information frame b supervisory frame c unnumbered frame  pf bit stand pollfinal used computer concentrator polling group terminal used p computer inviting terminal send data frame sent terminal except final one pf bit set p final one set f protocol pf bit used force machine send supervisory frame immediately rather waiting reverse traffic onto piggyback window information bit also minor us connection unnumbered frame various kind supervisory frame distinguished type field type  acknowledgement frame officially called receive ready used indicate next frame expected frame used reverse traffic use piggybacking type  negative acknowledgement frame officially called reject used indicate transmission error detected next field indicates first frame sequence received correctly ie frame retransmitted sender required retransmit outstanding frame starting next strategy similar protocol  rather protocol  type  receive ready acknowledges frame including next receive ready tell sender stop sending receive ready intended signal certain temporary problem receiver shortage buffer alternative sliding window flow control condition repaired receiver sends receive ready reject certain control frame type  selective reject call retransmission frame specified sense like protocol  rather  therefore useful sender s window size half sequence space size le thus receiver wish buffer outofsequence frame potential future use force retransmission specific frame using selective reject hdlc adccp allow frame type sdlc lapb allow ie selective reject type  frame undefined third class frame unnumbered frame sometimes used control purpose also carry data unreliable connectionless service called various bitoriented protocol differ considerably contrast two kind nearly identical five bit available indicate frame type  possibility used protocol provide command disc disconnect allows machine announce going eg preventive maintenance also command allows machine come back online announce presence force sequence number back zero command called snrm set normal response mode unfortunately normal response mode anything normal unbalanced ie asymmetric mode one end line master slave snrm date time data communication meant dumb terminal talking big host computer clearly asymmetric make protocol suitable two partner equal hdlc lapb additional command sabm set asynchronous balanced mode reset line declares party equal also command sabme snrme sabm snrm respectively except enable extended frame format us bit sequence number instead bit sequence number third command provided protocol frmr frame reject used indicate frame correct checksum impossible semantics arrived example impossible semantics type  supervisory  frame lapb frame shorter  bit illegal control frame acknowledgement frame outside window etc frmr frame contain bit data field telling wrong frame data include control field bad frame window parameter collection bit used signal specific error control frame lost damaged like data frame must acknowledged special control frame called ua unnumbered acknowledgement provided purpose since one control frame may outstanding never ambiguity control frame acknowledged remaining control frame deal initialization polling status reporting also control frame may contain arbitrary information ui unnumbered information data passed network layer receiving data link layer despite widespread use hdlc far perfect discussion variety problem associated found fiorini et al   data link layer internet internet consists individual machine host router communication infrastructure connects within single building lan widely used interconnection wide area infrastructure built pointtopoint leased line chap  look lan examine data link protocol used pointtopoint line internet practice pointtopoint communication primarily used two situation first thousand organization one lan number host personal computer user workstation server along router bridge functionally similar often router interconnected backbone lan typically connection outside world go one two router pointtopoint leased line distant router router leased line make communication subnets internet built second situation pointtopoint line play major role internet million individual home connection internet using modem dialup telephone line usually happens user s home pc call internet service provider s router act like fullblown internet host method operation different leased line pc router except connection terminated user end session home pc calling internet service provider illustrated fig  modem shown external computer emphasize role modern computer internal modem figure  home personal computer acting internet host routerrouter leased line connection dialup hostrouter connection pointtopoint data link protocol required line framing error control data link layer function studied chapter one used internet called ppp examine  ppp—the pointtopoint protocol internet need pointtopoint protocol variety purpose including routertorouter traffic home usertoisp traffic protocol ppp pointtopoint protocol defined rfc  elaborated several rfcs eg rfcs   ppp handle error detection support multiple protocol allows ip address negotiated connection time permit authentication many feature ppp provides three feature  framing method unambiguously delineates end one frame start next one frame format also handle error detection  link control protocol bringing line testing negotiating option bringing gracefully longer needed protocol called lcp link control protocol support synchronous asynchronous circuit byteoriented bitoriented encoding  way negotiate networklayer option way independent network layer protocol used method chosen different ncp network control protocol network layer supported see piece fit together let u consider typical scenario home user calling internet service provider make home pc temporary internet host pc first call provider s router via modem router s modem answered phone established physical connection pc sends router series lcp packet payload field one ppp frame packet response select ppp parameter used parameter agreed upon series ncp packet sent configure network layer typically pc want run tcpip protocol stack need ip address enough ip address go around normally internet provider get block dynamically assigns one newly attached pc duration login session provider owns n ip address n machine logged simultaneously total customer base may many time ncp ip assigns ip address point pc internet host send receive ip packet hardwired host user finished ncp tear network layer connection free ip address lcp shuts data link layer connection finally computer tell modem hang phone releasing physical layer connection ppp frame format chosen closely resemble hdlc frame format since reason reinvent wheel major difference ppp hdlc ppp character oriented rather bit oriented particular ppp us byte stuffing dialup modem line frame integral number byte possible send frame consisting  byte hdlc ppp frame sent dialup telephone line also sent sonet true bitoriented hdlc line eg routerrouter connection ppp frame format shown fig  figure  ppp full frame format unnumbered mode operation ppp frame begin standard hdlc flag byte  byte stuffed occurs within payload field next come address field always set binary value  indicate station accept frame using value avoids issue assign data link address address field followed control field default value  value indicates unnumbered frame word ppp provide reliable transmission using sequence number  acknowledgement default noisy environment wireless network reliable transmission using numbered mode used exact detail defined rfc  practice rarely used since address control field always constant default configuration lcp provides necessary mechanism two party negotiate option omit altogether save  byte per frame fourth ppp field protocol field job tell kind packet payload field code defined lcp ncp ip ipx appletalk protocol protocol starting  bit network layer protocol ip ipx osi clnp xns starting  bit used negotiate protocol include lcp different ncp network layer protocol supported default size protocol field  byte negotiated  byte using lcp payload field variable length negotiated maximum length negotiated using lcp line setup default length  byte used padding may follow payload need payload field come checksum field normally  byte byte checksum negotiated summary ppp multiprotocol framing mechanism suitable use modem hdlc bitserial line sonet physical layer support error detection option negotiation header compression optionally reliable transmission using hdlctype frame format let u turn ppp frame format way line brought simplified diagram fig  show phase line go brought used taken sequence applies modem connection routerrouter connection figure  simplified phase diagram bringing line protocol start line dead state mean physical layer carrier present physical layer connection exists physical connection established line move establish point lcp option negotiation begin successful lead authenticate two party check s identity desired network phase entered appropriate ncp protocol invoked configure network layer configuration successful open reached data transport take place data transport finished line move terminate phase back dead carrier dropped lcp negotiates data link protocol option establish phase lcp protocol actually concerned option mechanism negotiation provides way initiating process make proposal responding process accept reject whole part also provides way two process test line quality see consider good enough set connection finally lcp protocol also allows line taken longer needed  eleven type lcp frame defined rfc  listed fig  four configure type allow initiator propose option value responder r accept reject latter case responder make alternative proposal announce willing negotiate certain option option negotiated proposed value part lcp frame figure  lcp frame type terminate code shut line longer needed codereject protocolreject code indicate responder got something understand situation could mean undetected transmission error occurred likely mean initiator responder running different version lcp protocol echo type used test line quality finally discardrequest help debugging either end trouble getting bit onto wire programmer use type testing manages get receiver throw away rather taking action might confuse person testing option negotiated include setting maximum payload size data frame enabling authentication choosing protocol use enabling linequality monitoring normal operation selecting various header compression option little say ncp protocol general way one specific network layer protocol allows configuration request made specific protocol ip example dynamic address assignment important possibility  summary task data link layer convert raw bit stream offered physical layer stream frame use network layer various framing method used including character count byte stuffing bit stuffing data link protocol provide error control retransmit damaged lost frame prevent fast sender overrunning slow receiver data link protocol also provide flow control sliding window mechanism widely used integrate error control flow control convenient way sliding window protocol categorized size sender s window size receiver s window equal  protocol stopandwait sender s window greater  example prevent sender blocking circuit long propagation delay receiver programmed either discard frame next one sequence buffer outoforder frame needed examined series protocol chapter protocol  designed errorfree environment receiver handle flow sent protocol  still assumes errorfree environment introduces flow control protocol  handle error introducing sequence number using stopandwait algorithm protocol  allows bidirectional communication introduces concept piggybacking protocol  us  sliding window protocol go back n finally protocol  us selective repeat negative acknowledgement protocol modeled using various technique help demonstrate correctness lack thereof finite state machine model petri net model commonly used purpose many network use one bitoriented protocols—sdlc hdlc adccp lapb—at data link level protocol use flag byte delimit frame bit stuffing prevent flag byte occurring data also use sliding window flow control internet us ppp primary data link protocol pointtopoint line problem  upperlayer packet split  frame  percent chance arriving undamaged error control done data link protocol many time must message sent average get entire thing  following character encoding used data link protocol  b  flag  esc  show bit sequence transmitted binary fourcharacter frame b esc flag following framing method used character count b b flag byte byte stuffing c c starting ending flag byte bit stuffing  following data fragment occurs middle data stream bytestuffing algorithm described text used b esc c esc flag flag d output stuffing  one classmate scrooge pointed wasteful end frame flag byte begin next one second flag byte one flag byte could job well byte saved byte earned agree  bit string  need transmitted data link layer string actually transmitted bit stuffing  bit stuffing used possible loss insertion modification single bit cause error detected checksum checksum length play role  think circumstance openloop protocol eg hamming code might preferable feedbacktype protocol discussed throughout chapter  provide reliability single parity bit give errordetecting coding scheme us one parity bit checking oddnumbered bit second parity bit evennumbered bit hamming distance code  sixteenbit message transmitted using hamming code many check bit needed ensure receiver detect correct single bit error show bit pattern transmitted message  assume even parity used hamming code  bit byte binary value  encoded using evenparity hamming code binary value encoding  bit hamming code whose hexadecimal value xef arrives receiver original value hexadecimal assume  bit error  one way detecting error transmit data block n row k bit per row adding parity bit row column lowerright corner parity bit check row column scheme detect single error double error triple error  block bit n row k column us horizontal vertical parity bit error detection suppose exactly  bit inverted due transmission error derive expression probability error undetected  remainder obtained dividing x  x   generator polynomial x    bit stream  transmitted using standard crc method described text generator polynomial x   show actual bit string transmitted suppose third bit left inverted transmission show error detected receiver s end  data link protocol almost always put crc trailer rather header  channel bit rate  kbps propagation delay  msec range frame size stopandwait give efficiency least  percent  kmlong t trunk used transmit byte frame using protocol  propagation speed  µseckm many bit sequence number   protocol  possible sender start timer already running might occur impossible  imagine sliding window protocol using many bit sequence number wraparound never occurs relation must hold among four window edge window size constant sender receiver  procedure protocol  checked condition b c instead condition b c would effect protocol s correctness efficiency explain answer  protocol  data frame arrives check made see sequence number differs one expected nak true condition hold nak sent otherwise auxiliary timer started suppose else clause omitted would change affect protocol s correctness  suppose threestatement loop near end protocol  removed code would affect correctness protocol performance explain answer  suppose case checksum error removed switch statement protocol  would change affect operation protocol  protocol  code frame arrival section used naks section invoked incoming frame nak another condition met give scenario presence condition essential  imagine writing data link layer software line used send data end us hdlc bit sequence number window size seven frame would like buffer many outofsequence frame possible enhance efficiency allowed modify software sending side possible receiver window greater  still guarantee protocol never fail largest window safely used  consider operation protocol  mbps errorfree line maximum frame size  bit new packet generated  second apart timeout interval  msec special acknowledgement timer eliminated unnecessary timeouts would occur many time would average message transmitted  protocol  max seq  n  condition obviously desirable make efficient use header bit demonstrated essential protocol work correctly max seq  example  frame  bit sent mbps channel using geostationary satellite whose propagation time earth  msec acknowledgement always piggybacked onto data frame header short threebit sequence number used maximum achievable channel utilization stopandwait b b protocol  c c protocol   compute fraction bandwidth wasted overhead header retransmissions protocol  heavilyloaded kbps satellite channel data frame consisting  header  data bit assume signal propagation time earth satellite  msec ack frame never occur nak frame  bit error rate data frame  percent error rate nak frame negligible sequence number  bit  consider errorfree kbps satellite channel used send byte data frame one direction short acknowledgement coming back way maximum throughput window size     earthsatellite propagation time  msec  kmlong cable run t data rate propagation speed cable  speed light vacuum many bit fit cable  suppose model protocol  using finite state machine model many state exist machine many state exist communication channel many state exist complete system two machine channel ignore checksum error  give firing sequence petri net fig  corresponding state sequence  a —  a fig  explain word sequence represents  given transition rule ac b b ac cd e e cd draw petri net described petri net draw finite state graph reachable initial state acd wellknown concept transition rule model  ppp based closely hdlc us bit stuffing prevent accidental flag byte within payload causing confusion give least one reason ppp us byte stuffing instead  minimum overhead send ip packet using ppp count overhead introduced ppp ip header overhead   goal lab exercise implement error detection mechanism using standard crc algorithm described text write two program generator verifier generator program read standard input n bit message string   line ascii text second line k bit polynomial also ascii output standard output line ascii text n k   representing message transmitted output polynomial read verifier program read output generator program output message indicating whether correct finally write program alter inverts one bit first line depending argument bit number counting leftmost bit  copy rest two line correctly typing generator file verifier see message correct typing generator file alter arg verifier get error message  write program simulate behavior petri net program read transition rule well list state corresponding network link layer issuing new packet accepting new packet initial state also read program pick enabled transition random fire checking see host ever accepts  packet without host emitting new one  chapter  medium access control sublayer pointed chap  network divided two category using pointtopoint connection using broadcast channel chapter deal broadcast network protocol broadcast network key issue determine get use channel competition make point clearer consider conference call six people six different telephone connected one hear talk others likely one stop speaking two start talking leading chaos facetoface meeting chaos avoided external mean example meeting people raise hand request permission speak single channel available determining go next much harder many protocol solving problem known form content chapter literature broadcast channel sometimes referred multiaccess channel random access channel protocol used determine go next multiaccess channel belong sublayer data link layer called mac medium access control sublayer mac sublayer especially important lan many use multiaccess channel basis communication wan contrast use pointtopoint link except satellite network multiaccess channel lan closely related chapter discus lan general including issue strictly part mac sublayer technically mac sublayer bottom part data link layer logically studied examining pointtopoint protocol chap  nevertheless people understanding protocol involving multiple party easier twoparty protocol well understood reason deviated slightly strict bottomup order presentation  channel allocation problem central theme chapter allocate single broadcast channel among competing user first look static dynamic scheme general examine number specific algorithm  static channel allocation lan man traditional way allocating single channel telephone trunk among multiple competing user frequency division multiplexing fdm n user bandwidth divided n equalsized portion see fig  user assigned one portion since user private frequency band interference user small constant number user heavy buffered load traffic eg carrier switching office fdm simple efficient allocation mechanism however number sender large continuously varying traffic bursty fdm present problem spectrum cut n region fewer n user currently interested communicating large piece valuable spectrum wasted n user want communicate denied permission lack bandwidth even user assigned frequency band hardly ever transmit receive anything  however even assuming number user could somehow held constant n dividing single available channel static subchannels inherently inefficient basic problem user quiescent bandwidth simply lost using one else allowed use either furthermore computer system data traffic extremely bursty peak traffic mean traffic ratio  common consequently channel idle time poor performance static fdm easily seen simple queueing theory calculation let u start mean time delay channel capacity c bps arrival rate framessec frame length drawn exponential probability density function mean  µ bitsframe parameter arrival rate framessec service rate µ c framessec queueing theory shown poisson arrival service time example c  mbps mean frame length  µ  bit frame arrival rate  framessec  µsec note ignored queueing delay asked long take send  bit frame mbps network would get incorrect answer  µsec result hold contention channel let u divide single channel n independent subchannels capacity cn bps mean input rate subchannels n recomputing get equation  mean delay using fdm n time worse frame somehow magically arranged orderly big central queue precisely argument apply fdm also apply time division multiplexing tdm user statically allocated every n th time slot user use allocated slot lie fallow hold split network physically using previous example replace mbps network  network  mbps statically allocate user one mean delay would jump  µsec  msec since none traditional static channel allocation method work well bursty traffic explore dynamic method  dynamic channel allocation lan man get first many channel allocation method discussed chapter worthwhile carefully formulating allocation problem underlying work done area five key assumption described  station model model consists n independent station eg computer telephone personal communicator program user generates frame transmission station sometimes called terminal probability frame generated interval length constant arrival rate new frame frame generated station blocked nothing frame successfully transmitted single channel assumption single channel available communication station transmit receive far hardware concerned station equivalent although protocol software may assign priority collision assumption two frame transmitted simultaneously overlap time resulting signal garbled event called collision station detect collision collided frame must transmitted later error generated collision a continuous time frame transmission begin instant master clock dividing time discrete interval b slotted time time divided discrete interval slot frame transmission always begin start slot slot may contain   frame corresponding idle slot successful transmission collision respectively a carrier sense station tell channel use trying use channel sensed busy station attempt use go idle b carrier sense station sense channel trying use go ahead transmit later determine whether transmission successful discussion assumption order first one say station independent work generated constant rate also implicitly assumes station one program user station blocked new work generated sophisticated model allow multiprogrammed station generate work station blocked analysis station much complex single channel assumption heart model external way communicate station raise hand request teacher call collision assumption also basic although system notably spread spectrum assumption relaxed surprising result also lan token ring pas special token station station possession allows current holder transmit frame coming section stick single channel contention collision model two alternative assumption time possible either continuous a slotted b system use one system use discus analyze given system one hold similarly network either carrier sensing a b lan generally carrier sense however wireless network use effectively every station may within radio range every station station wired carrier sense network terminate transmission prematurely discover colliding another transmission collision detection rarely done wireless network engineering reason note word carrier sense refers electrical signal cable nothing common carrier eg telephone company date back pony express day   multiple access protocol many algorithm allocating multiple access channel known following section study small sample interesting one give example use  aloha s norman abramson colleague university hawaii devised new elegant method solve channel allocation problem work extended many researcher since abramson  although abramson s work called aloha system used groundbased radio broadcasting basic idea applicable system uncoordinated user competing use single shared channel discus two version aloha pure slotted differ respect whether time divided discrete slot frame must fit pure aloha require global time synchronization slotted aloha pure aloha basic idea aloha system simple let user transmit whenever data sent collision course colliding frame damaged however due feedback property broadcasting sender always find whether frame destroyed listening channel way user lan feedback immediate satellite delay  msec sender know transmission successful listening transmitting possible reason acknowledgement needed frame destroyed sender wait random amount time sends waiting time must random frame collide lockstep system multiple user share common channel way lead conflict widely known contention system sketch frame generation aloha system given fig  made frame length throughput aloha system maximized uniform frame size rather allowing variable length frame figure  pure aloha frame transmitted completely arbitrary time whenever two frame try occupy channel time collision garbled first bit new frame overlap last bit frame almost finished frame totally destroyed retransmitted later checksum distinguish total loss near miss bad bad  interesting question efficiency aloha channel word fraction transmitted frame escape collision chaotic circumstance let u first consider infinite collection interactive user sitting computer station user always one two state typing waiting initially user typing state line finished user stop typing waiting response station transmits frame containing line check channel see successful user see reply go back typing user continues wait frame retransmitted successfully sent let frame time denote amount time needed transmit standard fixedlength frame ie frame length divided bit rate point assume infinite population user generates new frame according poisson distribution mean n frame per frame time infinitepopulation assumption needed ensure n decrease user become blocked n  user community generating frame higher rate channel handle nearly every frame suffer collision reasonable throughput would expect  n  addition new frame station also generate retransmissions frame previously suffered collision let u assume probability k transmission attempt per frame time old new combined also poisson mean g per frame time clearly g n low load ie n  collision hence retransmissions g n high load many collision g n load throughput offered load g time probability p  transmission succeeding—that gp  p  probability frame suffer collision frame suffer collision frame sent within one frame time start shown fig  condition shaded frame arrive undamaged let time required send frame user generated frame time   end frame collide beginning shaded one fact shaded frame s fate already sealed even first bit sent since pure aloha station listen channel transmitting way knowing another frame already underway similarly frame started    bump end shaded frame figure  vulnerable period shaded frame probability k frame generated given frame time given poisson distribution equation   probability zero frame e g interval two frame time long mean number frame generated  g probability traffic initiated entire vulnerable period thus given p  e  g using gp  get relation offered traffic throughput shown fig  maximum throughput occurs g    e  word best hope channel utilization  percent result encouraging everyone transmitting could hardly expected  percent success rate slotted aloha  robert published method doubling capacity aloha system robert  proposal divide time discrete interval interval corresponding one frame approach requires user agree slot boundary one way achieve synchronization would one special station emit pip start interval like clock robert method come known slotted aloha contrast abramson s pure aloha computer permitted send whenever carriage return typed instead required wait beginning next slot thus continuous pure aloha turned discrete one since vulnerable period halved probability traffic slot test frame e g lead equation  see fig  slotted aloha peak g  throughput  e  twice pure aloha system operating g  probability empty slot  eq  best hope using slotted aloha  percent slot empty  percent success  percent collision operating higher value g reduces number empty increase number collision exponentially see rapid growth collision g come consider transmission test frame probability avoid collision e g probability user silent slot probability collision  e g probability transmission requiring exactly k attempt ie k  collision followed one success figure  throughput versus offered traffic aloha system  expected number transmission e per carriage return typed result exponential dependence e upon g small increase channel load drastically reduce performance slotted aloha important reason may initially obvious devised s used early experimental system almost forgotten internet access cable invented sudden problem allocate shared channel among multiple competing user slotted aloha pulled garbage save day often happened protocol perfectly valid fall disuse political reason eg big company want everyone thing way year later clever person realizes longdiscarded protocol solves current problem reason chapter study number elegant protocol currently widespread use might easily used future application provided enough network designer aware course also study many protocol current use well  carrier sense multiple access protocol slotted aloha best channel utilization achieved  e hardly surprising since station transmitting without paying attention station bound many collision local area network however possible station detect station adapt behavior accordingly network achieve much better utilization  e section discus protocol improving performance protocol station listen carrier ie transmission act accordingly called carrier sense protocol number proposed kleinrock tobagi  analyzed several protocol detail mention several version carrier sense protocol persistent nonpersistent csma  first carrier sense protocol study called persistent csma carrier sense multiple access station data send first listens channel see anyone else transmitting moment channel busy station wait becomes idle station detects idle channel transmits frame collision occurs station wait random amount time start protocol called persistent station transmits probability  find channel idle propagation delay important effect performance protocol small chance station begin sending another station become ready send sense channel first station s signal yet reached second one latter sense idle channel also begin sending resulting collision longer propagation delay important effect becomes worse performance protocol even propagation delay zero still collision two station become ready middle third station s transmission wait politely transmission end begin transmitting exactly simultaneously resulting collision impatient would fewer collision even protocol far better pure aloha station decency desist interfering third station s frame intuitively approach lead higher performance pure aloha exactly hold slotted aloha second carrier sense protocol nonpersistent csma protocol conscious attempt made le greedy previous one sending station sens channel one else sending station begin however channel already use station continually sense purpose seizing immediately upon detecting end previous transmission instead wait random period time repeat algorithm consequently algorithm lead better channel utilization longer delay persistent csma last protocol ppersistent csma applies slotted channel work follows station becomes ready send sens channel idle transmits probability p probability q  p defers next slot slot also idle either transmits defers probability p q process repeated either frame transmitted another station begun transmitting latter case unlucky station act collision ie wait random time start station initially sens channel busy wait next slot applies algorithm figure  show computed throughput versus offered traffic three protocol well pure slotted aloha figure  comparison channel utilization versus load various random access protocol  csma collision detection persistent nonpersistent csma protocol clearly improvement aloha ensure station begin transmit sens channel busy another improvement station abort transmission soon detect collision word two station sense channel idle begin transmitting simultaneously detect collision almost immediately rather finish transmitting frame irretrievably garbled anyway abruptly stop transmitting soon collision detected quickly terminating damaged frame save time bandwidth protocol known csmacd csma collision detection widely used lan mac sublayer particular basis popular ethernet lan worth devoting time looking detail csmacd well many lan protocol us conceptual model fig  point marked  station finished transmitting frame station frame send may attempt two station decide transmit simultaneously collision collision detected looking power pulse width received signal comparing transmitted signal figure  csmacd one three state contention transmission idle station detects collision abort transmission wait random period time try assuming station started transmitting meantime therefore model csmacd consist alternating contention transmission period idle period occurring station quiet eg lack work let u look closely detail contention algorithm suppose two station begin transmitting exactly time  long take realize collision answer question vital determining length contention period hence delay throughput minimum time  detect collision time take signal propagate one station based reasoning might think station hearing collision time equal full cable propagation time starting transmission could sure seized cable seized mean station knew transmitting would interfere conclusion wrong consider following worstcase scenario let time signal propagate two farthest station  one station begin transmitting e instant signal arrives distant station station also begin transmitting course detects collision almost instantly stop little noise burst caused collision get back original station time t e word worst case station sure seized channel transmitted t without hearing collision reason model contention interval slotted aloha system slot width t km long coaxial cable  µsec simplicity assume slot contains  bit channel seized station transmit rate want course  bit per t sec important realize collision detection analog process station s hardware must listen cable transmitting read back different putting know collision occurring implication signal encoding must allow collision detected eg collision two volt signal may well impossible detect reason special encoding commonly used also worth noting sending station must continually monitor channel listening noise burst might indicate collision reason csmacd single channel inherently halfduplex system impossible station transmit receive frame time receiving logic use looking collision every transmission avoid misunderstanding worth noting macsublayer protocol guarantee reliable delivery even absence collision receiver may copied frame correctly various reason eg lack buffer space missed interrupt  collisionfree protocol although collision occur csmacd station unambiguously captured channel still occur contention period collision adversely affect system performance especially cable long ie large frame short csmacd universally applicable section examine protocol resolve contention channel without collision even contention period currently used major system rapidly changing field protocol excellent property available future system often good thing protocol described assume exactly n station unique address  n  wired matter station may inactive part time also assume propagation delay negligible basic question remains station get channel successful transmission continue using model fig  discrete contention slot bitmap protocol first collisionfree protocol basic bitmap method contention period consists exactly n slot station  frame send transmits  bit zeroth slot station allowed transmit slot regardless station   station  get opportunity transmit  slot  frame queued general station j may announce frame send inserting  bit slot j n slot passed station complete knowledge station wish transmit point begin transmitting numerical order see fig  figure  basic bitmap protocol since everyone agrees go next never collision last ready station transmitted frame event station easily monitor another n bit contention period begun station becomes ready bit slot passed luck must remain silent every station chance bit map come around protocol like desire transmit broadcast actual transmission called reservation protocol let u briefly analyze performance protocol convenience measure time unit contention bit slot data frame consisting time unit condition low load bit map simply repeated lack data frame consider situation point view lownumbered station   typically becomes ready send current slot somewhere middle bit map average station wait n  slot current scan finish another full n slot following scan run completion may begin transmitting prospect highnumbered station brighter generally wait half scan n  bit slot starting transmit highnumbered station rarely wait next scan since lownumbered station must wait average  n slot highnumbered station must wait average  n slot mean station n slot channel efficiency low load easy compute overhead per frame n bit amount data bit efficiency d n high load station something send time n bit contention period prorated n frame yielding overhead  bit per frame efficiency d  mean delay frame equal sum time queue inside station plus additional n   get head internal queue binary countdown problem basic bitmap protocol overhead  bit per station scale well network thousand station better using binary station address station wanting use channel broadcast address binary bit string starting highorder bit address assumed length bit address position different station boolean ored together call protocol binary countdown used datakit fraser  implicitly assumes transmission delay negligible station see asserted bit essentially instantaneously avoid conflict arbitration rule must applied soon station see highorder bit position  address overwritten  give example station     trying get channel first  bit time station transmit     respectively ored together form  station   see  know highernumbered station competing channel give current round station   continue next bit  station continue next bit  station  give winner station  highest address winning bidding may transmit frame another bidding cycle start protocol illustrated fig  property highernumbered station higher priority lowernumbered station may either good bad depending context figure  binary countdown protocol dash indicates silence channel efficiency method d log  n however frame format cleverly chosen sender s address first field frame even log  n bit wasted efficiency  percent mok ward  described variation binary countdown using parallel rather serial interface also suggest using virtual station number virtual station number  including successful station circularly permuted transmission order give higher priority station silent unusually long example station c h g b e f priority         respectively successful transmission put end list giving priority order c h g b e f thus c remains virtual station  move   drop   station able acquire channel station want binary countdown example simple elegant efficient protocol waiting rediscovered hopefully find new home day  limitedcontention protocol considered two basic strategy channel acquisition cable network contention csma collisionfree method strategy rated well respect two important performance measure delay low load channel efficiency high load condition light load contention ie pure slotted aloha preferable due low delay load increase contention becomes increasingly le attractive overhead associated channel arbitration becomes greater reverse true collisionfree protocol low load high delay load increase channel efficiency improves rather get worse contention protocol  obviously would nice could combine best property contention collisionfree protocol arriving new protocol used contention low load provide low delay used collisionfree technique high load provide good channel efficiency protocol call limitedcontention protocol fact exist conclude study carrier sense network contention protocol studied symmetric station attempt acquire channel probability p station using p interestingly enough overall system performance sometimes improved using protocol assigns different probability different station looking asymmetric protocol let u quickly review performance symmetric case suppose k station contending channel access probability p transmitting slot probability station successfully acquires channel given slot kp  p k  find optimal value p differentiate respect p set result zero solve p find best value p  k substituting p  k get equation  probability plotted fig  small number station chance success good soon number station reach even five probability dropped close asymptotic value  e figure  acquisition probability symmetric contention channel fig  fairly obvious probability station acquiring channel increased decreasing amount competition limitedcontention protocol precisely first divide station necessarily disjoint group member group  permitted compete slot  one succeeds acquires channel transmits frame slot lie fallow collision member group  contend slot  etc making appropriate division station group amount contention slot reduced thus operating slot near left end fig   trick assign station slot looking general case let u consider special case one extreme group one member assignment guarantee never collision one station contending given slot seen protocol eg binary countdown next special case assign two station per group probability try transmit slot p  small p negligible station assigned slot probability collision grows length bitmap scan needed give everyone chance shrink limiting case single group containing station ie slotted aloha need way assign station slot dynamically many station per slot load low even one station per slot load high adaptive tree walk protocol one particularly simple way performing necessary assignment use algorithm devised u army testing soldier syphilis world war ii dorfman  short army took blood sample n soldier portion sample poured single test tube mixed sample tested antibody none found soldier group declared healthy antibody present two new mixed sample prepared one soldier  n  one rest process repeated recursively infected soldier determined computerized version algorithm capetanakis  convenient think station leaf binary tree illustrated fig  first contention slot following successful frame transmission slot  station permitted try acquire channel one fine collision slot  station falling node  tree may compete one acquires channel slot following frame reserved station node  hand two station node  want transmit collision slot  case node  s turn slot  figure  tree eight station essence collision occurs slot  entire tree searched depth first locate ready station bit slot associated particular node tree collision occurs search continues recursively node s left right child bit slot idle one station transmits searching node stop ready station located one would collision load system heavy hardly worth effort dedicate slot  node  make sense unlikely event precisely one station frame send similarly one could argue node   skipped well reason put general term level tree search begin clearly heavier load farther tree search begin assume  station good estimate number ready station q example monitoring recent traffic proceed let u number level tree top node  fig  level  node   level  etc notice node level fraction  station q ready station uniformly distributed expected number specific node level  iq intuitively would expect optimal level begin searching tree one mean number contending station per slot  level  iq  solving equation find log  q numerous improvement basic algorithm discovered discussed detail bertsekas gallager  example consider case station g h one wanting transmit node  collision occur  tried discovered idle pointless probe node  since guaranteed collision know two station  ready none  must  probe  skipped  tried next probe also turn nothing  skipped node g tried next  wavelength division multiple access protocol different approach channel allocation divide channel subchannels using fdm tdm dynamically allocate needed scheme like commonly used fiber optic lan permit different conversation use different wavelength ie frequency time section examine one protocol humblet et al  simple way build alloptical lan use passive star coupler see fig  effect two fiber station fused glass cylinder one fiber output cylinder one input cylinder light output station illuminates cylinder detected station passive star handle hundred station allow multiple transmission time spectrum divided channel wavelength band shown fig  protocol wdma wavelength division multiple access station assigned two channel narrow channel provided control channel signal station wide channel provided station output data frame channel divided group time slot shown fig  let u call number slot control channel number slot data channel n  n data last one used station report status mainly slot channel free channel sequence slot repeat endlessly slot  marked special way latecomer detect channel synchronized single global clock figure  wavelength division multiple access  protocol support three traffic class  constant data rate connectionoriented traffic uncompressed video  variable data rate connectionoriented traffic file transfer  datagram traffic udp packet two connectionoriented protocol idea communicate b must first insert connection request frame free slot b s control channel b accepts communication take place s data channel station two transmitter two receiver follows  fixedwavelength receiver listening control channel  tunable transmitter sending station control channel  fixedwavelength transmitter outputting data frame  tunable receiver selecting data transmitter listen word every station listens control channel incoming request tune transmitter s wavelength get data wavelength tuning done fabryperot machzehnder interferometer filter wavelength except desired wavelength band let u consider station set class  communication channel station b say file transfer first tune data receiver b s data channel wait status slot slot tell control slot currently assigned free fig  example see b s eight control slot    free rest occupied indicated cross pick one free control slot say  insert connection request message since b constantly monitor control channel see request grant assigning slot  assignment announced status slot b s data channel see announcement know unidirectional connection asked twoway connection b repeat algorithm possible time tried grab b s control slot  c thing neither get notice failure monitoring status slot b s control channel wait random amount time try later point party conflictfree way send short control message one perform file transfer sends b control message saying example please watch next data output slot  data frame b get  control message tune receiver s output channel read data frame depending higherlayer protocol b use mechanism send back acknowledgement wish note problem arises c connection b suddenly tell b look slot  b pick one request random transmission lost constant rate traffic variation protocol used asks connection simultaneously say something like right send frame every occurrence slot  b able accept ie previous commitment slot  guaranteed bandwidth connection established try different proposal depending output slot free class  datagram traffic us still another variation instead writing connection request message control slot found  writes data slot  message b free next data slot  transmission succeed otherwise data frame lost manner connection ever needed several variant protocol possible example instead station control channel single control channel shared station station assigned block slot group effectively multiplexing multiple virtual channel onto one physical one also possible make single tunable transmitter single tunable receiver per station station s channel divided control slot followed n  data slot disadvantage sender wait longer capture control slot consecutive data frame farther apart control information way numerous wdma protocol proposed implemented differing various detail one control channel others multiple control channel take propagation delay account others make tuning time explicit part model others ignore protocol also differ term processing complexity throughput scalability large number frequency used system sometimes called dwdm dense wavelength division multiplexing information see bogineni et al  chen  goralski  kartalopoulos  levine akyildiz   wireless lan protocol number mobile computing communication device grows demand connect outside world even first mobile telephone ability connect telephone first portable computer capability soon afterward modem became commonplace notebook computer go online computer plugged telephone wall socket requiring wired connection fixed network meant computer portable mobile achieve true mobility notebook computer need use radio infrared signal communication manner dedicated user read send email hiking boating system notebook computer communicate radio regarded wireless lan discussed sec  lan somewhat different property conventional lan require special mac sublayer protocol section examine protocol information wireless lan found geier  ohara petrick   common configuration wireless lan office building base station also called access point strategically placed around building base station wired together using copper fiber transmission power base station notebook adjusted range   meter room becomes single cell entire building becomes large cellular system traditional cellular telephony system studied chap  unlike cellular telephone system cell one channel covering entire available bandwidth covering station cell typically bandwidth   mbps discussion make simplifying assumption radio transmitter fixed range receiver within range two active transmitter resulting signal generally garbled useless word consider cdmatype system discussion important realize wireless lan station within range one another lead variety complication furthermore indoor wireless lan presence wall station major impact effective range station naive approach using wireless lan might try csma listen transmission transmit one else trouble protocol really appropriate matter interference receiver sender see nature problem consider fig  four wireless station illustrated purpose matter base station notebook radio range b within s range potentially interfere one another c also potentially interfere b figure  wireless lan transmitting b b transmitting first consider happens transmitting b depicted fig  c sens medium hear range thus falsely conclude transmit b c start transmitting interfere b wiping frame problem station able detect potential competitor medium competitor far away called hidden station problem let u consider reverse situation b transmitting shown fig  b c sens medium hear ongoing transmission falsely conclude may send fact transmission would cause bad reception zone b c neither intended receiver located called exposed station problem problem starting transmission station really want know whether activity around receiver csma merely tell whether activity around station sensing carrier wire signal propagate station one transmission take place anywhere system system based shortrange radio wave multiple transmission occur simultaneously different destination destination range one another another way think problem imagine office building every employee wireless notebook computer suppose linda want send message milton linda s computer sens local environment detecting activity start sending however may still collision milton s office third party may  currently sending location far linda computer could detect maca macaw early protocol designed wireless lan maca multiple access collision avoidance karn  basic idea behind sender stimulate receiver outputting short frame station nearby detect transmission avoid transmitting duration upcoming large data frame maca illustrated fig   figure  maca protocol sending rts b b b responding ct let u consider sends frame b start sending rts request send frame b shown fig  short frame  byte contains length data frame eventually follow b reply ct clear send frame shown fig  b ct frame contains data length copied rts frame upon receipt ct frame begin transmission let u see station overhearing either frame react station hearing rts clearly close must remain silent long enough ct transmitted back without conflict station hearing ct clearly close b must remain silent upcoming data transmission whose length tell examining ct frame fig  c within range within range b therefore hears rts ct b long interfere ct free transmit data frame sent contrast within range b hear rts hear ct hearing ct tip close station receive frame defers sending anything frame expected finished station e hears control message like must silent data frame complete despite precaution collision still occur example b c could send rts frame time collide lost event collision unsuccessful transmitter ie one hear ct within expected time interval wait random amount time try later algorithm used binary exponential backoff study come ethernet based simulation study maca bharghavan et al  fine tuned maca improve performance renamed new protocol macaw maca wireless start  noticed without data link layer acknowledgement lost frame retransmitted transport layer noticed absence much later solved problem introducing ack frame successful data frame also observed csma use namely keep station transmitting rts time another nearby station also destination carrier sensing added addition decided run backoff algorithm separately data stream sourcedestination pair rather station change improves fairness protocol finally added mechanism station exchange information congestion way make backoff algorithm react le violently temporary problem improve system performance  ethernet finished general discussion channel allocation protocol abstract time see principle apply real system particular lan discussed sec  ieee standardized number local area network metropolitan area network name ieee  survived many saw fig  people believe reincarnation think charles darwin came back member ieee standard association weed unfit important survivor  ethernet  wireless lan  bluetooth  wireless man early tell please consult th edition book find   different physical layer different mac sublayers converge logical link control sublayer defined  interface network layer introduced ethernet sec  repeat material instead focus technical detail ethernet protocol recent development highspeed gigabit ethernet since ethernet ieee  identical except two minor difference discus shortly many people use term ethernet ieee  interchangeably information ethernet see breyer riley  seifert  spurgeon   ethernet cabling since name ethernet refers cable ether let u start discussion four type cabling commonly used shown fig  figure  common kind ethernet cabling historically base cabling popularly called thick ethernet came first resembles yellow garden hose marking every  meter show tap go  standard actually require cable yellow suggest connection generally made using vampire tap pin carefully forced halfway coaxial cable s core notation base mean operates  mbps us baseband signaling support segment  meter first number speed mbps come word base sometimes base indicate baseband transmission used broadband variant broad never caught marketplace since vanished finally medium coax length given rounded unit  base  historically second cable type base thin ethernet contrast gardenhoselike thick ethernet bend easily connection made using industrystandard bnc connector form junction rather using vampire tap bnc connector easier use reliable thin ethernet much cheaper easier install run  meter per segment handle  machine detecting cable break excessive length bad tap loose connector major problem medium reason technique developed track basically pulse known shape injected cable pulse hit obstacle end cable echo generated sent back carefully timing interval sending pulse receiving echo possible localize origin echo technique called time domain reflectometry problem associated finding cable break drove system toward different kind wiring pattern station cable running central hub connected electrically soldered together usually wire telephone company twisted pair since office building already wired way normally plenty spare pair available scheme called baset hub buffer incoming traffic discus improved version idea switch buffer incoming traffic later chapter three wiring scheme illustrated fig  base transceiver clamped securely around cable tap make contact inner core transceiver contains electronics handle carrier detection collision detection collision detected transceiver also put special invalid signal cable ensure transceivers also realize collision occurred figure  three kind ethernet cabling base b base c baset base transceiver cable drop cable connects transceiver interface board computer transceiver cable may  meter long contains five individually shielded twisted pair two pair data data respectively two control signal fifth pair always used allows computer power transceiver electronics transceivers allow eight nearby computer attached reduce number transceivers needed transceiver cable terminates interface board inside computer interface board contains controller chip transmits frame receives frame transceiver controller responsible assembling data proper frame format well computing checksum outgoing frame verifying incoming frame  controller chip also manage pool buffer incoming frame queue buffer transmitted direct memory transfer host computer aspect network management base connection cable passive bnc tjunction connector transceiver electronics controller board station always transceiver baset shared cable hub box full electronics station connected dedicated ie shared cable adding removing station simpler configuration cable break detected easily disadvantage baset maximum cable run hub  meter maybe  meter high quality category  twisted pair used nevertheless baset quickly became dominant due use existing wiring ease maintenance offer faster version baset baset discussed later chapter fourth cabling option ethernet basef us fiber optic alternative expensive due cost connector terminator excellent noise immunity method choice running building widelyseparated hub run km allowed also offer good security since wiretapping fiber much difficult wiretapping copper wire figure  show different way wiring building fig  single cable snaked room room station tapping nearest point fig  b vertical spine run basement roof horizontal cable floor connected spine special amplifier repeater building horizontal cable thin backbone thick general topology tree fig   c network two path pair station would suffer interference two signal figure  cable topology linear b spine c tree segmented version ethernet maximum cable length per segment allow larger network multiple cable connected repeater shown fig  repeater physical layer device receives amplifies regenerates retransmits signal direction far software concerned series cable segment connected repeater different single cable except delay introduced repeater system may contain multiple cable segment multiple repeater two transceivers may  km apart path two transceivers may traverse four repeater   manchester encoding none version ethernet us straight binary encoding  volt  bit  volt  bit lead ambiguity one station sends bit string  others might falsely interpret   tell difference idle sender  volt  bit  volt problem solved using  volt   volt  still problem receiver sampling signal slightly different frequency sender used generate different clock speed cause receiver sender get synchronization bit boundary especially long run consecutive  long run consecutive  needed way receiver unambiguously determine start end middle bit without reference external clock two approach called manchester encoding differential manchester encoding manchester encoding bit period divided two equal interval binary  bit sent voltage set high first interval low second one binary  reverse first low high scheme ensures every bit period transition middle making easy receiver synchronize sender disadvantage manchester encoding requires twice much bandwidth straight binary encoding pulse half width example send data  mbps signal change  million timessec manchester encoding shown fig  b figure  binary encoding b manchester encoding c differential manchester encoding differential manchester encoding shown fig  c variation basic manchester encoding  bit indicated absence transition start interval  bit indicated presence transition start interval case transition middle well differential scheme requires complex equipment offer better noise immunity ethernet system use manchester encoding due simplicity high signal  volt low signal  volt giving dc value  volt ethernet use differential manchester encoding lan eg  token ring use  ethernet mac sublayer protocol original dix dec intel xerox frame structure shown fig  frame start preamble  byte containing bit pattern  manchester encoding pattern produce mhz square wave  µsec allow receiver s clock synchronize sender s required stay synchronized rest frame using manchester encoding keep track bit boundary figure  frame format dix ethernet b ieee   frame contains two address one destination one source standard allows byte byte address parameter defined mbps baseband standard use byte address highorder bit destination address  ordinary address  group address group address allow multiple station listen single address frame sent group address station group receive sending group station called multicast address consisting  bit reserved broadcast frame containing  destination field accepted station network difference multicast broadcast important enough warrant repeating multicast frame sent selected group station ethernet broadcast frame sent station ethernet multicast selective involves group management broadcasting coarser require group management another interesting feature addressing use bit  adjacent highorder bit distinguish local global address local address assigned network administrator significance outside local network global address contrast assigned centrally ieee ensure two station anywhere world global address    bit available  x   global address idea station uniquely address station giving right bit number network layer figure locate destination next come type field tell receiver frame multiple networklayer protocol may use time machine ethernet frame arrives kernel know one hand frame type field specifies process give frame next come data  byte limit chosen somewhat arbitrarily time dix standard cast stone mostly based fact transceiver need enough ram hold entire frame ram expensive  larger upper limit would meant ram hence expensive transceiver addition maximum frame length also minimum frame length data field  byte sometimes useful cause problem transceiver detects collision truncates current frame mean stray bit piece frame appear cable time make easier distinguish valid frame garbage ethernet requires valid frame must least  byte long destination address checksum including data portion frame le  byte pad field used fill frame minimum size another important reason minimum length frame prevent station completing transmission short frame first bit even reached far end cable may collide another frame problem illustrated fig  time  station one end network sends frame let u call propagation time frame reach end t frame get end ie time te distant station b start transmitting b detects receiving power putting know collision occurred abort transmission generates bit noise burst warn station word jam ether make sure sender miss collision time t  sender see noise burst abort transmission wait random time trying figure  collision detection take long t station try transmit short frame conceivable collision occurs transmission completes noise burst get back t sender incorrectly conclude frame successfully sent prevent situation occurring frame must take t send transmission still taking place noise burst get back sender mbps lan maximum length  meter four repeater  specification roundtrip time including time propagate four repeater determined nearly  µsec worst case including time pas repeater certainly zero therefore minimum frame must take least long transmit  mbps bit take  nsec  bit smallest frame guaranteed work add margin safety number rounded  bit  byte frame fewer  byte padded  byte pad field network speed go minimum frame length must go maximum cable length must come proportionally meter lan operating  gbps minimum frame size would  byte alternatively minimum frame size could  byte maximum distance two station  meter restriction becoming increasingly painful move toward multigigabit network final ethernet field checksum effectively bit hash code data data bit erroneously received due noise cable checksum almost certainly wrong error detected checksum algorithm cyclic redundancy check crc kind discussed chap  error detection forward error correction ieee standardized ethernet committee made two change dix format shown fig  b first one reduce preamble  byte use last byte start frame delimiter compatibility   second one change type field length field course way receiver figure incoming frame problem handled addition small header data portion provide information discus format data portion come logical link control later chapter unfortunately time  published much hardware software dix ethernet already use manufacturer user enthusiastic converting type field length field  ieee threw towel said way fine fortunately type field use  greater  consequently number le equal  interpreted length number greater  interpreted type ieee  maintain everyone using standard everybody else keep already without feeling guilty  binary exponential backoff algorithm let u see randomization done collision occurs model fig   collision time divided discrete slot whose length equal worstcase roundtrip propagation time ether t accommodate longest path allowed ethernet slot time set  bit time  µsec mentioned first collision station wait either   slot time trying two station collide one pick random number collide second collision one pick either     random wait number slot time third collision occurs probability happening  next time number slot wait chosen random interval     general collision random number    chosen number slot skipped however ten collision reached randomization interval frozen maximum  slot  collision controller throw towel report failure back computer recovery higher layer algorithm called binary exponential backoff chosen dynamically adapt number station trying send randomization interval collision  chance two station colliding second time would negligible average wait collision would hundred slot time introducing significant delay hand station always delayed either zero one slot  station ever tried send would collide  picked  remaining station picked  might take year randomization interval grow exponentially consecutive collision occur algorithm ensures low delay station collide also ensures collision resolved reasonable interval many station collide truncating backoff  keep bound growing large described far csmacd provides acknowledgement since mere absence collision guarantee bit garbled noise spike cable reliable communication destination must verify checksum correct send back acknowledgement frame source normally acknowledgement would another frame far protocol concerned would fight channel time like data frame however simple modification contention algorithm would allow speedy confirmation frame receipt tokoro tamaru  would needed reserve first contention slot following successful transmission destination station unfortunately standard provide possibility  ethernet performance let u briefly examine performance ethernet condition heavy constant load k station always ready transmit rigorous analysis binary exponential backoff algorithm complicated instead follow metcalfe boggs  assume constant retransmission probability slot station transmits contention slot probability p probability station acquires channel slot equation   maximized p  k  e k probability contention interval exactly j slot  j  mean number slot per contention given since slot duration t mean contention interval w t a assuming optimal p mean number contention slot never e w t e t mean frame take p sec transmit many station frame send equation  see maximum cable distance two station enters performance figure giving rise topology fig  longer cable longer contention interval observation ethernet standard specifies maximum cable length instructive formulate eq  term frame length f network bandwidth b cable length l speed signal propagation c optimal case e contention slot per frame p fb eq  becomes equation  second term denominator large network efficiency low specifically increasing network bandwidth distance bl product reduces efficiency given frame size unfortunately much research network hardware aimed precisely increasing product people want high bandwidth long distance fiber optic man example suggests ethernet implemented manner may best system application see way implementing ethernet come switched ethernet later chapter fig  channel efficiency plotted versus number ready station t µsec data rate  mbps using eq  byte slot time surprising byte frame efficient hand byte frame asymptotic value e byte slot per contention interval contention period  byte long efficiency   figure  efficiency ethernet  mbps bit slot time determine mean number station ready transmit condition high load use following crude observation frame tie channel one contention period one frame transmission time total p w sec number frame per second therefore  p w station generates frame mean rate framessec system state k total input rate unblocked station combined k framessec since equilibrium input output rate must identical equate two expression solve k notice w function k sophisticated analysis given bertsekas gallager  probably worth mentioning large amount theoretical performance analysis ethernet network virtually work assumed traffic poisson researcher begun looking real data appears network traffic rarely poisson selfsimilar paxson floyd  willinger et al  mean averaging long period time smooth traffic average number frame minute hour much variance average number frame second minute consequence discovery model network traffic apply real world taken grain better yet metric ton salt  switched ethernet station added ethernet traffic go eventually lan saturate one way go higher speed say  mbps  mbps growth multimedia even mbps gbps ethernet become saturated fortunately additional way deal increased load switched ethernet shown fig  heart system switch containing highspeed backplane room typically   plugin line card containing one eight connector often connector baset twisted pair connection single host computer figure  simple example switched ethernet  station want transmit ethernet frame output standard frame switch plugin card getting frame may check see destined one station connected card frame copied frame sent highspeed backplane destination station s card backplane typically run many gbps using proprietary protocol happens two machine attached plugin card transmit frame time depends card constructed one possibility port card wired together form local oncard lan collision oncard lan detected handled collision csmacd network—with retransmissions using binary exponential backoff algorithm kind plugin card one transmission per card possible instant card transmitting parallel design card form collision domain independent others one station per collision domain collision impossible performance improved kind plugin card input port buffered incoming frame stored card s onboard ram arrive design allows input port receive transmit frame time parallel fullduplex operation something possible csmacd single channel frame completely received card check see frame destined another port card distant port former case transmitted directly destination latter case must transmitted backplane proper card design port separate collision domain collision occur total system throughput often increased order magnitude base single collision domain entire system since switch expects standard ethernet frame input port possible use port concentrators fig  port upperright corner connected single station port hub frame arrive hub contend ether usual way including collision binary backoff successful frame make switch treated like incoming frame switched correct output line highspeed backplane hub cheaper switch due falling switch price rapidly becoming obsolete nevertheless legacy hub still exist  fast ethernet first  mbps seemed like heaven bps modem seemed like heaven early user bps acoustic modem novelty wore quickly kind corollary parkinson s law work expands fill time available completion seemed data expanded fill bandwidth available transmission pump speed various industry group proposed two new ringbased optical lan one called  fddi fiber distributed data interface called fibre channel make long story short used backbone network neither one made breakthrough desktop case station management complicated led complex chip high price lesson learned kiss keep simple stupid called fibre channel fiber channel document editor british event failure optical lan catch fire left gap gardenvariety ethernet speed  mbps many installation needed bandwidth thus numerous mbps lan connected maze repeater bridge router gateway although network manager sometimes felt held together bubble gum chicken wire environment ieee reconvened  committee  instruction come faster lan one proposal keep  exactly make go faster another proposal redo totally give lot new feature realtime traffic digitized voice keep old name marketing reason wrangling committee decided keep  way make go faster people behind losing proposal computerindustry people would done circumstances—they stomped formed committee standardized lan anyway eventually  flopped miserably  committee decided go soupedup ethernet three primary reason  need backward compatible existing ethernet lan  fear new protocol might unforeseen problem  desire get job done technology changed work done quickly standard committee norm result u officially approved ieee june  technically u new standard addendum existing  standard emphasize backward compatibility since practically everyone call fast ethernet rather u basic idea behind fast ethernet simple keep old frame format interface procedural rule reduce bit time  nsec  nsec technically would possible copy either base base still detect collision time reducing maximum cable length factor ten however advantage baset wiring overwhelming fast ethernet based entirely design thus fast ethernet system use hub switch multidrop cable vampire tap bnc connector permitted nevertheless choice still made important wire type support one contender category  twisted pair argument practically every office western world least four category  better twisted pair running telephone wiring closet within  meter sometimes two cable exist thus using category  twisted pair would make possible wire desktop computer using fast ethernet without rewire building enormous advantage many organization main disadvantage category  twisted pair inability carry  megabaud signal  mbps manchester encoding  meter maximum computertohub distance specified baset see fig  contrast category  twisted pair wiring handle  meter easily fiber go much farther compromise chosen allow three possibility shown fig  pep category  solution give additional carrying capacity needed  figure  original fast ethernet cabling category  utp scheme called baset us signaling speed  mhz  percent faster standard ethernet s  mhz remember manchester encoding shown fig  requires two clock period  million bit second however achieve necessary bandwidth baset requires four twisted pair since standard telephone wiring decade four twisted pair per cable office able handle course mean giving office telephone surely small price pay faster email four twisted pair one always hub one always hub two switchable current transmission direction get necessary bandwidth manchester encoding used modern clock short distance longer needed addition ternary signal sent single clock period wire contain    three twisted pair going forward direction ternary signaling one  possible symbol transmitted making possible send  bit redundancy transmitting  bit  million clock cycle per second give necessary  mbps addition always mbps reverse channel using remaining twisted pair scheme known bt  bit map  trits likely win prize elegance work existing wiring plant category  wiring design basetx simpler wire handle clock rate  mhz two twisted pair per station used one hub one straight binary coding used instead scheme called used bb taken fddi compatible every group five clock period containing one two signal value yield  combination sixteen combination used transmit four bit group     remaining  used control purpose marking frame boundary combination used carefully chosen provide enough transition maintain clock synchronization basetx system full duplex station transmit  mbps receive  mbps time often basetx baset collectively referred baset last option basefx us two strand multimode fiber one direction full duplex  mbps direction addition distance station hub  km response popular demand   committee added new cabling type baset allowing fast ethernet run two pair existing category  wiring however sophisticated digital signal processor needed handle encoding scheme required making option fairly expensive far rarely used due complexity cost fact many office building already rewired category  utp two kind interconnection device possible baset hub switch shown fig  hub incoming line least line arriving one plugin card logically connected forming single collision domain standard rule including binary exponential backoff algorithm apply system work like oldfashioned ethernet particular one station time transmitting word hub require halfduplex communication switch incoming frame buffered plugin line card passed highspeed backplane source card destination card need backplane  standardized need since entirely hidden deep inside switch past experience guide switch vendor compete vigorously produce ever faster backplanes order improve system throughput basefx cable long normal ethernet collision algorithm must connected switch one collision domain unto hub permitted basefx final note virtually switch handle mix mbps mbps station make upgrading easier site acquires mbps workstation buy necessary number new line card insert switch fact standard provides way two station automatically negotiate optimum speed   mbps duplexity half full fast ethernet product use feature autoconfigure  gigabit ethernet ink barely dry fast ethernet standard  committee began working yet faster ethernet  quickly dubbed gigabit ethernet ratified ieee  name z identifier suggests gigabit ethernet going end line unless somebody quickly invents new letter z discus key feature gigabit ethernet information found seifert  z committee s goal essentially u committee s goal make ethernet go  time faster yet remain backward compatible existing ethernet standard particular gigabit ethernet offer unacknowledged datagram service unicast multicast use bit addressing scheme already use maintain frame format including minimum maximum frame size final standard met goal configuration gigabit ethernet pointtopoint rather multidrop original  mbps standard honored classic ethernet simplest gigabit ethernet configuration illustrated fig  two computer directly connected common case however switch hub connected multiple computer possibly additional switch hub shown fig  b configuration individual ethernet cable exactly two device fewer figure  twostation ethernet b multistation ethernet gigabit ethernet support two different mode operation fullduplex mode halfduplex mode normal mode fullduplex mode allows traffic direction time mode used central switch connected computer switch periphery configuration line buffered computer switch free send frame whenever want sender sense channel see anybody else using contention impossible line  computer switch computer possible sender line switch transmission succeeds even switch currently sending frame computer line full duplex since contention possible csmacd protocol used maximum length cable determined signal strength issue rather long take noise burst propagate back sender worst case switch free mix match speed autoconfiguration supported fast ethernet mode operation halfduplex used computer connected hub rather switch hub buffer incoming frame instead electrically connects line internally simulating multidrop cable used classic ethernet mode collision possible standard csmacd protocol required minimum ie byte frame transmitted  time faster classic ethernet maximum distance  time le  meter maintain essential property sender still transmitting noise burst get back even worst case meterlong cable sender byte frame  gbps would long done frame got even tenth way end let alone end back z committee considered radius  meter unacceptable added two feature standard increase radius first feature called carrier extension essentially tell hardware add padding normal frame extend frame  byte since padding added sending hardware removed receiving hardware software unaware meaning change needed existing software course using  byte worth bandwidth transmit  byte user data payload byte frame line efficiency  second feature called frame bursting allows sender transmit concatenated sequence multiple frame single transmission total burst le  byte hardware pad enough frame waiting transmission scheme highly efficient preferred carrier extension new feature extend radius network  meter probably enough office fairness hard imagine organization going trouble buying installing gigabit ethernet card get high performance connecting computer hub simulate classic ethernet collision hub somewhat cheaper switch gigabit ethernet interface card still relatively expensive economize buying cheap hub slash performance new system foolish still backward compatibility sacred computer industry z committee required put gigabit ethernet support copper fiber cabling listed fig  signaling near  gbps fiber mean light source turned  nsec led simply operate fast laser required two wavelength permitted  micron short  micron long laser  micron cheaper work singlemode fiber figure  gigabit ethernet cabling three fiber diameter permitted    micron first single mode last two multimode six combination allowed however  maximum distance depends combination used number given fig  best case particular  meter achievable  micron laser operating  micron fiber single mode best choice campus backbone expected popular despite expensive choice basecx option us short shielded copper cable problem competing highperformance fiber cheap utp unlikely used much last option bundle four category  utp wire working together much wiring already installed likely poor man s gigabit ethernet gigabit ethernet us new encoding rule fiber manchester encoding  gbps would require  gbaud signal considered difficult also wasteful bandwidth instead new scheme called bb chosen based fibre channel bit byte encoded fiber  bit hence name bb since  possible output codewords input byte leeway available choosing codewords allow following two rule used making choice  codeword may four identical bit row  codeword may six  six  choice made keep enough transition stream make sure receiver stay sync sender also keep number   fiber close equal possible addition many input byte two possible codewords assigned encoder choice codewords always chooses codeword move direction equalizing number   transmitted far emphasis balancing   needed keep dc component signal low possible allow pas transformer unmodified computer scientist fond property transformer dictate coding scheme life like sometimes gigabit ethernet using baset use different encoding scheme since clocking data onto copper wire  nsec difficult solution us four category  twisted pair allow four symbol transmitted parallel symbol encoded using one five voltage level scheme allows single symbol encode     special value control purpose thus  data bit per twisted pair  data bit per clock cycle clock run  mhz allowing gbps operation reason allowing five voltage level instead four combination left framing control purpose speed  gbps quite fast example receiver busy task even  msec empty input buffer line  frame may accumulated  m gap also computer gigabit ethernet shipping data line computer classic ethernet buffer overrun likely consequence two observation gigabit ethernet support flow control fast ethernet although two different flow control consists one end sending special control frame end telling pause period time control frame normal ethernet frame containing type x first two byte data field give command succeeding byte provide parameter flow control pause frame used parameter telling long pause unit minimum frame time gigabit ethernet time unit  nsec allowing pause long  msec soon gigabit ethernet standardized  committee got bored wanted get back work ieee told start gigabit ethernet searching hard letter follow z abandoned approach went twoletter suffix got  work standard approved ieee  ae gigabit ethernet far behind  ieee  logical link control perhaps time step back compare learned chapter studied previous one chap  saw two machine could communicate reliably unreliable line using various data link protocol protocol provided error control using acknowledgement flow control using sliding window contrast chapter said word reliable communication ethernet  protocol offer bestefforts datagram service sometimes service adequate example transporting ip packet guarantee required even expected ip packet inserted  payload field sent way get lost nevertheless also system errorcontrolled flowcontrolled data link protocol desired ieee defined one run top ethernet  protocol addition protocol called llc logical link control hide difference various kind  network providing single format interface network layer format interface protocol closely based hdlc protocol studied chap  llc form upper half data link layer mac sublayer shown fig  figure  position llc b protocol format typical usage llc follows network layer sending machine pass packet llc using llc access primitive llc sublayer add llc header containing sequence acknowledgement number resulting structure inserted payload field  frame transmitted receiver reverse process take place llc provides three service option unreliable datagram service acknowledged datagram service reliable connectionoriented service llc header contains three field destination access point source access point control field access point tell process frame came delivered replacing dix type field control field contains sequence acknowledgement number much style hdlc see fig  identical field primarily used reliable connection needed data link level case protocol similar one discussed chap  would used internet bestefforts attempt deliver ip packet sufficient acknowledgement llc level required   retrospective ethernet ethernet around  year serious competitor sight likely around many year come cpu architecture operating system programming language king mountain two decade going three clearly ethernet something right probably main reason longevity ethernet simple flexible practice simple translates reliable cheap easy maintain vampire tap replaced bnc connector failure became extremely rare people hesitate replace something work perfectly time especially know awful lot thing computer industry work poorly many socalled upgrade appreciably worse replaced simple also translates cheap thin ethernet twisted pair wiring relatively inexpensive interface card also low cost hub switch introduced substantial investment required time picture ethernet already well established ethernet easy maintain software install driver configuration table manage get wrong also adding new host simple plugging another point ethernet interworks easily tcpip become dominant ip connectionless protocol fit perfectly ethernet also connectionless ip fit much le well atm connection oriented mismatch definitely hurt atm s chance lastly ethernet able evolve certain crucial way speed gone several order magnitude hub switch introduced change required changing software network salesman show large installation say i fantastic new network throw hardware rewrite software problem fddi fibre channel atm faster ethernet introduced incompatible ethernet far complex harder manage eventually ethernet caught term speed advantage left quietly died except atm s use deep within core telephone system  wireless lan although ethernet widely used get competition wireless lan increasingly popular office building airport public place outfitted wireless lan operate one two configuration saw fig  base station without base station consequently  lan standard take account make provision arrangement see shortly gave background information  sec  time take closer look technology following section look protocol stack physical layer radio transmission technique mac sublayer protocol frame structure service information  see crow et al  geier  heegard et al  kapp  ohara petrick  severance  hear truth mouth horse consult published  standard    protocol stack protocol used  variant including ethernet certain commonality structure partial view  protocol stack given fig  physical layer corresponds osi physical layer fairly well data link layer  protocol split two sublayers  mac medium access control sublayer determines channel allocated get transmit next llc logical link control sublayer whose job hide difference different  variant make indistinguishable far network layer concerned studied llc examining ethernet earlier chapter repeat material figure  part  protocol stack   standard specifies three transmission technique allowed physical layer infrared method us much technology television remote control two use shortrange radio using technique called fhss ds use part spectrum require licensing ghz ism band radiocontrolled garage door opener also use piece spectrum notebook computer may find competition garage door cordless telephone microwave oven also use band technique operate   mbps low enough power conflict much  two new technique introduced achieve higher bandwidth called ofdm hrdsss operate  mbps  mbps respectively  second ofdm modulation introduced different frequency band first one examine briefly technically belong physical layer examined chapter  since closely tied lan general  mac sublayer treat instead   physical layer five permitted transmission technique make possible send mac frame one station another differ however technology used speed achievable detailed discussion technology far beyond scope book word one along key word may provide interested reader term search internet elsewhere information infrared option us diffused ie line sight transmission   micron two speed permitted  mbps  mbps  mbps encoding scheme used group  bit encoded bit codeword containing fifteen  single   using called gray code code property small error time synchronization lead single bit error output  mbps encoding take  bit produce bit codeword also single  one     infrared signal penetrate wall cell different room well isolated nevertheless due low bandwidth fact sunlight swamp infrared signal popular option fhss frequency hopping spread spectrum us  channel mhz wide starting low end ghz ism band pseudorandom number generator used produce sequence frequency hopped long station use seed pseudorandom number generator stay synchronized time hop frequency simultaneously amount time spent frequency dwell time adjustable parameter must le  msec fhss randomization provides fair way allocate spectrum unregulated ism band also provides modicum security since intruder know hopping sequence dwell time eavesdrop transmission longer distance multipath fading issue fhss offer good resistance also relatively insensitive radio interference make popular buildingtobuilding link main disadvantage low bandwidth third modulation method ds direct sequence spread spectrum also restricted   mbps scheme used similarity cdma system examined sec  differs way bit transmitted  chip using called barker sequence us phase shift modulation  mbaud transmitting  bit per baud operating  mbps  bit per baud operating  mbps year fcc required wireless communication equipment operating ism band u use spread spectrum may  rule dropped new technology emerged first highspeed wireless lan a us ofdm orthogonal frequency division multiplexing deliver  mbps wider ghz ism band term fdm suggests different frequency used—  data  synchronization—not unlike adsl since transmission present multiple frequency time technique considered form spread spectrum different cdma fhss splitting signal many narrow band key advantage using single wide band including better immunity narrowband interference possibility using noncontiguous band complex encoding system used based phaseshift modulation speed  mbps qam  mbps  data bit encoded bit symbol part motivation ofdm compatibility european hiperlan system doufexi et al  technique good spectrum efficiency term bitshz good immunity multipath fading next come hrdsss high rate direct sequence spread spectrum another spread spectrum technique us  million chipssec achieve  mbps ghz band called b followup a fact standard approved first got market first data rate supported b     mbps two slow rate run  mbaud   bit per baud respectively using phase shift modulation compatibility ds two faster rate run  mbaud   bit per baud respectively using walshhadamard code data rate may dynamically adapted operation achieve optimum speed possible current condition load noise practice operating speed b nearly always  mbps although b slower a range  time greater important many situation enhanced version b g approved ieee november  much politicking whose patented technology would use us ofdm modulation method a operates narrow ghz ism band along b theory operate  mbps yet clear whether speed realized practice mean  committee produced three different highspeed wireless lan a b g mention three lowspeed  wireless lan one legitimately ask good thing standard committee maybe three lucky number   mac sublayer protocol let u return land electrical engineering land computer science  mac sublayer protocol quite different ethernet due inherent complexity wireless environment compared wired system ethernet station wait ether go silent start transmitting receive noise burst back within first  byte frame almost assuredly delivered correctly wireless situation hold start hidden station problem mentioned earlier illustrated fig  since station within radio range transmission going one part cell may received elsewhere cell example station c transmitting station b sens channel hear anything falsely conclude may start transmitting b figure  hidden station problem b exposed station problem addition inverse problem exposed station problem illustrated fig   b b want send c listens channel hears transmission falsely concludes may send c even though may transmitting shown addition radio half duplex meaning transmit listen noise burst time single frequency result problem  use csmacd ethernet deal problem  support two mode operation first called dcf distributed coordination function use kind central control respect similar ethernet called pcf point coordination function us base station control activity cell implementation must support dcf pcf optional discus two mode turn dcf employed  us protocol called csmaca csma collision avoidance protocol physical channel sensing virtual channel sensing used two method operation supported csmaca first method station want transmit sens channel idle start transmitting sense channel transmitting emits entire frame may well destroyed receiver due interference channel busy sender defers go idle start transmitting collision occurs colliding station wait  random time using ethernet binary exponential backoff algorithm try later mode csmaca operation based macaw us virtual channel sensing illustrated fig  example want send b c station within range possibly within range b matter station within range b within range figure  use virtual channel sensing using csmaca protocol start decides want send data b begin sending rts frame b request permission send frame b receives request may decide grant permission case sends ct frame back upon receipt ct sends frame start ack timer upon correct receipt data frame b responds ack frame terminating exchange s ack timer expires ack get back whole protocol run let u consider exchange viewpoint c c within range may receive rts frame realizes someone going send data soon good desists transmitting anything exchange completed information provided rts request estimate long sequence take including final ack asserts kind virtual channel busy indicated nav network allocation vector fig  hear rts hear ct also asserts nav signal note nav signal transmitted internal reminder keep quiet certain period time contrast wired network wireless network noisy unreliable small part due microwave oven also use unlicensed ism band consequence probability frame making successfully decrease frame length probability bit error p probability n bit frame received entirely correctly  p n example p   probability receiving full ethernet frame  bit correctly le  p   one frame  damaged even p    frame damaged amount almost dozen per second frame shorter maximum used summary frame long little chance getting undamaged probably retransmitted deal problem noisy channel  allows frame fragmented smaller piece checksum fragment individually numbered acknowledged using stopandwait protocol ie sender may transmit fragment k  received acknowledgment fragment k channel acquired using rts ct multiple fragment sent row shown fig  sequence fragment called fragment burst figure  fragment burst  fragmentation increase throughput restricting retransmissions bad fragment rather entire frame fragment size fixed standard parameter cell adjusted base station nav mechanism keep station quiet next acknowledgement another mechanism described used allow whole fragment burst sent without interference discussion applies  dcf mode mode central control station compete air time ethernet allowed mode pcf base station poll station asking frame send since transmission order completely controlled base station pcf mode collision ever occur standard prescribes mechanism polling polling frequency polling order even whether station need get equal service basic mechanism base station broadcast beacon frame periodically   time per second beacon frame contains system parameter hopping sequence dwell time fhss clock synchronization etc also invite new station sign polling service station signed polling service certain rate effectively guaranteed certain fraction bandwidth thus making possible give qualityofservice guarantee battery life always issue mobile wireless device  pay attention issue power management particular base station direct mobile station go sleep state explicitly awakened base station user told station go sleep however mean base station responsibility buffering frame directed mobile station asleep collected later pcf dcf coexist within one cell first might seem impossible central control distributed control operating time  provides way achieve goal work carefully defining interframe time interval frame sent certain amount dead time required station may send frame four different interval defined specific purpose four interval depicted fig  figure  interframe spacing   shortest interval sif short interframe spacing used allow party single dialog chance go first includes letting receiver send ct respond rts letting receiver send ack fragment full data frame letting sender fragment burst transmit next fragment without send rts always exactly one station entitled respond sif interval fails make use chance time pifs pcf interframe spacing elapses base station may send beacon frame poll frame mechanism allows station sending data frame fragment sequence finish frame without anyone else getting way give base station chance grab channel previous sender done without compete eager user base station nothing say time difs dcf interframe spacing elapses station may attempt acquire channel send new frame usual contention rule apply binary exponential backoff may needed collision occurs last time interval eifs extended interframe spacing used station received bad unknown frame report bad frame idea giving event lowest priority since receiver may idea going wait substantial time avoid interfering ongoing dialog two station   frame structure  standard defines three different class frame wire data control management header variety field used within mac sublayer addition header used physical layer mostly deal modulation technique used discus format data frame shown fig  first come frame control field  subfields first protocol version allows two version protocol operate time cell come type data control management subtype field eg rts ct d d bit indicate frame going coming intercell distribution system eg ethernet mf bit mean fragment follow retry bit mark retransmission frame sent earlier power management bit used base station put receiver sleep state take sleep state bit indicates sender additional frame receiver w bit specifies frame body encrypted using wep wired equivalent privacy algorithm finally bit tell receiver sequence frame bit must processed strictly order figure   data frame  second field data frame duration field tell long frame acknowledgement occupy channel field also present control frame station manage nav mechanism frame header contains four address standard ieee  format source destination obviously needed two remember frame may enter leave cell via base station two address used source destination base station intercell traffic sequence field allows fragment numbered  bit available  identify frame  identify fragment data field contains payload  byte followed usual checksum management frame format similar data frame except without one base station address management frame restricted single cell control frame shorter still one two address data field sequence field key information subtype field usually rts ct ack  service  standard state conformant wireless lan must provide nine service service divided two category five distribution service four station service distribution service relate managing cell membership interacting station outside cell contrast station service relate activity within single cell five distribution service provided base station deal station mobility enter leave cell attaching detaching base station follows  association service used mobile station connect base station typically used station move within radio range base station upon arrival announces identity capability capability include data rate supported need pcf service ie polling power management requirement base station may accept reject mobile station mobile station accepted must authenticate  disassociation either station base station may disassociate thus breaking relationship station use service shutting leaving base station may also use going maintenance  reassociation station may change preferred base station using service facility useful mobile station moving one cell another used correctly data lost consequence handover  like ethernet bestefforts service  distribution service determines route frame sent base station destination local base station frame sent directly air otherwise forwarded wired network  integration frame need sent non network different addressing scheme frame format service handle translation  format format required destination network  remaining four service intracell ie relate action within single cell used association taken place follows  authentication wireless communication easily sent received unauthorized station station must authenticate permitted send data mobile station associated base station ie accepted cell base station sends special challenge frame see mobile station know secret key password assigned prof knowledge secret key encrypting challenge frame sending back base station result correct mobile fully enrolled cell initial standard base station prove identity mobile station work repair defect standard underway  deauthentication previously authenticated station want leave network deauthenticated deauthentication may longer use network  privacy information sent wireless lan kept confidential must encrypted service manages encryption decryption encryption algorithm specified rc invented ronald rivest mit  data delivery finally data transmission  naturally provides way transmit receive data since  modeled ethernet transmission ethernet guaranteed  reliable transmission  guaranteed reliable either higher layer must deal detecting correcting error  cell parameter inspected case adjusted relate encryption timeout interval data rate beacon frequency wireless lan based  starting deployed office building airport hotel restaurant campus around world rapid growth expected experience widespread deployment  cmu see hill   broadband wireless indoors long let u go outside see interesting networking going turn quite bit going socalled last mile deregulation telephone system many country competitor entrenched telephone company often allowed offer local voice highspeed internet service certainly plenty demand problem running fiber coax even category  twisted pair million home business prohibitively expensive competitor answer broadband wireless erecting big antenna hill outside town installing antenna directed customer roof much easier cheaper digging trench stringing cable thus competing telecommunication company great interest providing multimegabit wireless communication service voice internet movie demand etc saw fig  lmds invented purpose however recently every carrier devised system lack standard meant hardware software could mass produced kept price high acceptance low many people industry realized broadband wireless standard key element missing ieee asked form committee composed people key company academia draw standard next number available  numbering space  standard got number work started july  final standard approved april  officially standard called air interface fixed broadband wireless access system however people prefer call  wireless man metropolitan area network wireless local loop regard term interchangeable like  standard  heavily influenced osi model including sub layer terminology service primitive unfortunately also like osi fairly complicated following section give brief description highlight  treatment far complete leaf many detail additional information broadband wireless general see bolcskei et al  webb  information  particular see eklund et al   comparison   point may thinking devise new standard use  good reason using  primarily   solve different problem getting technology  probably worthwhile saying word new standard needed environment   operate similar way primarily designed provide highbandwidth wireless communication also differ major way start  provides service building building mobile migrate cell cell often much  deal mobility none relevant next building one computer complication occur end station single notebook computer building owner generally willing spend much money communication gear notebook owner better radio available difference mean  use fullduplex communication something  avoids keep cost radio low  run part city distance involved several kilometer mean perceived power base station vary widely station station variation affect signaltonoise ratio turn dictate multiple modulation scheme also open communication city mean security privacy essential mandatory furthermore cell likely many user typical  cell user expected use bandwidth typical  user rare company invite  employee show room laptop see saturate  wireless network watching  separate movie reason spectrum needed ism band provide forcing  operate much higher to ghz frequency range place unused spectrum still available millimeter wave different physical property longer wave ism band turn requires completely different physical layer one property millimeter wave strongly absorbed water especially rain extent also snow hail bit bad luck heavy fog consequently error handling important indoor environment millimeter wave focused directional beam  omnidirectional choice made  relating multipath propagation moot another issue quality service  provides support realtime traffic using pcf mode really designed telephony heavyduty multimedia usage contrast  expected support application completely intended residential well business use short  designed mobile ethernet whereas  designed wireless stationary cable television difference big resulting standard different try optimize different thing  brief comparison cellular phone system also worthwhile mobile phone talking narrowband voiceoriented lowpowered mobile station communicate using mediumlength microwave nobody watch highresolution twohour movie gsm mobile phone yet even umts little hope changing situation short wireless man world far demanding mobile phone world completely different system needed whether  could used mobile device future interesting question optimized possibility moment focused fixed wireless   protocol stack  protocol stack illustrated fig  general structure similar  network sublayers bottom sublayer deal transmission traditional narrowband radio used conventional modulation scheme physical transmission layer come convergence sublayer hide different technology data link layer actually  something like committee chose formalize ositype name figure   protocol stack although shown figure work already underway add two new physical layer protocol a standard support ofdm to ghz frequency range b standard operate ghz ism band attempt move closer  data link layer consists three sublayers bottom one deal privacy security far crucial public outdoor network private indoor network manages encryption decryption key management next come mac sublayer common part main protocol channel management located model base station control system schedule downstream ie base subscriber channel efficiently play major role managing upstream ie subscriber base channel well unusual feature mac sublayer unlike  network completely connection oriented order provide qualityofservice guarantee telephony multimedia communication servicespecific convergence sublayer take place logical link sublayer  protocol function interface network layer complication  designed integrate seamlessly datagram protocol eg ppp ip ethernet atm problem packet protocol connectionless atm connection oriented mean every atm connection map onto  connection principle straightforward matter onto  connection incoming ip packet mapped problem dealt sublayer    physical layer mentioned broadband wireless need lot spectrum place find to ghz range millimeter wave interesting property longer microwave travel straight line unlike sound similar light consequence base station multiple antenna pointing different sector surrounding terrain shown fig  sector user fairly independent adjoining one something true cellular radio omnidirectional figure   transmission environment signal strength millimeter band fall sharply distance base station signaltonoise ratio also drop distance base station reason  employ three different modulation scheme depending far subscriber station base station closein subscriber qam used  bitsbaud mediumdistance subscriber qam used  bitsbaud distant subscriber qpsk used  bitsbaud example typical value  mhz worth spectrum qam give  mbps qam give  mbps qpsk give  mbps word farther subscriber base station lower data rate similar saw adsl fig  constellation diagram three modulation technique shown fig  given goal producing broadband system subject physical constraint  designer worked hard use available spectrum efficiently one thing like way gsm damp work use different equal frequency band upstream downstream traffic voice traffic probably symmetric part internet access often downstream traffic upstream traffic consequently  provides flexible way allocate bandwidth two scheme used fdd frequency division duplexing tdd time division duplexing latter illustrated fig  base station periodically sends frame frame contains time slot first one downstream traffic come guard time used station switch direction finally slot upstream traffic number time slot devoted direction changed dynamically match bandwidth direction traffic figure  frame time slot time division duplexing  downstream traffic mapped onto time slot base station base station completely control direction upstream traffic complex depends quality service required come slot allocation discus mac sublayer another interesting feature physical layer ability pack multiple mac frame backto back single physical transmission feature enhances spectral efficiency reducing number preamble physical layer header needed also noteworthy use hamming code forward error correction physical layer nearly network simply rely checksum detect error request retransmission frame received error wide area broadband environment many transmission error expected error correction employed physical layer addition checksum higher layer net effect error correction make channel look better really way cdroms appear reliable half total bit devoted error correction physical layer   mac sublayer protocol data link layer divided three sublayers saw fig  since study cryptography chap  difficult explain security sublayer work suffice say encryption used keep secret data transmitted frame payload encrypted header property mean snooper see talking tell saying already know something cryptography come oneparagraph explanation security sublayer know nothing cryptography likely find next paragraph terribly enlightening might consider rereading finishing chap  time subscriber connects base station perform mutual authentication rsa publickey cryptography using x certificate payload encrypted using symmetrickey system either de cipher block chaining triple de two key aes rijndael likely added soon integrity checking us sha bad let u look mac sublayer common part mac frame occupy integral number physical layer time slot frame composed subframes first two downstream upstream map map tell time slot time slot free downstream map also contains various system parameter inform new station come online downstream channel fairly straightforward base station simply decides put subframe upstream channel complicated since competing uncoordinated subscriber need access allocation tied closely qualityofservice issue four class service defined follows  constant bit rate service  realtime variable bit rate service   nonrealtime variable bit rate service  bestefforts service service  connectionoriented connection get one class service determined connection set design different  ethernet connection mac sublayer constant bit rate service intended transmitting uncompressed voice t channel service need send predetermined amount data predetermined time interval accommodated dedicating certain time slot connection type bandwidth allocated time slot available automatically without need ask one realtime variable bit rate service compressed multimedia soft realtime application amount bandwidth needed instant may vary accommodated base station polling subscriber fixed interval ask much bandwidth needed time nonrealtime variable bit rate service heavy transmission real time large file transfer service base station poll subscriber often rigidlyprescribed time interval constant bit rate customer set bit one frame requesting poll order send additional variable bit rate traffic station respond poll k time row base station put multicast group take away personal poll instead multicast group polled station respond contending service way station little traffic waste valuable poll finally bestefforts service everything else polling done subscriber must contend bandwidth bestefforts subscriber request bandwidth done time slot marked upstream map available contention request successful success noted next downstream map successful unsuccessful subscriber try later minimize collision ethernet binary exponential backoff algorithm used standard defines two form bandwidth allocation per station per connection former case subscriber station aggregate need user building make collective request granted bandwidth dole bandwidth user see fit latter case base station manages connection directly   frame structure mac frame begin generic header header followed optional payload optional checksum crc illustrated fig  payload needed control frame example requesting channel slot checksum surprisingly also optional due error correction physical layer fact attempt ever made retransmit realtime frame retransmissions attempted even bother checksum figure  generic frame b bandwidth request frame  quick rundown header field fig  follows ec bit tell whether payload encrypted type field identifies frame type mostly telling whether packing fragmentation present ci field indicates presence absence final checksum ek field tell encryption key used length field give complete length frame including header connection identifier tell connection frame belongs finally headercrc field checksum header using polynomial x  x  x  second header type frame request bandwidth shown fig  b start  bit instead  bit similar generic header except second third byte form bit number telling much bandwidth needed carry specified number byte bandwidth request frame carry payload fullframe crc great deal could said  place say information please consult standard  bluetooth  l m ericsson company became interested connecting mobile phone device eg pda without cable together four company ibm intel nokia toshiba formed sig special interest group ie consortium develop wireless standard interconnecting computing communication device accessory using shortrange lowpower inexpensive wireless radio project named bluetooth harald blaatand bluetooth ii  viking king unified ie conquered denmark norway also without cable although original idea get rid cable device soon began expand scope encroach area wireless lan move make standard useful also creates competition mindshare  make matter worse two system also interfere electrically also worth noting hewlettpackard introduced infrared network connecting computer peripheral without wire year ago never really caught big way undaunted july  bluetooth sig issued page specification v shortly thereafter ieee standard group looking wireless personal area network  adopted bluetooth document basis began hacking might seem strange standardize something already detailed specification incompatible implementation needed harmonized history show open standard managed neutral body ieee often promotes use technology bit precise noted bluetooth specification complete system physical layer application layer ieee  committee standardizing physical data link layer rest protocol stack fall outside charter even though ieee approved first pan standard   bluetooth sig still active busy improvement although bluetooth sig ieee version identical hoped soon converge single standard   bluetooth architecture let u start study bluetooth system quick overview contains intended basic unit bluetooth system piconet consists master node seven active slave node within distance  meter multiple piconets exist large room even connected via bridge node shown fig  interconnected collection piconets called scatternet figure  two piconets connected form scatternet addition seven active slave node piconet  parked node net device master switched lowpower state reduce drain battery parked state device anything except respond activation beacon signal master also two intermediate power state hold sniff concern u reason masterslave design designer intended facilitate implementation complete bluetooth chip  consequence decision slave fairly dumb basically whatever master tell heart piconet centralized tdm system master controlling clock determining device get communicate time slot communication master slave direct slaveslave communication possible  bluetooth application network protocol provide channel communicating entity let application designer figure want use example  specify whether user use notebook computer reading email surfing web something else contrast bluetooth v specification name  specific application supported provides different protocol stack one unfortunately approach lead large amount complexity omit  application called profile listed fig  looking briefly may see clearly bluetooth sig trying accomplish figure  bluetooth profile  generic access profile really application rather basis upon real application built main job provide way establish maintain secure link channel master slave also relatively generic service discovery profile used device discover service device offer bluetooth device expected implement two profile remaining one optional serial port profile transport protocol remaining profile use emulates serial line especially useful legacy application expect serial line generic object exchange profile defines clientserver relationship moving data around client initiate operation slave either client server like serial port profile building block profile next group three profile networking lan access profile allows bluetooth device connect fixed network profile direct competitor  dialup networking profile original motivation whole project allows notebook computer connect mobile phone containing builtin modem without wire fax profile similar dialup networking except allows wireless fax machine send receive fax using mobile phone without wire two next three profile telephony cordless telephony profile provides way connect handset cordless telephone base station currently cordless telephone also used mobile phone future cordless mobile phone may merge intercom profile allows two telephone connect walkietalkies finally headset profile provides handsfree voice communication headset base station example handsfree telephony driving car remaining three profile actually exchanging object two wireless device could business card picture data file synchronization profile particular intended loading data pda notebook computer leaf home collecting data return really necessary spell application detail provide different protocol stack one probably number different working group devised different part standard one focused specific problem generated profile think conway s law action april  issue datamation magazine melvin conway observed assign n people write compiler get n pas compiler generally software structure mirror structure  group produced would probably possible get away two protocol stack instead  one file transfer one streaming realtime communication  bluetooth protocol stack bluetooth standard many protocol grouped loosely layer layer structure follow osi model tcpip model  model known model however ieee working modifying bluetooth shoehorn  model better basic bluetooth protocol architecture modified  committee shown fig   figure   version bluetooth protocol architecture bottom layer physical radio layer corresponds fairly well physical layer osi  model deal radio transmission modulation many concern goal making system inexpensive become mass market item baseband layer somewhat analogous mac sublayer also includes element physical layer deal master control time slot slot grouped frame next come layer group somewhat related protocol link manager handle establishment logical channel device including power management authentication quality service logical link control adaptation protocol often called lcap shield upper layer detail transmission analogous standard  llc sublayer technically different name suggest audio control protocol deal audio control respectively application get directly without go lcap protocol next layer middleware layer contains mix different protocol  llc inserted ieee compatibility  network rfcomm telephony service discovery protocol native rfcomm radio frequency communication protocol emulates standard serial port found pc connecting keyboard mouse modem among device designed allow legacy device use easily telephony protocol realtime protocol used three speechoriented profile also manages call setup termination finally service discovery protocol used locate service within network top layer application profile located make use protocol lower layer get work done application dedicated subset protocol specific device headset usually contain protocol needed application others  following section examine three lowest layer bluetooth protocol stack since roughly correspond physical mac sublayers  bluetooth radio layer radio layer move bit master slave vice versa lowpower system range  meter operating ghz ism band band divided  channel  mhz modulation frequency shift keying  bit per hz giving gross data rate  mbps much spectrum consumed overhead allocate channel fairly frequency hopping spread spectrum used  hopssec dwell time  µsec node piconet hop simultaneously master dictating hop sequence  bluetooth operate ghz ism band  channel interfere since bluetooth hop far faster  far likely bluetooth device ruin  transmission way around since   ieee standard ieee looking solution problem easy find since system use ism band reason license required a standard us  ghz ism band much shorter range b due physic radio wave using a perfect solution case company solved problem banning bluetooth altogether marketbased solution network power politically economically electrically demand weaker party modify standard stop interfering thought matter given lansford et al   bluetooth baseband layer baseband layer closest thing bluetooth mac sublayer turn raw bit stream frame defines key format simplest form master piconet defines series  µsec time slot master s transmission starting even slot slave transmission starting odd one traditional time division multiplexing master getting half slot slave sharing half frame    slot long frequency hopping timing allows settling time – µsec per hop allow radio circuit become stable faster settling possible higher cost singleslot frame settling   bit left  access code header leaving  bit data five slot strung together one settling period needed slightly shorter settling period used  x   bit five time slot  available baseband layer thus longer frame much efficient singleslot frame frame transmitted logical channel called link master slave two kind link exist first acl asynchronous connectionless link used packetswitched data available irregular interval data come lcap layer sending side delivered lcap layer receiving side acl traffic delivered bestefforts basis guarantee given frame lost may retransmitted slave may one acl link master sco synchronous connection oriented link realtime data telephone connection type channel allocated fixed slot direction due timecritical nature sco link frame sent never retransmitted instead forward error correction used provide high reliability slave may three sco link master sco link transmit one  bps pcm audio channel   bluetooth lcap layer lcap layer three major function first accepts packet  kb upper layer break frame transmission far end frame reassembled packet second handle multiplexing demultiplexing multiple packet source packet reassembled lcap layer determines upperlayer protocol hand example rfcomm telephony third lcap handle quality service requirement link established normal operation also negotiated setup time maximum payload size allowed prevent largepacket device drowning smallpacket device feature needed device handle kb maximum packet  bluetooth frame structure several frame format important shown fig  begin access code usually identifies master slave within radio range two master tell traffic next come bit header containing typical mac sublayer field come data field  bit fiveslot transmission single time slot format except data field  bit figure  typical bluetooth data frame let u take quick look header address field identifies eight active device frame intended type field identifies frame type acl sco poll null type error correction used data field many slot long frame flow bit asserted slave buffer full receive data primitive form flow control acknowledgement bit used piggyback ack onto frame sequence bit used number frame detect retransmissions protocol stopandwait  bit enough come bit header checksum entire bit header repeated three time form bit header shown fig  receiving side simple circuit examines three copy bit three bit accepted majority opinion win thus  bit transmission capacity used send  bit header reason reliably send data noisy environment using cheap lowpowered  mw device little computing capacity great deal redundancy needed various format used data field acl frame sco frame simpler though data field always  bit three variant defined permitting    bit actual payload rest used error correction reliable version bit payload content repeated three time header since slave may use odd slot get  slotssec master bit payload channel capacity slave  bps channel capacity  master also  bps exactly enough single fullduplex pcm voice channel hop rate  hopssec chosen number mean fullduplex voice channel  bps direction using reliable format completely saturates piconet despite raw bandwidth  mbps least reliable variant  bitsslot redundancy level three fullduplex voice channel supported maximum three sco link permitted per slave much said bluetooth space say information see bhagwat  bisdikian  bray sturman  haartsen  johansson et al  miller bisdikian  sairam et al   data link layer switching many organization multiple lan wish connect lan connected device called bridge operate data link layer bridge examine data layer link address routing since supposed examine payload field frame route transport ipv used internet ipv used internet future appletalk atm osi kind packet contrast router examine address packet route based although seems like clear division bridge router modern development advent switched ethernet muddied water see later following section look bridge switch especially connecting different  lan comprehensive treatment bridge switch related topic see perlman  getting technology bridge worthwhile taking look common situation bridge used mention six reason single organization may end multiple lan first many university corporate department lan primarily connect personal computer workstation server since goal various department differ different department choose different lan without regard department sooner later need interaction bridge needed example multiple lan came existence due autonomy owner second organization may geographically spread several building separated considerable distance may cheaper separate lan building connect bridge laser link run single cable entire site third may necessary split logically single lan separate lan accommodate load many university example thousand workstation available student faculty computing file normally kept file server machine downloaded user machine upon request enormous scale system precludes putting workstation single lan—the total bandwidth needed far high instead multiple lan connected bridge used shown fig  lan contains cluster workstation file server traffic restricted single lan add load backbone figure  multiple lan connected backbone handle total load higher capacity single lan  worth noting although usually draw lan multidrop cable fig  classic look often implemented hub especially switch nowadays however long multidrop cable multiple machine plugged hub machine connected inside hub functionally identical case machine belong collision domain use csmacd protocol send frame switched lan different however saw see shortly fourth situation single lan would adequate term load physical distance distant machine great eg  km ethernet even laying cable easy network would work due excessively long roundtrip delay solution partition lan install bridge segment using bridge total physical distance covered increased fifth matter reliability single lan defective node keep outputting continuous stream garbage cripple lan bridge inserted critical place like fire door building prevent single node gone berserk bringing entire system unlike repeater copy whatever see bridge programmed exercise discretion forward forward sixth last bridge contribute organization s security lan interface promiscuous mode frame given computer addressed spy busybody love feature inserting bridge various place careful forward sensitive traffic system administrator isolate part network traffic escape fall wrong hand ideally bridge fully transparent meaning possible move machine one cable segment another without changing hardware software configuration table also possible machine segment communicate machine segment without regard type lan used two segment segment goal sometimes achieved always  bridge x y seen bridge needed let u turn question work figure  illustrates operation simple twoport bridge host wireless  lan packet send fixed host b  ethernet wireless lan connected packet descends llc sublayer acquires llc header shown black figure pass mac sublayer  header prepended also trailer shown figure unit go air picked base station see need go fixed ethernet hit bridge connecting  network  network start physical layer work  way upward mac sublayer bridge  header stripped bare packet llc header handed llc sublayer bridge example packet destined  lan work way  side bridge go ethernet note bridge connecting k different lan k different mac sublayers k different physical layer one type figure  operation lan bridge   far look like moving frame one lan another easy case section point difficulty one encounter trying build bridge various  lan man focus    others well unique problem start lan us different frame format see fig  unlike difference ethernet token bus token ring due history big corporate ego difference extent legitimate example duration field  due macaw protocol make sense ethernet result copying different lan requires reformatting take cpu time requires new checksum calculation introduces possibility undetected error due bad bit bridge s memory figure  ieee  frame format drawing scale second problem interconnected lan necessarily run data rate forwarding long run backtoback frame fast lan slower one bridge able get rid frame fast come example gigabit ethernet pouring bit mbps b lan top speed bridge buffer hoping run memory bridge connect three  lan similar problem several lan trying feed output lan time even lan run speed third problem potentially serious different  lan different maximum frame length obvious problem arises long frame must forwarded onto lan accept splitting frame piece question layer protocol assume frame either arrive provision reassembling frame smaller unit say protocol could devised could data link protocol provide feature bridge must keep hand frame payload basically solution frame large forwarded must discarded much transparency another point security   support encryption data link layer ethernet mean various encryption service available wireless network lost traffic pass ethernet worse yet wireless station us data link layer encryption way decrypt arrives ethernet wireless station use encryption traffic exposed air link either way problem one solution security problem encryption higher layer  station know whether talking another station  network meaning use data link layer encryption meaning use forcing station make choice destroys transparency final point quality service   provide various form former using pcf mode latter using constant bit rate connection ethernet concept quality service traffic either others lose quality service passing ethernet  local internetworking previous section dealt problem encountered connecting two different ieee  lan via single bridge however large organization many lan interconnecting raise variety issue even ethernet ideally possible go buy bridge designed ieee standard plug connector bridge everything work perfectly instantly hardware change required software change required setting address switch downloading routing table parameter nothing plug cable walk away furthermore operation existing lan affected bridge word bridge completely transparent invisible hardware software surprisingly enough actually possible let u take look magic accomplished simplest form transparent bridge operates promiscuous mode accepting every frame transmitted lan attached example consider configuration fig  bridge b connected lan   bridge b connected lan    frame arriving bridge b lan  destined discarded immediately already correct lan frame arriving lan  c f must forwarded figure  configuration four lan two bridge  frame arrives bridge must decide whether discard forward latter lan put frame decision made looking destination address big hash table inside bridge table list possible destination tell output line lan belongs example b s table would list belonging lan  since b know lan put frame fact forwarding happens later interest bridge first plugged hash table empty none bridge know destination use flooding algorithm every incoming frame unknown destination output lan bridge connected except one arrived time go bridge learn destination described destination known frame destined put proper lan flooded algorithm used transparent bridge backward learning a mentioned bridge operate promiscuous mode see every frame sent lan looking source address tell machine accessible lan example bridge b fig  see frame lan  coming c know c must reachable via lan  make entry hash table noting frame going c use lan  subsequent frame addressed c coming lan  forwarded frame c coming lan  discarded topology change machine bridge powered moved around handle dynamic topology whenever hash table entry made arrival time frame noted entry whenever frame whose source already table arrives entry updated current time thus time associated every entry tell last time frame machine seen periodically process bridge scan hash table purge entry minute old way computer unplugged lan moved around building plugged somewhere else within minute back normal operation without manual intervention algorithm also mean machine quiet minute traffic sent flooded next sends frame routing procedure incoming frame depends lan arrives source lan lan destination destination lan follows  destination source lan discard frame  destination source lan different forward frame  destination lan unknown use flooding frame arrives algorithm must applied specialpurpose vlsi chip lookup update table entry microsecond   spanning tree bridge increase reliability site use two bridge parallel pair lan shown fig  arrangement however also introduces additional problem creates loop topology figure  two parallel transparent bridge simple example problem seen observing frame f unknown destination handled fig  bridge following normal rule handling unknown destination us flooding example mean copying lan  shortly thereafter bridge  see f  frame unknown destination copy lan  generating f  shown similarly bridge  copy f  lan  generating f  also shown bridge  forward f  bridge  copy f  cycle go forever solution difficulty bridge communicate overlay actual topology spanning tree reach every lan effect potential connection lan ignored interest constructing fictitious loopfree topology example fig  see nine lan interconnected ten bridge configuration abstracted graph lan node arc connects two lan connected bridge graph reduced spanning tree dropping arc shown dotted line fig  b using spanning tree exactly one path every lan every lan bridge agreed spanning tree forwarding lan follows spanning tree since unique path source destination loop impossible figure  interconnected lan b spanning tree covering lan dotted line part spanning tree  build spanning tree first bridge choose one bridge root tree make choice one broadcast serial number installed manufacturer guaranteed unique worldwide bridge lowest serial number becomes root next tree shortest path root every bridge lan constructed tree spanning tree bridge lan fails new one computed result algorithm unique path established every lan root thus every lan although tree span lan bridge necessarily present tree prevent loop even spanning tree established algorithm continues run normal operation order automatically detect topology change update tree distributed algorithm used constructing spanning tree invented radia perlman described detail perlman  standardized ieee d  remote bridge common use bridge connect two distant lan example company might plant several city lan ideally lan interconnected complete system act like one large lan goal achieved putting bridge lan connecting bridge pairwise pointtopoint line eg line leased telephone company simple system three lan illustrated fig  usual routing algorithm apply simplest way see regard three pointtopoint line hostless lan normal system six lan interconnected four bridge nothing studied far say lan must host figure  remote bridge used interconnect distant lan various protocol used pointtopoint line one possibility choose standard pointtopoint data link protocol ppp putting complete mac frame payload field strategy work best lan identical problem getting frame correct lan another option strip mac header trailer source bridge put left payload field pointtopoint protocol new mac header trailer generated destination bridge disadvantage approach checksum arrives destination host one computed source host error caused bad bit bridge s memory may detected  repeater hub bridge switch router gateway far book looked variety way get frame packet one cable segment another mentioned repeater bridge switch hub router gateway device common use differ subtle notsosubtle way since many probably worth taking look together see similarity difference  start device operate different layer illustrated fig  layer matter different device use different piece information decide switch typical scenario user generates data sent remote machine data passed transport layer add header example tcp header pass resulting unit network layer network layer add header form network layer packet example ip packet fig  b see ip packet shaded gray packet go data link layer add header checksum crc give resulting frame physical layer transmission example lan figure  device layer b frame packet header let u look switching device see relate packet frame bottom physical layer find repeater analog device connected two cable segment signal appearing one amplified put repeater understand frame packet header understand volt classic ethernet example designed allow four repeater order extend maximum cable length  meter  meter next come hub hub number input line join electrically frame arriving line sent others two frame arrive time collide coaxial cable word entire hub form single collision domain line coming hub must operate speed hub differ repeater usually amplify incoming signal designed hold multiple line card multiple input difference slight like repeater hub examine  address use way hub shown fig   figure  hub b bridge c switch let u move data link layer find bridge switch studied bridge length bridge connects two lan shown fig  b frame arrives software bridge extract destination address frame header  look table see send frame ethernet address bit destination address shown fig  like hub modern bridge line card usually four eight input line certain type line card ethernet handle say token ring frame know find destination address frame header however bridge may line card different network type different speed bridge line collision domain contrast hub switch similar bridge route frame address fact many people us term interchangeably main difference switch often used connect individual computer shown fig  c consequence host fig  b want send frame host b bridge get frame discard contrast fig  c switch must actively forward frame b way frame get since switch port usually go single computer switch must space many line card bridge intended connect lan line card provides buffer space frame arriving port since port collision domain switch never lose frame collision however frame come faster retransmitted switch may run buffer space start discarding frame alleviate problem slightly modern switch start forwarding frame soon destination header field come rest frame arrived provided output line available course switch use storeandforward switching sometimes referred cutthrough switch usually cutthrough handled entirely hardware whereas bridge traditionally contained actual cpu storeandforward switching software since modern bridge switch contain special integrated circuit switching difference switch bridge marketing issue technical one far seen repeater hub quite similar well bridge switch also similar move router different packet come router frame header trailer stripped packet located frame s payload field shaded fig  passed routing software software us packet header choose output line ip packet packet header contain bit ipv bit ipv address bit  address routing software see frame address even know whether packet came lan pointtopoint line study router routing chap  another layer find transport gateway connect two computer use different connectionoriented transport protocol example suppose computer using connectionoriented tcpip protocol need talk computer using connectionoriented atm transport protocol transport gateway copy packet one connection reformatting need finally application gateway understand format content data translate message one format another email gateway could translate internet message sm message mobile phone example  virtual lan early day local area networking thick yellow cable snaked cable duct many office building every computer passed plugged often many cable connected central backbone fig  central hub thought given computer belonged lan people adjacent office put lan whether belonged together geography trumped logic  advent baset hub s changed building rewired considerable expense rip yellow garden hose install twisted pair every office central wiring closet end corridor central machine room illustrated fig  vice president charge wiring visionary category  twisted pair installed bean counter existing category  telephone wiring used replaced year later fast ethernet emerged figure  building centralized wiring using hub switch hubbed later switched ethernet often possible configure lan logically rather physically company want k lan buy k hub carefully choosing connector plug hub occupant lan chosen way make organizational sense without much regard geography course two people department work different building probably going different hub thus different lan nevertheless situation lot better lan membership entirely based geography matter lan virtually organization lan interconnected short yes often matter network administrator like group user lan reflect organizational structure rather physical layout building variety reason one issue security network interface put promiscuous mode copying traffic come pipe many department research patent accounting information want passed outside department situation putting people department single lan letting traffic lan make sense management like hearing arrangement impossible unless people department located adjacent office interloper second issue load lan heavily used others may desirable separate time example folk research running kind nifty experiment sometimes get hand saturate lan folk accounting may enthusiastic donating capacity help third issue broadcasting lan support broadcasting many upperlayer protocol use feature extensively example user want send packet ip address x know mac address put frame study question chap  briefly summarized answer broadcast frame containing question owns ip address x wait answer  many example broadcasting used lan get interconnected number broadcast passing machine tends increase linearly number machine related broadcast problem network interface break begin generating endless stream broadcast frame result broadcast storm  entire lan capacity occupied frame  machine interconnected lan crippled processing discarding frame broadcast first might appear broadcast storm could limited scope separating lan bridge switch goal achieve transparency ie machine moved different lan across bridge without anyone noticing bridge forward broadcast frame seen company might want multiple lan restricted scope let u get back problem decoupling logical topology physical topology suppose user get shifted within company one department another without changing office change office without changing department hubbed wiring moving user correct lan mean network administrator walk wiring closet pull connector user s machine one hub put new hub many company organizational change occur time meaning system administrator spend lot time pulling plug pushing back somewhere else also case change made twisted pair user s machine far correct hub eg wrong building response user request flexibility network vendor began working way rewire building entirely software resulting concept called vlan virtual lan even standardized  committee deployed many organization let u take look additional information vlans see breyer riley  seifert  vlans based speciallydesigned vlanaware switch although may also hub periphery fig  set vlanbased network network administrator decides many vlans computer vlan vlans called often vlans informally named color since possible print color diagram showing physical layout machine member red lan red member green lan green way physical logical layout visible single view example consider four lan fig  eight machine belong g gray vlan seven belong w white vlan four physical lan connected two bridge b b centralized twisted pair wiring used might also four hub shown logically multidrop cable hub thing drawing way make figure little le cluttered also term bridge tends used nowadays mostly multiple machine port figure otherwise bridge switch essentially interchangeable fig  b show machine vlans using switch single computer port figure  four physical lan organized two vlans gray white two bridge b  machine organized two vlans switch  make vlans function correctly configuration table set bridge switch table tell vlans accessible via port line frame come say gray vlan must forwarded port marked g hold ordinary ie unicast traffic well multicast broadcast traffic note port may labeled multiple vlan color see clearly fig   suppose machine broadcast frame bridge b receives frame see came machine gray vlan forward port labeled g except incoming port since b two port labeled g frame sent b story different bridge know gray machine lan  frame forwarded go lan  one user lan  change department moved gray vlan table inside b updated relabel port gw instead w machine f go gray port lan  changed g instead gw let u imagine machine lan  lan  become gray b s port lan  lan  get marked g b s port b also change gw g since white frame arriving b lan   longer forwarded b fig  b situation hold port go single machine labeled single color one vlan far assumed bridge switch somehow know color incoming frame know three method use follows  every port assigned vlan color  every mac address assigned vlan color  every layer  protocol ip address assigned vlan color first method port labeled vlan color however method work machine port belong vlan fig  property hold b port lan  port lan  second method bridge switch table listing bit mac address machine connected along vlan machine condition possible mix vlans physical lan lan  fig  frame arrives bridge switch extract mac address look table see vlan frame came third method bridge switch examine payload field frame example classify ip machine belonging one vlan appletalk machine belonging another former ip address also used identify machine  strategy useful many machine notebook computer docked one several place since docking station mac address knowing docking station used say anything vlan notebook problem approach violates fundamental rule networking independence layer none data link layer s business payload field examining payload certainly making decision based content consequence using approach change layer  protocol example upgrade ipv ipv suddenly cause switch fail unfortunately switch work way market course nothing wrong routing based ip addresses—nearly chap  devoted ip routing—but mixing layer looking trouble switch vendor might poohpooh argument saying switch understand ipv ipv everything fine happens ipv happens vendor would probably say buy new switch bad ieee q standard thought subject reveals actually matter vlan frame vlan sending machine way identify vlan frame header need inspect payload would vanish new lan   would easy enough add vlan field header fact connection identifier field  somewhat similar spirit vlan identifier ethernet dominant lan spare field lying around vlan identifier ieee  committee problem thrown lap  much discussion unthinkable changed ethernet header new format published ieee standard q issued  new format contains vlan tag examine shortly surprisingly changing something well established ethernet header entirely trivial question come mind  need throw several hundred million existing ethernet card  generates new field  happens frame already maximum size course  committee painfully aware problem come solution key solution realize vlan field actually used bridge switch user machine thus fig  really essential present line going end station long line bridge switch thus use vlans bridge switch vlan aware already requirement introducing additional requirement q aware new one already throwing existing ethernet card answer remember  committee could even get people change type field length field imagine reaction announcement existing ethernet card thrown however new ethernet card come market hope q compliant correctly fill vlan field originator generate vlan field answer first vlanaware bridge switch touch frame add last one road remove know frame belongs vlan well first  bridge switch could assign vlan number port look mac address heaven forbid examine payload ethernet card q compliant kind back started real hope gigabit ethernet card q compliant start people upgrade gigabit ethernet q introduced automatically problem frame longer  byte q raised limit  byte transition process many installation legacy machine typically classic fast ethernet vlan aware others typically gigabit ethernet situation illustrated fig  shaded symbol vlan aware empty one simplicity assume switch vlan aware case first vlanaware switch add tag based mac ip address figure  transition legacy ethernet vlanaware ethernet shaded symbol vlan aware empty one figure vlanaware ethernet card generate tagged ie q frame directly switching us tag switching switch know vlans reachable port knowing frame belongs gray vlan help much switch know port connect machine gray vlan thus switch need table indexed vlan telling port use whether vlan aware legacy legacy pc sends frame vlanaware switch switch build new tagged frame based knowledge sender s vlan using port mac address ip address point longer matter sender legacy machine similarly switch need deliver tagged frame legacy machine reformat frame legacy format delivering let u take look q frame format shown fig  change addition pair byte field first one vlan protocol id always value x since number greater  ethernet card interpret type rather length legacy card frame moot since frame supposed sent legacy card figure   legacy q ethernet frame format  second byte field contains three subfields main one vlan identifier occupying loworder  bit whole thing about—which vlan frame belong bit priority field nothing vlans since changing ethernet header onceinadecade event taking three year featuring hundred people put good thing field make possible distinguish hard realtime traffic soft realtime traffic timeinsensitive traffic order provide better quality service ethernet needed voice ethernet although fairness ip similar field quarter century nobody ever used last bit cfi canonical format indicator called cei corporate ego indicator originally intended indicate littleendian mac address versus bigendian mac address use got lost controversy presence indicates payload contains freezedried  frame hoping find another  lan destination carried ethernet whole arrangement course nothing whatsoever vlans standard committee politics unlike regular politics vote bit vote bit mentioned tagged frame arrives vlanaware switch switch us vlan id index table find port send table come manually constructed back square zero manual configuration bridge beauty transparent bridge plugandplay require manual configuration would terrible shame lose property fortunately vlanaware bridge also autoconfigure based observing tag come frame tagged vlan  come port  apparently machine port  vlan  q standard explains build table dynamically mostly referencing appropriate portion perlman s algorithm standardized d leaving subject vlan routing worth making one last observation many people internet ethernet world fanatically favor connectionless networking violently opposed anything smacking connection data link network layer yet vlans introduce something surprisingly similar connection use vlans properly frame carry new special identifier used index table inside switch look frame supposed sent precisely happens connectionoriented network connectionless network destination address used routing kind connection identifier see creeping connectionism chap   summary network single channel used communication network key design issue allocation channel among competing station wishing use numerous channel allocation algorithm devised summary important channel allocation method given fig   figure  channel allocation method system common channel simplest allocation scheme fdm tdm efficient number station small fixed traffic continuous widely used circumstance example dividing bandwidth telephone trunk number station large variable traffic fairly bursty fdm tdm poor choice aloha protocol without slotting proposed alternative aloha many variant derivative widely discussed analyzed used real system state channel sensed station avoid starting transmission another station transmitting technique carrier sensing led variety protocol used lan man class protocol eliminates contention altogether least reduce considerably well known binary countdown completely eliminates contention tree walk protocol reduces dynamically dividing station two disjoint group one permitted transmit one try make division way one station ready send permitted wireless lan problem solution biggest problem caused hidden station csma work one class solution typified maca macaw attempt stimulate transmission around destination make csma work better frequency hopping spread spectrum direct sequence spread spectrum also used ieee  combine csma macaw produce csmaca ethernet dominant form local area networking us csmacd channel allocation older version used cable snaked machine machine twisted pair hub switch common speed risen  mbps  gbps still rising  wireless lan becoming common  dominating field physical layer allows five different transmission mode including infrared various spread spectrum scheme multichannel fdm system operate base station cell also operate without one protocol variant macaw virtual carrier sensing wireless man starting appear broadband system use radio replace last mile telephone connection traditional narrowband modulation technique used quality service important  standard defining four class constant bit rate two variable bit rate one best effort bluetooth system also wireless aimed desktop connecting headset peripheral computer without wire also intended connect peripheral fax machine mobile telephone like  us frequency hopping spread spectrum ism band due expected noise level many environment need realtime interaction elaborate forward error correction built various protocol many different lan way needed interconnect bridge switch used purpose spanning tree algorithm used build plugandplay bridge new development lan interconnection world vlan separate logical topology lan physical topology new format ethernet frame q introduced ease introduction vlans organization problem  problem use formula chapter first state formula frame arrive randomly mbps channel transmission channel busy frame arrives wait turn queue frame length exponentially distributed mean  bitsframe following frame arrival rate give delay experienced average frame including queueing time transmission time  framessec b b  framessec c c  framessec  group n station share kbps pure aloha channel station output bit frame average every  sec even previous one yet sent eg station buffer outgoing frame maximum value n  consider delay pure aloha versus slotted aloha low load one le explain answer  ten thousand airline reservation station competing use single slotted aloha channel average station make  requestshour slot  µsec approximate total channel load  large population aloha user manages generate  requestssec including original retransmissions time slotted unit  msec chance success first attempt b b probability exactly k collision success c c expected number transmission attempt needed  measurement slotted aloha channel infinite number user show  percent slot idle channel load g b b throughput c c channel underloaded overloaded  infinitepopulation slotted aloha system mean number slot station wait collision retransmission  plot delay versus throughput curve system  long station wait worst case start transmitting frame lan us  basic bitmap protocol b b mok ward s protocol permuting virtual station number  lan us mok ward s version binary countdown certain instant ten station virtual station number           next three station send    order new virtual station number three finished transmission  sixteen station numbered   contending use shared channel using adaptive tree walk protocol station whose address prime number suddenly become ready many bit slot needed resolve contention  collection  n station us adaptive tree walk protocol arbitrate access shared cable certain instant two become ready minimum maximum mean number slot walk tree  n   wireless lan studied used protocol maca instead using csmacd condition would possible use csmacd instead  property wdma gsm channel access protocol common see chap  gsm  six station f communicate using maca protocol possible two transmission take place simultaneously explain answer  sevenstory office building  adjacent office per floor office contains wall socket terminal front wall socket form rectangular grid vertical plane separation  socket horizontally vertically assuming feasible run straight cable pair socket horizontally vertically diagonally many meter cable needed connect socket using star configuration single router middle b b  lan  baud rate standard mbps ethernet  sketch manchester encoding bit stream   sketch differential manchester encoding bit stream previous problem assume line initially low state  kmlong mbps csmacd lan  propagation speed  µsec repeater allowed system data frame  bit long including  bit header checksum overhead first bit slot successful transmission reserved receiver capture channel order send bit acknowledgement frame effective data rate excluding overhead assuming collision  two csmacd station trying transmit long multiframe file frame sent contend channel using binary exponential backoff algorithm probability contention end round k mean number round per contention period  consider building csmacd network running  gbps km cable repeater signal speed cable  kmsec minimum frame size  ip packet transmitted ethernet  byte long including header llc use padding needed ethernet frame many byte  ethernet frame must least  byte long ensure transmitter still going event collision far end cable fast ethernet byte minimum frame size get bit ten time faster possible maintain minimum frame size  book quote maximum size ethernet frame  byte instead  byte wrong explain answer  basesx specification state clock shall run  mhz even though gigabit ethernet supposed deliver  gbps higher speed provide extra margin safety going  many frame per second gigabit ethernet handle think carefully take account relevant case hint fact gigabit ethernet matter   name two network allow frame packed backtoback feature worth  fig  four station b c shown last two station think closest  suppose mbps b lan transmitting byte frame backtoback radio channel bit error rate   many frame per second damaged average   network channel width  mhz many bitssec sent subscriber station  ieee  support four service class service class best choice sending uncompressed video  give two reason network might use errorcorrecting code instead error detection retransmission  fig  see bluetooth device two piconets time reason one device master time  figure  show several physical layer protocol closest bluetooth physical layer protocol biggest difference two  bluetooth support two type link master slave one used  beacon frame frequency hopping spread spectrum variant  contain dwell time think analogous beacon frame bluetooth also contain dwell time discus answer  consider interconnected lan showns fig  assume host b lan  c lan  lan  initially hash table bridge empty spanning tree shown fig  b used show hash table different bridge change following event happen sequence first b sends b b c sends c c sends c d move lan  e e sends  one consequence using spanning tree forward frame extended lan bridge may participate forwarding frame identify three bridge fig  reason keeping bridge even though used forwarding  imagine switch line card four input line frequently happens frame arriving one line exit another line card choice switch designer faced result situation  switch designed use fast ethernet backplane move  gbps many framessec handle worst case  consider network fig  machine j suddenly become white would change needed labeling  briefly describe difference storeandforward cutthrough switch  storeandforward switch advantage cutthrough switch respect damaged frame explain  make vlans work configuration table needed switch bridge vlans fig  use hub rather multidrop cable hub need configuration table  fig  switch legacy end domain right vlanaware switch would possible use legacy switch would work  write program simulate behavior csmacd protocol ethernet n station ready transmit frame transmitted program report time station successfully start sending frame assume clock tick occurs every slot time  microsecond collision  detection sending jamming sequence take one slot time frame maximum length allowed  chapter  network layer network layer concerned getting packet source way destination getting destination may require making many hop intermediate router along way function clearly contrast data link layer modest goal moving frame one end wire thus network layer lowest layer deal endtoend transmission achieve goal network layer must know topology communication subnet ie set router choose appropriate path must also take care choose route avoid overloading communication line router leaving others idle finally source destination different network new problem occur network layer deal chapter study issue illustrate primarily using internet network layer protocol ip although wireless network also addressed  network layer design issue following section provide introduction issue designer network layer must grapple issue include service provided transport layer internal design subnet  storeandforward packet switching starting explain detail network layer probably worth restating context network layer protocol operate context seen fig  major component system carrier s equipment router connected transmission line shown inside shaded oval customer equipment shown outside oval host h directly connected one carrier s router leased line contrast h lan router f owned operated customer router also leased line carrier s equipment shown f outside oval belong carrier term construction software protocol probably different carrier s router whether belongs subnet arguable purpose chapter router customer premise considered part subnet run algorithm carrier s router main concern algorithm figure  environment network layer protocol equipment used follows host packet send transmits nearest router either lan pointtopoint link carrier packet stored fully arrived checksum verified forwarded next  router along path reach destination host delivered mechanism storeandforward packet switching seen previous chapter  service provided transport layer network layer provides service transport layer network layertransport layer interface important question kind service network layer provides transport layer network layer service designed following goal mind  service independent router technology  transport layer shielded number type topology router present  network address made available transport layer use uniform numbering plan even across lan wan given goal designer network layer lot freedom writing detailed specification service offered transport layer freedom often degenerate raging battle two warring faction discussion center whether network layer provide connectionoriented service connectionless service one camp represented internet community argues router job moving packet around nothing else view based  year actual experience real working computer network subnet inherently unreliable matter designed therefore host accept fact network unreliable error control ie error detection correction flow control viewpoint lead quickly conclusion network service connectionless primitive send packet receive packet little else particular packet ordering flow control done host going anyway usually little gained twice furthermore packet must carry full destination address packet sent carried independently predecessor camp represented telephone company argues subnet provide reliable connectionoriented service claim  year successful experience worldwide telephone system excellent guide view quality service dominant factor without connection subnet quality service difficult achieve especially realtime traffic voice video two camp best exemplified internet atm internet offer connectionless networklayer service atm network offer connectionoriented networklayer service however interesting note qualityofservice guarantee becoming important internet evolving particular starting acquire property normally associated connectionoriented service see later actually got inkling evolution study vlans chap   implementation connectionless service looked two class service network layer provide user time see layer work inside two different organization possible depending type service offered connectionless service offered packet injected subnet individually routed independently advance setup needed context packet frequently called datagrams analogy telegram subnet called datagram subnet connectionoriented service used path  source router destination router must established data packet sent connection called vc virtual circuit analogy physical circuit set telephone system subnet called virtualcircuit subnet section examine datagram subnets next one examine virtualcircuit subnets let u see datagram subnet work suppose process p fig  long message p hand message transport layer instruction deliver process p host h transport layer code run h typically within operating system prepends transport header front message hand result network layer probably another procedure within operating system figure  routing within datagram subnet let u assume message four time longer maximum packet size network layer break four packet     sends turn router using pointtopoint protocol example ppp point carrier take every router internal table telling send packet possible destination table entry pair consisting destination outgoing line use destination directlyconnected line used example fig  two outgoing lines—to b c —so every incoming packet must sent one router even ultimate destination router s initial routing table shown figure label initially arrived packet    stored briefly verify checksum forwarded c according s table packet  forwarded e f got f encapsulated data link layer frame sent h lan packet   follow route however something different happened packet  got sent router b even though also destined f reason decided send packet  via different route first three perhaps learned traffic jam somewhere along ace path updated routing table shown label later algorithm manages table make routing decision called routing algorithm routing algorithm one main thing study chapter   implementation connectionoriented service connectionoriented service need virtualcircuit subnet let u see work idea behind virtual circuit avoid choose new route every packet sent fig  instead connection established route source machine destination machine chosen part connection setup stored table inside router route used traffic flowing connection exactly way telephone system work connection released virtual circuit also terminated connectionoriented service packet carry identifier telling virtual circuit belongs example consider situation fig  host h established connection  host h remembered first entry routing table first line s table say packet bearing connection identifier  come h sent router c given connection identifier  similarly first entry c route packet e also connection identifier  figure  routing within virtualcircuit subnet let u consider happens h also want establish connection h chooses connection identifier  initiating connection connection tell subnet establish virtual circuit lead second row table note conflict although easily distinguish connection  packet h connection  packet h c reason assigns different connection identifier outgoing traffic second connection avoiding conflict kind router need ability replace connection identifier outgoing packet context called label switching  comparison virtualcircuit datagram subnets virtual circuit datagrams supporter detractor attempt summarize argument way major issue listed fig  although purist could probably find counterexample everything figure figure  comparison datagram virtualcircuit subnets  inside subnet several tradeoff exist virtual circuit datagrams one tradeoff router memory space bandwidth virtual circuit allow packet contain circuit number instead full destination address packet tend fairly short full destination address every packet may represent significant amount overhead hence wasted bandwidth price paid using virtual circuit internally table space within router depending upon relative cost communication circuit versus router memory one may cheaper another tradeoff setup time versus address parsing time using virtual circuit requires setup phase take time consumes resource however figuring data packet virtualcircuit subnet easy router us circuit number index table find packet go datagram subnet complicated lookup procedure required locate entry destination yet another issue amount table space required router memory datagram subnet need entry every possible destination whereas virtualcircuit subnet need entry virtual circuit however advantage somewhat illusory since connection setup packet routed use destination address datagrams virtual circuit advantage guaranteeing quality service avoiding congestion within subnet resource eg buffer bandwidth cpu cycle reserved advance connection established packet start arriving necessary bandwidth router capacity datagram subnet congestion avoidance difficult transaction processing system eg store calling verify credit card purchase overhead required set clear virtual circuit may easily dwarf use circuit majority traffic expected kind use virtual circuit inside subnet make little sense hand permanent virtual circuit set manually last month year may useful virtual circuit also vulnerability problem router crash loses memory even come back second later virtual circuit passing aborted contrast datagram router go user whose packet queued router time suffer maybe even depending upon whether already acknowledged loss communication line fatal  virtual circuit using easily compensated datagrams used datagrams also allow router balance traffic throughout subnet since route changed partway long sequence packet transmission  routing algorithm main function network layer routing packet source machine destination machine subnets packet require multiple hop make journey notable exception broadcast network even routing issue source destination network algorithm choose route data structure use major area network layer design routing algorithm part network layer software responsible deciding output line incoming packet transmitted subnet us datagrams internally decision must made anew every arriving data packet since best route may changed since last time subnet us virtual circuit internally routing decision made new virtual circuit set thereafter data packet follow previouslyestablished route latter case sometimes called session routing route remains force entire user session eg login session terminal file transfer sometimes useful make distinction routing making decision route use forwarding happens packet arrives one think router two process inside one handle packet arrives looking outgoing line use routing table process forwarding process responsible filling updating routing table routing algorithm come play regardless whether route chosen independently packet new connection established certain property desirable routing algorithm correctness simplicity robustness stability fairness optimality correctness simplicity hardly require comment need robustness may le obvious first major network come air may expected run continuously year without systemwide failure period hardware software failure kind host router line fail repeatedly topology change many time routing algorithm able cope change topology traffic without requiring job host aborted network rebooted every time router crash stability also important goal routing algorithm exist routing algorithm never converge equilibrium matter long run stable algorithm reach equilibrium stay fairness optimality may sound obvious—surely reasonable person would oppose them—but turn often contradictory goal simple example conflict look fig  suppose enough traffic b b c c saturate horizontal link maximize total flow x x traffic shut altogether unfortunately x x may see way evidently compromise global efficiency fairness individual connection needed figure  conflict fairness optimality  even attempt find tradeoff fairness optimality must decide seek optimize minimizing mean packet delay obvious candidate maximizing total network throughput furthermore two goal also conflict since operating queueing system near capacity implies long queueing delay compromise many network attempt minimize number hop packet must make reducing number hop tends improve delay also reduce amount bandwidth consumed tends improve throughput well routing algorithm grouped two major class nonadaptive adaptive nonadaptive algorithm base routing decision measurement estimate current traffic topology instead choice route use get j j computed advance offline downloaded router network booted procedure sometimes called static routing adaptive algorithm contrast change routing decision reflect change topology usually traffic well adaptive algorithm differ get information eg locally adjacent router router change route eg every sec load change topology change metric used optimization eg distance number hop estimated transit time following section discus variety routing algorithm static dynamic  optimality principle get specific algorithm may helpful note one make general statement optimal route without regard network topology traffic statement known optimality principle state router j optimal path router router k optimal path j k also fall along route see call part route jr  rest route r  route better r  existed j k could concatenated r  improve route k contradicting statement r  r  optimal direct consequence optimality principle see set optimal route source given destination form tree rooted destination tree called sink tree illustrated fig  distance metric number hop note sink tree necessarily unique tree path length may exist goal routing algorithm discover use sink tree router figure  subnet b sink tree router b  since sink tree indeed tree contain loop packet delivered within finite bounded number hop practice life quite easy link router go come back operation different router may different idea current topology also quietly finessed issue whether router individually acquire information base sink tree computation whether information collected mean come back issue shortly nevertheless optimality principle sink tree provide benchmark routing algorithm measured  shortest path routing let u begin study feasible routing algorithm technique widely used many form simple easy understand idea build graph subnet node graph representing router arc graph representing communication line often called link choose route given pair router algorithm find shortest path graph concept shortest path deserves explanation one way measuring path length number hop using metric path abc abe fig  equally long another metric geographic distance kilometer case abc clearly much longer abe assuming figure drawn scale figure  first five step used computing shortest path arrow indicate working node  however many metric besides hop physical distance also possible example arc could labeled mean queueing transmission delay standard test packet determined hourly test run graph labeling shortest path fastest path rather path fewest arc kilometer general case label arc could computed function distance bandwidth average traffic communication cost mean queue length measured delay factor changing weighting function algorithm would compute shortest path measured according one number criterion combination criterion several algorithm computing shortest path two node graph known one due dijkstra  node labeled parenthesis distance source node along best known path initially path known node labeled infinity algorithm proceeds path found label may change reflecting better path label may either tentative permanent initially label tentative discovered label represents shortest possible path source node made permanent never changed thereafter illustrate labeling algorithm work look weighted undirected graph fig  weight represent example distance want find shortest path start marking node permanent indicated filledin circle examine turn node adjacent working node relabeling one distance whenever node relabeled also label node probe made reconstruct final path later examined node adjacent examine tentatively labeled node whole graph make one smallest label permanent shown fig  b one becomes new working node start b examine node adjacent sum label b distance b node considered le label node shorter path node relabeled  node adjacent working node inspected tentative label changed possible entire graph searched tentativelylabeled node smallest value node made permanent becomes working node next round figure  show first five step algorithm see algorithm work look fig  c point made e permanent suppose shorter path abe say axyze two possibility either node z already made permanent e already probed round following one z made permanent axyze path escaped attention thus shorter path consider case z still tentatively labeled either label z greater equal e case axyze shorter path abe le e case z e become permanent first allowing e probed z algorithm given fig  global variable n dist describe graph initialized shortest path called difference program algorithm described fig  compute shortest path starting terminal node rather source node since shortest path undirected graph shortest path matter end begin unless several shortest path case reversing search might discover different one reason searching backward node labeled predecessor rather successor final path copied output variable path path thus reversed reversing search two effect cancel answer produced correct order figure  dijkstra s algorithm compute shortest path graph   flooding another static algorithm flooding every incoming packet sent every outgoing line except one arrived flooding obviously generates vast number duplicate packet fact infinite number unless measure taken damp process one measure hop counter contained header packet decremented hop packet discarded counter reach zero ideally hop counter initialized length path source destination sender know long path initialize counter worst case namely full diameter subnet alternative technique damming flood keep track packet flooded avoid sending second time achieve goal source router put sequence number packet receives host router need list per source router telling sequence number originating source already seen incoming packet list flooded  prevent list growing without bound list augmented counter k meaning sequence number k seen packet come easy check packet duplicate discarded furthermore full list k needed since k effectively summarizes variation flooding slightly practical selective flooding in algorithm router send every incoming packet every line line going approximately right direction usually little point sending westbound packet eastbound line unless topology extremely peculiar router sure fact flooding practical application us example military application large number router may blown bit instant tremendous robustness flooding highly desirable distributed database application sometimes necessary update database concurrently case flooding useful wireless network message transmitted station received station within radio range fact flooding algorithm utilize property fourth possible use flooding metric routing algorithm compared flooding always chooses shortest path chooses every possible path parallel consequently algorithm produce shorter delay ignore overhead generated flooding process  distance vector routing modern computer network generally use dynamic routing algorithm rather static one described static algorithm take current network load account two dynamic algorithm particular distance vector routing link state routing popular section look former algorithm following section study latter algorithm distance vector routing algorithm operate router maintain table ie vector giving best known distance destination line use get table updated exchanging information neighbor distance vector routing algorithm sometimes called name commonly distributed bellmanford routing algorithm fordfulkerson algorithm researcher developed bellman  ford fulkerson  original arpanet routing algorithm also used internet name rip distance vector routing router maintains routing table indexed containing one entry router subnet entry contains two part preferred outgoing line use destination estimate time distance destination metric used might number hop time delay millisecond total number packet queued along path something similar router assumed know distance neighbor metric hop distance one hop metric queue length router simply examines queue metric delay router measure directly special echo packet receiver timestamps sends back fast example assume delay used metric router know delay neighbor every msec router sends neighbor list estimated delay destination also receives similar list neighbor imagine one table come neighbor x x x s estimate long take get router router know delay x msec also know reach router via x x msec performing calculation neighbor router find estimate seems best use estimate  corresponding line new routing table note old routing table used calculation updating process illustrated fig  part show subnet first four column part b show delay vector received neighbor router j claim msec delay b msec delay c msec delay etc suppose j measured estimated delay neighbor h k     msec respectively figure  subnet b input h k new routing table j consider j computes new route router g know get  msec claim able get g  msec j know count delay  msec g forward packet bound g similarly computes delay g via h k          msec respectively best value  make entry routing table delay g  msec route use via h calculation performed destination new routing table shown last column figure counttoinfinity problem distance vector routing work theory serious drawback practice although converges correct answer may slowly particular reacts rapidly good news leisurely bad news consider router whose best route destination x large next exchange neighbor suddenly report short delay x router switch using line send traffic x one vector exchange good news processed see fast good news propagates consider fivenode linear subnet fig  delay metric number hop suppose initially router know word recorded delay infinity figure  counttoinfinity problem  come router learn via vector exchange simplicity assume gigantic gong somewhere struck periodically initiate vector exchange router simultaneously time first exchange b learns left neighbor zero delay b make entry routing table one hop away left router still think point routing table entry shown second row fig  next exchange c learns b path length  update routing table indicate path length  e hear good news later clearly good news spreading rate one hop per exchange subnet whose longest path length n hop within n exchange everyone know newlyrevived line router let u consider situation fig  b line router initially router b c e distance     respectively suddenly go alternatively line b cut effectively thing b s point view first packet exchange b hear anything fortunately c say worry path length  little b know c s path run b b know c might ten line separate path length  result b think reach via c path length  e update entry first exchange second exchange c notice neighbor claim path length  pick one random make new distance  shown third row fig  b subsequent exchange produce history shown rest fig  b figure clear bad news travel slowly router ever value one higher minimum neighbor gradually router work way infinity number exchange required depends numerical value used infinity reason wise set infinity longest path plus  metric time delay welldefined upper bound high value needed prevent path long delay treated entirely surprisingly problem known counttoinfinity problem attempt solve split horizon poisoned reverse rfc  none work well general core problem x tell path somewhere way knowing whether path  link state routing distance vector routing used arpanet  replaced link state routing two primary problem caused demise first since delay metric queue length take line bandwidth account choosing route initially line  kbps line bandwidth issue line  upgraded  kbps others  mbps taking bandwidth account major problem course would possible change delay metric factor line bandwidth second problem also existed namely algorithm often took long converge counttoinfinity problem reason replaced entirely new algorithm called link state routing variant link state routing widely used idea behind link state routing simple stated five part router must following  discover neighbor learn network address  measure delay cost neighbor  construct packet telling learned  send packet router  compute shortest path every router effect complete topology delay experimentally measured distributed every router dijkstra s algorithm run find shortest path every router consider five step detail learning neighbor router booted first task learn neighbor accomplishes goal sending special hello packet pointtopoint line router end expected send back reply telling name must globally unique distant router later hears three router connected f essential determine whether three mean f two router connected lan situation slightly complicated fig  illustrates lan three router c f directly connected router connected one additional router shown figure  nine router lan b graph model one way model lan consider node shown fig  b introduced new artificial node n c f connected fact possible go c lan represented path anc measuring line cost link state routing algorithm requires router know least reasonable estimate delay neighbor direct way determine delay send line special echo packet side required send back  immediately measuring roundtrip time dividing two sending router get reasonable estimate delay even better result test conducted several time average used course method implicitly assumes delay symmetric may always case interesting issue whether take load account measuring delay factor load roundtrip timer must started echo packet queued ignore load timer started echo packet reach front queue argument made way including trafficinduced delay measurement mean router choice two line bandwidth one heavily loaded time one router regard route unloaded line shorter path choice result better performance unfortunately also argument including load delay calculation consider subnet fig  divided two part east west connected two line cf ei figure  subnet east west part connected two line suppose traffic east west using line cf result line heavily loaded long delay including queueing delay shortest path calculation make ei attractive new routing table installed eastwest traffic go ei overloading line consequently next update cf appear shortest path result routing table may oscillate wildly leading erratic routing many potential problem load ignored bandwidth considered problem occur alternatively load spread line solution fully utilize best path nevertheless avoid oscillation choice best path may wise distribute load multiple line known fraction going line building link state packet information needed exchange collected next step router build packet containing data packet start identity sender followed sequence number age described later list neighbor neighbor delay neighbor given example subnet given fig  delay shown label line corresponding link state packet six router shown fig  b  figure  subnet b link state packet subnet building link state packet easy hard part determining build one possibility build periodically regular interval another possibility build significant event occurs line neighbor going coming back changing property appreciably distributing link state packet trickiest part algorithm distributing link state packet reliably packet distributed installed router getting first one change route consequently different router may using different version topology lead inconsistency loop unreachable machine problem first describe basic distribution algorithm later give refinement fundamental idea use flooding distribute link state packet keep flood check packet contains sequence number incremented new packet sent router keep track source router sequence pair see new link state packet come checked list packet already seen new forwarded line except one arrived duplicate discarded packet sequence number lower highest one seen far ever arrives rejected obsolete since router recent data algorithm problem manageable first sequence number wrap around confusion reign solution use bit sequence number one link state packet per second would take  year wrap around possibility ignored second router ever crash lose track sequence number start  next packet rejected duplicate third sequence number ever corrupted  received instead  bit error packet   rejected obsolete since current sequence number thought  solution problem include age packet sequence number decrement per second age hit zero information router discarded normally new packet come say every  sec router information time router six consecutive packet lost unlikely event age field also decremented router initial flooding process make sure packet get lost live indefinite period time packet whose age zero discarded refinement algorithm make robust link state packet come router flooding queued transmission immediately instead first put holding area wait short another link state packet source come first packet transmitted sequence number compared equal  duplicate discarded different older one thrown guard error routerrouter line link state packet acknowledged line go idle holding area scanned roundrobin order select packet acknowledgement send data structure used router b subnet shown fig  depicted fig   row corresponds recentlyarrived yet fullyprocessed link state packet table record packet originated sequence number age data addition send acknowledgement flag b s three line c f respectively send flag mean packet must sent indicated line acknowledgement flag mean must acknowledged figure  packet buffer router b fig  fig  link state packet arrives directly must sent c f acknowledged indicated flag bit similarly packet f forwarded c acknowledged f however situation third packet e different arrived twice via eab via efb consequently sent c acknowledged f indicated bit duplicate arrives original still buffer bit changed example copy c s state arrives f fourth entry table forwarded six bit changed  indicate packet must acknowledged f sent computing new route router accumulated full set link state packet construct entire subnet graph every link represented every link fact represented twice direction two value averaged used separately dijkstra s algorithm run locally construct shortest path possible destination result algorithm installed routing table normal operation resumed subnet n router k neighbor memory required store input data proportional kn large subnets problem also computation time issue nevertheless many practical situation link state routing work well however problem hardware software wreak havoc algorithm also one example router claim line forgets line subnet graph incorrect router fails forward packet  corrupts forwarding trouble arise finally run memory routing calculation wrong bad thing happen subnet grows range ten hundred thousand node probability router failing occasionally becomes nonnegligible trick try arrange limit damage inevitable happens perlman  discus problem solution detail link state routing widely used actual network word example protocol using order ospf protocol widely used internet us link state algorithm describe ospf sec  another link state protocol isi intermediate systemintermediate system designed decnet later adopted iso use connectionless network layer protocol clnp since modified handle protocol well notably ip isi used internet backbone including old nsfnet backbone digital cellular system cdpd novell netware us minor variant isi nlsp routing ipx packet basically isi distributes picture router topology shortest path computed router announces link state information network layer address reach directly address ip ipx appletalk address isi even support multiple network layer protocol time many innovation designed isi adopted ospf ospf designed several year isi include selfstabilizing method flooding link state update concept designated router lan method computing supporting path splitting multiple metric consequence little difference isi ospf important difference isi encoded way easy natural simultaneously carry information multiple network layer protocol feature ospf advantage especially valuable large multiprotocol environment  hierarchical routing network grow size router routing table grow proportionally router memory consumed everincreasing table cpu time needed scan bandwidth needed send status report certain point network may grow point longer feasible every router entry every router routing done hierarchically telephone network hierarchical routing used router divided call region router knowing detail route packet destination within region knowing nothing internal structure region different network interconnected natural regard one separate region order free router one network know topological structure one huge network twolevel hierarchy may insufficient may necessary group region cluster cluster zone zone group run name aggregation example multilevel hierarchy consider packet might routed berkeley california malindi kenya berkeley router would know detailed topology within california would send outofstate traffic los angeles router los angeles router would able route traffic domestic router would send foreign traffic new york new york router would programmed direct traffic router destination country responsible handling foreign traffic say nairobi finally packet would work way tree kenya got malindi  figure  give quantitative example routing twolevel hierarchy five region full routing table router   entry shown fig  b routing done hierarchically fig  c entry local router region condensed single router traffic region  go via  b  line rest remote traffic go via  c  b line hierarchical routing reduced table   entry ratio number region number router per region grows saving table space increase figure  hierarchical routing unfortunately gain space free penalty paid penalty form increased path length example best route   c via region  hierarchical routing traffic region  go via region  better destination region  single network becomes large interesting question many level hierarchy example consider subnet  router hierarchy router need  routing table entry subnet partitioned  region  router router need  local entry plus  remote entry total  entry threelevel hierarchy chosen eight cluster containing  region  router router need  entry local router  entry routing region within cluster  entry distant cluster total  entry kamoun kleinrock  discovered optimal number level n router subnet ln n requiring total e ln n entry per router also shown increase effective mean path length caused hierarchical routing sufficiently small usually acceptable  broadcast routing application host need send message many host example service distributing weather report stock market update live radio program might work best broadcasting machine letting interested read data sending packet destination simultaneously called broadcasting various method proposed  one broadcasting method requires special feature subnet source simply send distinct packet destination method wasteful bandwidth also requires source complete list destination practice may possibility least desirable method flooding another obvious candidate although flooding illsuited ordinary pointtopoint communication broadcasting might rate serious consideration especially none method described applicable problem flooding broadcast technique problem pointtopoint routing algorithm generates many packet consumes much bandwidth third algorithm multidestination routing method used packet contains either list destination bit map indicating desired destination packet arrives router router check destination determine set output line needed output line needed best route least one destination router generates new copy packet output line used includes packet destination use line effect destination set partitioned among output line sufficient number hop packet carry one destination treated normal packet multidestination routing like separately addressed packet except several packet must follow route one pay full fare rest ride free fourth broadcast algorithm make explicit use sink tree router initiating broadcast—or convenient spanning tree matter spanning tree subset subnet includes router contains loop router know line belong spanning tree copy incoming broadcast packet onto spanning tree line except one arrived method make excellent use bandwidth generating absolute minimum number packet necessary job problem router must knowledge spanning tree method applicable sometimes information available eg link state routing sometimes eg distance vector routing last broadcast algorithm attempt approximate behavior previous one even router know anything spanning tree idea called reverse path forwarding remarkably simple pointed broadcast packet arrives router router check see packet arrived line normally used sending packet source broadcast excellent chance broadcast packet followed best route router therefore first copy arrive router case router forward copy onto line except one arrived however broadcast packet arrived line preferred one reaching source packet discarded likely duplicate example reverse path forwarding shown fig  part show subnet part b show sink tree router subnet part c show reverse path algorithm work first hop sends packet f h j n indicated second row tree packet arrives preferred path assuming preferred path fall along sink tree indicated circle around letter second hop eight packet generated two router received packet first hop turn eight arrive previously unvisited router five arrive along preferred line six packet generated third hop three arrive preferred path c e k others duplicate five hop  packet broadcasting terminates compared four hop  packet sink tree followed exactly figure  reverse path forwarding subnet b sink tree c tree built reverse path forwarding  principal advantage reverse path forwarding reasonably efficient easy implement require router know spanning tree overhead destination list bit map broadcast packet multidestination addressing require special mechanism stop process flooding either hop counter packet priori knowledge subnet diameter list packet already seen per source  multicast routing application require widelyseparated process work together group example group process implementing distributed database system situation frequently necessary one process send message member group group small send member pointtopoint message group large strategy expensive sometimes broadcasting used using broadcasting inform  machine millionnode network inefficient receiver interested message worse yet definitely interested supposed see thus need way send message welldefined group numerically large size small compared network whole sending message group called multicasting routing algorithm called multicast routing section describe one way multicast routing additional information see chu et al  costa et al  kasera et al  madruga garcialunaaceves  zhang ryu  multicasting requires group management way needed create destroy group allow process join leave group task accomplished concern routing algorithm concern process join group informs host fact important router know host belong group either host must inform router change group membership router must query host periodically either way router learn host group router tell neighbor information propagates subnet multicast routing router computes spanning tree covering router example fig  two group   router attached host belong one group indicated figure spanning tree leftmost router shown fig  b figure  network b spanning tree leftmost router c multicast tree group  multicast tree group   process sends multicast packet group first router examines spanning tree prune removing line lead host member group example fig  c show pruned spanning tree group  similarly fig   show pruned spanning tree group  multicast packet forwarded along appropriate spanning tree various way pruning spanning tree possible simplest one used link state routing used router aware complete topology including host belong group spanning tree pruned starting end path working toward root removing router belong group question distance vector routing different pruning strategy followed basic algorithm reverse path forwarding however whenever router host interested particular group connection router receives multicast message group responds prune message telling sender send multicasts group router group member among host received message line respond prune message way subnet recursively pruned one potential disadvantage algorithm scale poorly large network suppose network n group average member group pruned spanning tree must stored total mn tree many large group exist considerable storage needed store tree alternative design us corebased tree ballardie et al  single spanning tree per group computed root core near middle group send multicast message host sends core multicast along spanning tree although tree optimal source reduction storage cost tree one tree per group major saving  routing mobile host million people portable computer nowadays generally want read email access normal file system wherever world may mobile  host introduce new complication route packet mobile host network first find subject incorporating mobile host network young section sketch issue give possible solution model world network designer typically use shown fig  wan consisting router host connected wan lan man wireless cell type studied chap  figure  wan lan man wireless cell attached host never move said stationary connected network copper wire fiber optic contrast distinguish two kind host migratory host basically stationary host move one fixed site another time time use network physically connected roaming host actually compute run want maintain connection move around use term mobile host mean either latter two category host away home still want connected host assumed permanent home location never change host also permanent home address used determine home location analogous way telephone number  indicates united state country code  manhattan  routing goal system mobile host make possible send packet mobile host using home address packet efficiently reach wherever may trick course find model fig  world divided geographically small unit let u call area area typically lan wireless cell area one foreign agent process keep track mobile host visiting area addition area home agent keep track host whose home area currently visiting another area new host enters area either connecting eg plugging lan wandering cell computer must register foreign agent registration procedure typically work like  periodically foreign agent broadcast packet announcing existence address newlyarrived mobile host may wait one message none arrives quickly enough mobile host broadcast packet saying foreign agent around  mobile host register foreign agent giving home address current data link layer address security information   foreign agent contact mobile host s home agent say one host message foreign agent home agent contains foreign agent s network address also includes security information convince home agent mobile host really  home agent examines security information contains timestamp prove generated within past second happy tell foreign agent proceed  foreign agent get acknowledgement home agent make entry table informs mobile host registered ideally host leaf area announced allow deregistration many user abruptly turn computer done packet sent mobile host routed host s home lan address say done illustrated step  fig  sender northwest city seattle want send packet host normally across united state new york packet sent mobile host home lan new york intercepted home agent home agent look mobile host s new temporary location find address foreign agent handling mobile host los angeles figure  packet routing mobile host home agent two thing first encapsulates packet payload field outer packet sends latter foreign agent step  fig  mechanism called tunneling look detail later getting encapsulated packet foreign agent remove original packet payload field sends mobile host data link frame second home agent tell sender henceforth send packet mobile host encapsulating payload packet explicitly addressed foreign agent instead sending mobile host s home address step  subsequent packet routed directly host via foreign agent step  bypassing home location entirely various scheme proposed differ several way first issue much protocol carried router much host  latter case layer host second scheme router along way record mapped address intercept redirect traffic even get home location third scheme visitor given unique temporary address others temporary address refers agent handle traffic visitor fourth scheme differ actually manage arrange packet addressed one destination delivered different one one choice changing destination address retransmitting modified packet alternatively whole packet home address encapsulated inside payload another packet sent temporary address finally scheme differ security aspect general host router get message form starting right please send stephany s mail might couple question talking whether good idea several mobile host protocol discussed compared hac guo  perkins a snoeren balakrishnan  solomon  wang chen   routing ad hoc network seen routing host mobile router fixed even extreme case one router mobile among possibility  military vehicle battlefield existing infrastructure  fleet ship sea  emergency worker earthquake destroyed infrastructure  gathering people notebook computer area lacking  case others node consists router host usually computer network node happen near called ad hoc network manet mobile ad hoc network let u examine briefly information found perkins  make ad hoc network different wired network usual rule fixed topology fixed known neighbor fixed relationship ip address location suddenly tossed window router come go appear new place drop bit wired network router valid path destination path continues valid indefinitely barring failure somewhere system ad hoc network topology may changing time desirability even validity path change spontaneously without warning needle say circumstance make routing ad hoc network quite different routing fixed counterpart variety routing algorithm ad hoc network proposed one interesting one aodv ad hoc ondemand distance vector routing algorithm perkins royer  distant relative bellmanford distance vector algorithm adapted work mobile environment take account limited bandwidth low battery life found environment another unusual characteristic ondemand algorithm determines route destination somebody want send packet destination let u see mean route discovery instant time ad hoc network described graph node router host two node connected ie arc graph communicate directly using radio since one two may powerful transmitter possible connected b b connected  however simplicity assume connection symmetric also noted mere fact two node within radio range mean connected may building hill obstacle block communication describe algorithm consider ad hoc network fig  process node want send packet node aodv algorithm maintains table node keyed destination giving information destination including neighbor send packet order reach destination suppose look table find entry discover route property discovering route needed make algorithm on demand figure  range s broadcast b b received s broadcast c c f g received s broadcast e h received s broadcast shaded node new recipient arrow show possible reverse route locate construct special route request packet broadcast packet reach b illustrated fig  fact reason b connected graph receive communication f example shown arc receive s radio signal thus f connected format route request packet shown fig  contains source destination address typically ip address identify looking also contains request id local counter maintained separately node incremented time route request broadcast together source address request id field uniquely identify route request packet allow node discard duplicate may receive figure  format route request packet addition request id counter node also maintains second sequence counter incremented whenever route request sent reply someone else s route request function little bit like clock used tell new route old route fourth field fig  s sequence counter fifth field recent value s sequence number seen  never seen use field become clear shortly final field hop count keep track many hop packet made initialized   route request packet arrives node b case processed following step  source address request id pair looked local history table see request already seen processed duplicate discarded processing stop duplicate pair entered history table future duplicate rejected processing continues  receiver look destination route table fresh route destination known route reply packet sent back source telling get destination basically use fresh mean destination sequence number stored routing table greater equal destination sequence number route request packet le stored route older previous route source destination step  executed  since receiver know fresh route destination increment hop count field rebroadcast route request packet also extract data packet store new entry reverse route table information used construct reverse route reply get back source later arrow fig  used building reverse route timer also started newlymade reverse route entry expires entry deleted neither b know creates reverse route entry pointing back shown arrow fig  broadcast packet hop count set  broadcast b reach c c make entry reverse route table rebroadcast contrast reject duplicate similarly s broadcast rejected b however s broadcast accepted f g stored shown fig  c e h receive broadcast route request finally reach destination know namely illustrated fig  note although shown broadcast three discrete step broadcast different node coordinated way response incoming request build route reply packet shown fig  source address destination address hop count copied incoming request destination sequence number taken counter memory hop count field set  lifetime field control long route valid packet unicast node route request packet came case g follows reverse path finally node hop count incremented node see far destination figure  format route reply packet intermediate node way back packet inspected entered local routing table route one following three condition met  route known  sequence number route reply packet greater value routing table  sequence number equal new route shorter way node reverse route learn route free byproduct s route discovery node got original request route packet reverse path b c e f h example discard reverse route table entry associated timer expires  large network algorithm generates many broadcast even destination close number broadcast reduced follows ip packet s time live initialized sender expected diameter network decremented hop hit  packet discarded instead broadcast discovery process modified follows locate destination sender broadcast route request packet time live set  response come back within reasonable time another one sent time time live set  subsequent attempt use    etc way search first attempted locally increasingly wider ring route maintenance node move switched topology change spontaneously example fig  g switched realize route using adgi longer valid algorithm need able deal periodically node broadcast hello message neighbor expected respond response forthcoming broadcaster know neighbor moved range longer connected similarly try send packet neighbor respond learns neighbor longer available information used purge route longer work possible destination node n keep track neighbor fed packet destination last second called n s active neighbor destination n routing table keyed destination containing outgoing node use reach destination hop count destination recent destination sequence number list active neighbor destination possible routing table node example topology shown fig  figure  s routing table g go b graph g gone n s neighbor becomes unreachable check routing table see destination route using nowgone neighbor route active neighbor informed route via n invalid must purged routing table active neighbor tell active neighbor recursively route depending nowgone node purged routing table example route maintenance consider previous example g suddenly switched changed topology illustrated fig  b discovers g gone look routing table see g used route e g union active neighbor destination set b word b depend g route informed route longer  work tell sending packet cause update routing table accordingly also purge entry e g routing table may obvious description critical difference aodv bellmanford node send periodic broadcast containing entire routing table difference save bandwidth battery life aodv also capable broadcast multicast routing detail consult perkins royer  ad hoc routing redhot research area great deal published topic paper include chen et al  hu johnson  li et al  raju garcialunaaceves  ramanathan redi  royer toh  spohn garcialunaaceves  tseng et al  zadeh et al   node lookup peertopeer network relatively new phenomenon peertopeer network large number people usually permanent wired connection internet contact share resource first widespread application peertopeer technology mass crime  million napster user exchanging copyrighted song without copyright owner permission napster shut court amid great controversy nevertheless peertopeer technology many interesting legal us also something similar routing problem although quite one studied far nevertheless worth quick look make peertopeer system interesting totally distributed node symmetric central control hierarchy typical peertopeer system user information may interest user information may free software public domain music photograph large number user know know find looking one solution big central database may feasible reason eg nobody willing host maintain thus problem come user find node contains looking absence centralized database even centralized index let u assume user one data item song photograph program file user might want read item ascii string naming potential user know ascii string want find one people copy ip address example consider distributed genealogical database genealogist online record ancestor relative possibly photo audio even video clip person multiple people may great grandfather ancestor may record multiple node name record person s name canonical form point genealogist discovers great grandfather s archive great grandfather bequeaths gold pocket watch nephew genealogist know nephew s name want find genealogist record without central database find anyone record various algorithm proposed solve problem one examine chord dabek et al a stoica et al  simplified explanation work follows chord system consists n participating user may stored record prepared store bit piece index use user user node ip address hashed bit number using hash function hash chord us sha hash sha used cryptography look chap  function take variablelength byte string argument produce highlyrandom bit number thus convert ip address bit number called node identifier  conceptually   node identifier arranged ascending order big circle correspond participating node fig  show node identifier circle  ignore arc middle moment example node identifier        correspond actual node shaded figure rest exist figure  set  node identifier arranged circle shaded one correspond actual machine arc show finger node    label arc table index b example finger table let u define function successor k node identifier first actual node following k around circle clockwise example successor   successor   successor   name record song name ancestor name also hashed hash ie sha generate bit number called key thus convert name ascii name record key use key hash name computation local procedure call hash person holding genealogical record name want make available everyone first build tuple consisting name myipaddress asks successor hash name store tuple multiple record different node exist name tuple stored node way index distributed node random fault tolerance p different hash function could used store tuple p node consider user later want look name hash get key us successor key find ip address node storing index tuples first step easy second one make possible find ip address node corresponding certain key node must maintain certain administrative data structure one  ip address successor node along node identifier circle example fig  node  s successor  node  s successor  lookup proceed follows requesting node sends packet successor containing ip address key looking packet propagated around ring locates successor node identifier sought node check see information matching key return directly requesting node whose ip address first optimization node could hold ip address successor predecessor query could sent either clockwise counterclockwise depending path thought shorter example node  fig  could go clockwise find node identifier  counterclockwise find node identifier  even two choice direction linearly searching node inefficient large peertopeer system since mean number node required per search n  greatly speed search node also maintains chord call finger table finger table entry indexed   one pointing different actual node entry two field start ip address successor start shown three example node fig  b value field entry node k note node store ip address relatively small number node fairly close term node identifier using finger table lookup key node k proceeds follows key fall k successor k node holding information key successor k search terminates otherwise finger table searched find entry whose start field closest predecessor key request sent directly ip address finger table entry ask continue search since closer key still chance good able return answer small number additional query fact since every lookup half remaining distance target shown average number lookup log  n first example consider looking key  node  since node  know  lie successor  desired node  search terminates returning node  s ip address second example consider looking key  node  since  lie   finger table consulted closest predecessor   request forwarded ip address  s entry namely node  node  see  fall successor  return ip address node  third example consider looking key  node  query sent node  time node  know answer look node closely preceding  find  yield ip address node  query sent node  observes  lie successor  return ip address  caller work way back node  since node join leave time chord need way handle operation assume system began operation small enough node could exchange information directly build first circle finger table automated procedure needed follows new node r want join must contact existing node ask look ip address successor r new node asks successor r predecessor new node asks insert r  circle example  fig  want join asks node look successor   asks  predecessor  tell existence  us  successor  us  predecessor addition node  hand key range – belong  point  fully inserted however many finger table wrong correct every node run background process periodically recomputes finger calling successor one query hit new node corresponding finger entry updated node leaf gracefully hand key successor informs predecessor departure predecessor link departing node s successor node crash problem arises predecessor longer valid successor alleviate problem node keep track direct successor also direct successor allow skip  consecutive failed node reconnect circle chord used construct distributed file system dabek et al b application research ongoing different peertopeer system pastry application described rowstron druschel a rowstron druschel b third peertopeer system freenet discussed clarke et al  fourth system type described ratnasamy et al   congestion control algorithm many packet present part subnet performance degrades situation called congestion figure  depicts symptom number packet dumped subnet host within carrying capacity delivered except afflicted transmission error number delivered proportional number sent however traffic increase far router longer able cope begin losing packet tends make matter worse high trafffic performance collapse completely almost packet delivered figure  much traffic offered congestion set performance degrades sharply congestion brought several factor sudden stream packet begin arriving three four input line need output line queue build insufficient memory hold packet lost adding memory may help point nagle  discovered router infinite amount memory congestion get worse better time packet get front queue already timed repeatedly duplicate sent  packet dutifully forwarded next router increasing load way destination slow processor also cause congestion router cpu slow performing bookkeeping task required queueing buffer updating table etc queue build even though excess line capacity similarly lowbandwidth line also cause congestion upgrading line changing processor vice versa often help little frequently shift bottleneck also upgrading part system often move bottleneck somewhere else real problem frequently mismatch part system problem persist component balance worth explicitly pointing difference congestion control flow control relationship subtle congestion control making sure subnet able carry offered traffic global issue involving behavior host router storeandforwarding processing within router factor tend diminish carrying capacity subnet flow control contrast relates pointtopoint traffic given sender given receiver job make sure fast sender continually transmit data faster receiver able absorb flow control frequently involves direct feedback receiver sender tell sender thing end see difference two concept consider fiber optic network capacity  gigabitssec supercomputer trying transfer file personal computer  gbps although congestion network trouble flow control needed force supercomputer stop frequently give personal computer chance breathe extreme consider storeandforward network mbps line  large computer half trying transfer file  kbps half problem fast sender overpowering slow receiver total offered traffic exceeds network handle reason congestion control flow control often confused congestion control algorithm operate sending message back various source telling slow network get trouble thus host get slow message either receiver handle load network handle come back point later start study congestion control looking general model dealing look broad approach preventing first place look various dynamic algorithm coping set  general principle congestion control many problem complex system computer network viewed control theory point view approach lead dividing solution two group open loop closed loop open loop solution attempt solve problem good design essence make sure occur first place system running midcourse correction made tool openloop control include deciding accept new traffic deciding discard packet one making scheduling decision various point network common fact make decision without regard current state network  contrast closed loop solution based concept feedback loop approach three part applied congestion control  monitor system detect congestion occurs  pas information place action taken  adjust system operation correct problem variety metric used monitor subnet congestion chief among percentage packet discarded lack buffer space average queue length number packet time retransmitted average packet delay standard deviation packet delay case rising number indicate growing congestion second step feedback loop transfer information congestion point detected point something done obvious way router detecting congestion send packet traffic source source announcing problem course extra packet increase load precisely moment load needed namely subnet congested however possibility also exist example bit field reserved every packet router fill whenever congestion get threshold level router detects congested state fill field outgoing packet warn neighbor still another approach host router periodically send probe packet explicitly ask congestion information used route traffic around problem area radio station helicopter flying around city report road congestion make possible mobile listener route packet car around hot spot feedback scheme hope knowledge congestion cause host take appropriate action reduce congestion scheme work correctly time scale must adjusted carefully every time two packet arrive row router yell stop every time router idle  µsec yell go system oscillate wildly never converge hand wait  minute make sure saying anything congestion control mechanism react sluggishly real use work well kind averaging needed getting time constant right nontrivial matter many congestion control algorithm known provide way organize sensible way yang reddy  developed taxonomy congestion control algorithm begin dividing algorithm open loop closed loop described divide open loop algorithm one act source versus one act destination closed loop algorithm also divided two subcategories explicit feedback versus implicit feedback explicit feedback algorithm packet sent back point congestion warn source implicit algorithm source deduces existence congestion making local observation time needed acknowledgement come back presence congestion mean load temporarily greater resource part system handle two solution come mind increase resource decrease load example subnet may start using dialup telephone line temporarily increase bandwidth certain point satellite system increasing transmission power often give higher bandwidth splitting traffic multiple route instead always using best one may also effectively increase bandwidth finally spare router normally used backup make system fault tolerant put online give capacity serious congestion appears  however sometimes possible increase capacity already increased limit way beat back congestion decrease load several way exist reduce load including denying service user degrading service user user schedule demand predictable way method study shortly best applied virtual circuit subnets use virtual circuit internally method used network layer datagram subnets nevertheless sometimes used transport layer connection chapter focus use network layer next one see done transport layer manage congestion  congestion prevention policy let u begin study method control congestion looking open loop system system designed minimize congestion first place rather letting happen reacting fact try achieve goal using appropriate policy various level fig  see different data link network transport policy affect congestion jain  figure  policy affect congestion let u start data link layer work way upward retransmission policy concerned fast sender time transmits upon timeout jumpy sender time quickly retransmits outstanding packet using go back n put heavier load system leisurely sender us selective repeat closely related buffering policy receiver routinely discard outoforder packet packet transmitted later creating extra load respect congestion control selective repeat clearly better go back n acknowledgement policy also affect congestion packet acknowledged immediately acknowledgement packet generate extra traffic however acknowledgement saved piggyback onto reverse traffic extra timeouts retransmissions may result tight flow control scheme eg small window reduces data rate thus help fight congestion network layer choice using virtual circuit using datagrams affect congestion since many congestion control algorithm work virtualcircuit subnets packet queueing service policy relates whether router one queue per input line one queue per output line also relates order packet processed  eg round robin priority based discard policy rule telling packet dropped space good policy help alleviate congestion bad one make worse good routing algorithm help avoid congestion spreading traffic line whereas bad one send much traffic already congested line finally packet lifetime management deal long packet may live discarded long lost packet may clog work long time short packet may sometimes time reaching destination thus inducing retransmissions transport layer issue occur data link layer addition determining timeout interval harder transit time across network le predictable transit time wire two router timeout interval short extra packet sent unnecessarily long congestion reduced response time suffer whenever packet lost  congestion control virtualcircuit subnets congestion control method described basically open loop try prevent congestion occurring first place rather dealing fact section describe approach dynamically controlling congestion virtualcircuit subnets next two look technique used subnet one technique widely used keep congestion already started getting worse admission control idea simple congestion signaled virtual circuit set problem gone away thus attempt set new transport layer connection fail letting people make matter worse approach crude simple easy carry telephone system switch get overloaded also practice admission control giving dial tone alternative approach allow new virtual circuit carefully route new virtual circuit around problem area example consider subnet fig  two router congested indicated figure  congested subnet b redrawn subnet eliminates congestion virtual circuit b also shown suppose host attached router want set connection host attached router b normally connection would pas one congested router avoid situation redraw subnet shown fig  b omitting congested router line dashed line show possible route virtual circuit avoids congested router  another strategy relating virtual circuit negotiate agreement host subnet virtual circuit set agreement normally specifies volume shape traffic quality service required parameter keep part agreement subnet typically reserve resource along path circuit set resource include table buffer space router bandwidth line way congestion unlikely occur new virtual circuit necessary resource guaranteed available kind reservation done time standard operating procedure subnet congested disadvantage time tends waste resource six virtual circuit might use  mbps pas physical mbps line line marked full even though may rarely happen six virtual circuit transmitting full blast time consequently price congestion control unused ie wasted bandwidth normal case  congestion control datagram subnets let u turn approach used datagram subnets also virtualcircuit subnets router easily monitor utilization output line resource example associate line real variable u whose value   reflects recent utilization line maintain good estimate u sample instantaneous line utilization f either   made periodically u updated according constant determines fast router forgets recent history whenever u move threshold output line enters warning state newlyarriving packet checked see output line warning state action taken action taken one several alternative discus warning bit old decnet architecture signaled warning state setting special bit packet s header frame relay packet arrived destination transport entity copied bit next acknowledgement sent back source source cut back traffic long router warning state continued set warning bit meant source continued get acknowledgement set source monitored fraction acknowledgement bit set adjusted transmission rate accordingly long warning bit continued flow source continued decrease transmission rate slowed trickle increased transmission rate note since every router along path could set warning bit traffic increased router trouble choke packet previous congestion control algorithm fairly subtle us roundabout mean tell source slow tell directly approach router sends choke packet back source host giving destination found packet  original packet tagged header bit turned generate choke packet farther along path forwarded usual way source host get choke packet required reduce traffic sent specified destination x percent since packet aimed destination probably already way generate yet choke packet host ignore choke packet referring destination fixed time interval period expired host listens choke packet another interval one arrives line still congested host reduces flow still begin ignoring choke packet choke packet arrive listening period host may increase flow feedback implicit protocol help prevent congestion yet throttle flow unless trouble occurs host reduce traffic adjusting policy parameter example window size typically first choke packet cause data rate reduced  previous rate next one cause reduction  increase done smaller increment prevent congestion reoccurring quickly several variation congestion control algorithm proposed one router maintain several threshold depending threshold crossed choke packet contain mild warning stern warning ultimatum another variation use queue length buffer utilization instead line utilization trigger signal exponential weighting used metric u course hopbyhop choke packet high speed long distance sending choke packet source host work well reaction slow consider example host san francisco router fig  sending traffic host new york router fig   mbps new york host begin run buffer take  msec choke packet get back san francisco tell slow choke packet propagation shown second third fourth step fig   msec another  megabit sent even host san francisco completely shuts immediately  megabit pipe continue pour dealt seventh diagram fig  new york router notice slower flow figure  choke packet affect source b choke packet affect hop pass  alternative approach choke packet take effect every hop pass shown sequence fig  b soon choke packet reach f f required reduce flow require f devote buffer flow since source still sending away full blast give immediate relief like headache remedy television commercial next step choke packet reach e tell e reduce flow f action put greater demand e s buffer give f immediate relief finally choke packet reach flow genuinely slows net effect hopbyhop scheme provide quick relief point congestion price using buffer upstream way congestion nipped bud without losing packet idea discussed detail simulation result given mishra kanakia    load shedding none method make congestion disappear router bring heavy artillery load shedding load shedding fancy way saying router inundated packet handle throw away term come world electrical power generation refers practice utility intentionally blacking certain area save entire grid collapsing hot summer day demand electricity greatly exceeds supply router drowning packet pick packet random drop usually better packet discard may depend application running file transfer old packet worth new one dropping packet  keeping packet   cause gap receiver may force packet   retransmitted receiver routinely discard outoforder packet packet file dropping  may require   retransmitted whereas dropping  may require   retransmitted contrast multimedia new packet important old one former policy old better new often called wine latter new better old often called milk step intelligence requires cooperation sender many application packet important others example certain algorithm compressing video periodically transmit entire frame send subsequent frame difference last full frame case dropping packet part difference preferable dropping one part full frame another example consider transmitting document containing ascii text picture losing line pixel image far le damaging losing line readable text implement intelligent discard policy application must mark packet priority class indicate important packet discarded router first drop packet lowest class next lowest class course unless significant incentive mark packet anything important— never ever discard nobody incentive might form money lowpriority packet cheaper send highpriority one alternatively sender might allowed send highpriority packet condition light load load increased would discarded thus encouraging user stop sending another option allow host exceed limit specified agreement negotiated virtual circuit set eg use higher bandwidth allowed subject condition excess traffic marked low priority strategy actually bad idea make efficient use idle resource allowing host use long nobody else interested without establishing right time get tough random early detection well known dealing congestion first detected effective letting gum work trying deal observation lead idea discarding packet buffer space really exhausted popular algorithm called red random early detection floyd jacobson  transport protocol including tcp response lost packet source slow reasoning behind logic tcp designed wired network wired network reliable lost packet mostly due buffer overrun rather transmission error fact exploited help reduce congestion  router drop packet situation become hopeless hence early name idea time action taken late determine start discarding router maintain running average queue length average queue length line exceeds threshold line said congested action taken since router probably tell source causing trouble picking packet random queue triggered action probably good router tell source problem one way send choke packet described problem approach put even load already congested network different strategy discard selected packet report source eventually notice lack acknowledgement take action since know lost packet generally caused congestion discard respond slowing instead trying harder implicit form feedback work source respond lost packet slowing transmission rate wireless network loss due noise air link approach used  jitter control application audio video streaming matter much packet take  msec  msec delivered long transit time constant variation ie standard deviation packet arrival time called jitter high jitter example packet taking  msec others taking  msec arrive give uneven quality sound movie jitter illustrated fig  contrast agreement  percent packet delivered delay range  msec  msec might acceptable figure  high jitter b low jitter range chosen must feasible course must take account speedoflight transit time minimum delay router perhaps leave little slack inevitable delay jitter bounded computing expected transit time hop along path packet arrives router router check see much packet behind ahead schedule information stored packet updated hop packet ahead schedule held long enough get back schedule behind schedule router try get door quickly fact algorithm determining several packet competing output line go next always choose packet furthest behind schedule way  packet ahead schedule get slowed packet behind schedule get speeded case reducing amount jitter application video demand jitter eliminated buffering receiver fetching data display buffer instead network real time however application especially require realtime interaction people internet telephony videoconferencing delay inherent buffering acceptable congestion control active area research stateoftheart summarized gevros et al   quality service technique looked previous section designed reduce congestion improve network performance however growth multimedia networking often ad hoc measure enough serious attempt guaranteeing quality service network protocol design needed following section continue study network performance sharper focus way provide quality service matched application need stated start however many idea flux subject change  requirement stream packet source destination called flow ina connectionoriented network packet belonging flow follow route connectionless network may follow different route need flow characterized four primary parameter reliability delay jitter bandwidth together determine qos quality service flow requires several common application stringency requirement listed fig  figure  stringent qualityofservice requirement first four application stringent requirement reliability bit may delivered incorrectly goal usually achieved checksumming packet verifying checksum destination packet damaged transit acknowledged retransmitted eventually strategy give high reliability four final audiovideo application tolerate error checksum computed verified file transfer application including email video delay sensitive packet delayed uniformly second harm done interactive application web surfing remote login delay sensitive realtime application telephony videoconferencing strict delay requirement word telephone call  delayed exactly  second user find connection unacceptable hand playing audio video file server require low delay first three application sensitive packet arriving irregular time interval remote login somewhat sensitive since character screen appear little burst connection suffers much jitter video especially audio extremely sensitive jitter user watching video network frame delayed exactly  second harm done transmission time varies randomly   second result terrible audio jitter even millisecond clearly audible finally application differ bandwidth need email remote login needing much video form needing great deal atm network classify flow four broad category respect qos demand follows  constant bit rate eg telephony  realtime variable bit rate eg compressed videoconferencing  nonrealtime variable bit rate eg watching movie internet  available bit rate eg file transfer category also useful purpose network constant bit rate attempt simulate wire providing uniform bandwidth uniform delay variable bit rate occurs video compressed frame compressing others thus sending frame lot detail may require sending many bit whereas sending shot white wall may compress extremely well available bit rate application email sensitive delay jitter  technique achieving good quality service know something qos requirement achieve well start magic bullet single technique provides efficient dependable qos optimum way instead variety technique developed practical solution often combining multiple technique examine technique system designer use achieve qos overprovisioning easy solution provide much router capacity buffer space bandwidth packet fly easily trouble solution expensive time go designer better idea much enough technique may even become practical extent telephone system overprovisioned rare pick telephone get dial tone instantly simply much capacity available demand always met buffering flow buffered receiving side delivered buffering affect reliability bandwidth increase delay smooth jitter audio video demand jitter main problem technique help lot saw difference high jitter low jitter fig  fig  see stream packet delivered substantial jitter packet  sent server  sec arrives client  sec packet  undergoes delay take  sec arrive packet arrive buffered client machine  figure  smoothing output stream buffering packet  sec playback begin time packet   buffered removed buffer uniform interval smooth play unfortunately packet  delayed much available play slot come playback must stop arrives creating annoying gap music movie problem alleviated delaying starting time even although also requires larger buffer commercial web site contain streaming audio video use player buffer  second starting play traffic shaping example source output packet uniform spacing case may emitted irregularly may cause congestion occur network nonuniform output common server handling many stream also allows action fast forward rewind user authentication also approach used buffering always possible example videoconferencing however something could done make server host general transmit uniform rate quality service would better examine technique traffic shaping smooth traffic server side rather client side traffic shaping regulating average rate burstiness data transmission contrast sliding window protocol studied earlier limit amount data transit rate sent connection set user subnet ie customer carrier agree certain traffic pattern ie shape circuit sometimes called service level agreement long customer fulfills part bargain sends packet according agreedon contract carrier promise deliver timely fashion traffic shaping reduces congestion thus help carrier live promise agreement important file transfer great importance realtime data audio video connection stringent qualityofservice requirement effect traffic shaping customer say carrier transmission pattern look like handle carrier agrees issue arises carrier tell customer following agreement customer monitoring traffic flow called traffic policing agreeing traffic shape policing afterward easier virtualcircuit subnets datagram subnets however even datagram subnets idea applied transport layer connection leaky bucket algorithm imagine bucket small hole bottom illustrated fig  matter rate water enters bucket outflow constant rate water bucket zero bucket empty also bucket full  additional water entering spill side lost ie appear output stream hole figure  leaky bucket water b leaky bucket packet idea applied packet shown fig  b conceptually host connected network interface containing leaky bucket finite internal queue packet arrives queue full packet discarded word one process within host try send packet maximum number already queued new packet unceremoniously discarded arrangement built hardware interface simulated host operating system first proposed turner  called leaky bucket algorithm fact nothing singleserver queueing system constant service time host allowed put one packet per clock tick onto network enforced interface card operating system mechanism turn uneven flow packet user process inside host even flow packet onto network smoothing burst greatly reducing chance congestion packet size eg atm cell algorithm used described however variablesized packet used often better allow fixed number byte per tick rather one packet thus rule  byte per tick single byte packet admitted tick two byte packet four byte packet residual byte count low next packet must wait next tick implementing original leaky bucket algorithm easy leaky bucket consists finite queue packet arrives room queue appended queue otherwise discarded every clock tick one packet transmitted unless queue empty bytecounting leaky bucket implemented almost way tick counter initialized n first packet queue fewer byte current value counter transmitted counter decremented number byte additional packet may also sent long counter high enough counter drop  length next packet queue transmission stop next tick time residual byte count reset flow continue example leaky bucket imagine computer produce data  million bytessec  mbps network also run speed however router accept data rate short interval basically buffer fill long interval work best rate exceeding  million bytessec suppose data come millionbyte burst one msec burst every second reduce average rate  mbsec could use leaky bucket  mbsec capacity c  mb mean burst  mb handled without data loss burst spread  msec matter fast come fig  see input leaky bucket running  mbsec  msec fig  b see output draining uniform rate  mbsec  msec figure  input leaky bucket b output leaky bucket output token bucket capacity c  kb  kb e  kb f output kb token bucket feeding mbsec leaky bucket  token bucket algorithm leaky bucket algorithm enforces rigid output pattern average rate matter bursty traffic many application better allow output speed somewhat large burst arrive flexible algorithm needed preferably one never loses data one algorithm token bucket algorithm algorithm leaky bucket hold token generated clock rate one token every sec fig  see bucket holding three token five packet waiting transmitted packet transmitted must capture destroy one token fig  b see three five packet gotten two stuck waiting two token generated figure  token bucket algorithm b token bucket algorithm provides different kind traffic shaping leaky bucket algorithm leaky bucket algorithm allow idle host save permission send large burst later token bucket algorithm allow saving maximum size bucket n property mean burst n packet sent allowing burstiness output stream giving faster response sudden burst input another difference two algorithm token bucket algorithm throw away token ie transmission capacity bucket fill never discard packet contrast leaky bucket algorithm discard packet bucket fill minor variant possible token represents right send one packet k byte packet transmitted enough token available cover length byte fractional token kept future use leaky bucket token bucket algorithm also used smooth traffic router well regulate host output example however one clear difference token bucket regulating host make host stop sending rule say must telling router stop sending input keep pouring may result lost data implementation basic token bucket algorithm variable count token counter incremented one every decremented one whenever packet  sent counter hit zero packet may sent bytecount variant counter incremented k byte every decremented length packet sent essentially token bucket allow burst regulated maximum length look fig  c example token bucket capacity  kb token arrive rate allowing output  mbsec assuming token bucket full mb burst arrives bucket drain full  mbsec  msec cut back  mbsec entire input burst sent calculating length maximum rate burst slightly tricky  mb divided  mbsec burst output token arrive call burst length sec token bucket capacity c byte token arrival rate bytessec maximum output rate bytessec see output burst contains maximum c byte also know number byte maximumspeed burst length second m hence solve equation get c parameter c  kb  mbsec  mbsec get burst time  msec figure  fig   e show token bucket capacity  kb  kb respectively potential problem token bucket algorithm allows large burst even though maximum burst interval regulated careful selection frequently desirable reduce peak rate without going back low value original leaky bucket one way get smoother traffic insert leaky bucket token bucket rate leaky bucket higher token bucket s lower maximum rate network figure  f show output kb token bucket followed mbsec leaky bucket policing scheme bit tricky essentially network simulate algorithm make sure packet byte sent permitted nevertheless tool provide way shape network traffic manageable form assist meeting qualityofservice requirement resource reservation able regulate shape offered traffic good start guaranteeing quality service however effectively using information implicitly mean requiring packet flow follow route spraying router random make hard guarantee anything consequence something similar virtual circuit set source destination packet belong flow must follow route specific route flow becomes possible reserve resource along route make sure needed capacity available three different kind resource potentially reserved  bandwidth  buffer space  cpu cycle  first one bandwidth obvious flow requires  mbps outgoing line capacity  mbps trying direct three flow line going work thus reserving bandwidth mean oversubscribing output line second resource often short supply buffer space packet arrives usually deposited network interface card hardware router software copy buffer ram queue buffer transmission chosen outgoing line buffer available packet discarded since place put good quality service buffer reserved specific flow flow compete buffer flow always buffer available flow need one maximum finally cpu cycle also scarce resource take router cpu time process packet router process certain number packet per second making sure cpu overloaded needed ensure timely processing packet first glance might appear take say  µsec process packet router process  million packetssec observation true always idle period due statistical fluctuation load cpu need every single cycle get work done losing even cycle due occasional idleness creates backlog never get rid however even load slightly theoretical capacity queue build delay occur consider situation packet arrive random mean arrival rate packetssec cpu time required one also random mean processing capacity µ packetssec assumption arrival service distribution poisson distribution proven using queueing theory mean delay experienced packet µ cpu utilization first factor  µ service time would absence competition second factor slowdown due competition flow example  packetssec µ  packetssec  mean delay experienced packet  µsec instead  µsec time account queueing time service time seen load low µ  say  router along flow s route queueing delay alone account  µsec delay admission control point incoming traffic flow well shaped potentially follow single route capacity reserved advance router along path flow offered router decide based capacity many commitment already made flow whether admit reject flow decision accept reject flow simple matter comparing bandwidth buffer cycle requested flow router s excess capacity three dimension little complicated start although application may know bandwidth requirement know buffer cpu cycle minimum different way needed describe flow next application far tolerant occasional missed deadline others finally application may  willing haggle flow parameter others may example movie viewer normally run  framessec may willing drop back  framessec enough free bandwidth support  framessec similarly number pixel per frame audio bandwidth property may adjustable many party may involved flow negotiation sender receiver router along path flow must described accurately term specific parameter negotiated set parameter called flow specification typically sender eg video server produce flow specification proposing parameter would like use specification propagates along route router examines modifies parameter need modification reduce flow increase eg lower data rate higher one get end parameter established example flow specification consider example fig  based rfcs   five parameter first token bucket rate number byte per second put bucket maximum sustained rate sender may transmit averaged long time interval figure  example flow specification second parameter size bucket byte example token bucket rate  mbps token bucket size  kb bucket fill continuously  sec fill absence transmission token sent lost third parameter peak data rate maximum tolerated transmission rate even brief time interval sender must never exceed rate last two parameter specify minimum maximum packet size including transport network layer header eg tcp ip minimum size important processing packet take fixed time matter short router may prepared handle  packetssec  kb prepared handle  packetssec  byte even though represents lower data rate maximum packet size important due internal network limitation may exceeded example part path go ethernet maximum packet size restricted  byte matter rest network handle interesting question router turn flow specification set specific resource reservation mapping implementation specific standardized suppose router process  packetssec offered flow  mbsec minimum maximum packet size  byte router calculate might get  packetssec flow case must reserve  cpu flow preferably avoid long queueing delay router s policy never allocate  cpu implies factor two delay already  full flow must rejected similar calculation needed resource tighter flow specification useful router flow specification state need token bucket rate  mbsec packet vary  byte   byte packet rate vary  packetssec  packetssec router may panic latter number reject flow whereas minimum packet size  byte  mbsec flow might accepted proportional routing routing algorithm try find best path destination send traffic destination best path different approach proposed provide higher quality service split traffic destination multiple path since router generally complete overview networkwide traffic feasible way split traffic multiple route use locallyavailable information simple method divide traffic equally proportion capacity outgoing link however sophisticated algorithm also available nelakuditi zhang  packet scheduling router handling multiple flow danger one flow hog much capacity starve flow processing packet order arrival mean aggressive sender capture capacity router packet traverse reducing quality service others thwart attempt various packet scheduling algorithm devised bhatti crowcroft  one first one fair queueing algorithm nagle  essence algorithm router separate queue output line one flow line becomes idle router scan queue round robin taking first packet next queue way n host competing given output line host get send one every n packet sending packet improve fraction although start algorithm problem give bandwidth host use large packet host use small packet demers et al  suggested improvement round robin done way simulate bytebybyte round robin instead packetbypacket round robin effect scan queue repeatedly byteforbyte find tick packet finished packet sorted order finishing sent order algorithm illustrated fig  figure  router five packet queued line b finishing time five packet fig  see packet length   byte virtual clock tick  first byte packet line sent go first byte packet line b first packet finish c eight tick sorted order given fig  b absence new arrival packet sent order listed c one problem algorithm give host priority many situation desirable give video server bandwidth regular file server  given two byte per tick modified algorithm called weighted fair queueing widely used sometimes weight equal number flow coming machine process get equal bandwidth efficient implementation algorithm discussed shreedhar varghese  increasingly actual forwarding packet router switch done hardware elhanany et al   integrated service   ietf put lot effort devising architecture streaming multimedia work resulted two dozen rfcs starting rfcs – generic name work flowbased algorithm integrated service aimed unicast multicast application example former single user streaming video clip news site example latter collection digital television station broadcasting program stream ip packet many receiver various location concentrate multicast since unicast special case multicast many multicast application group change membership dynamically example people enter video conference get bored switch soap opera croquet channel condition approach sender reserve bandwidth advance work well since would require sender track entry exit audience system designed transmit television million subscriber would work rsvp—the resource reservation protocol main ietf protocol integrated service architecture rsvp described rfc  others protocol used making reservation protocol used sending data rsvp allows multiple sender transmit multiple group receiver permit individual receiver switch channel freely optimizes bandwidth use time eliminating congestion simplest form protocol us multicast routing using spanning tree discussed earlier group assigned group address send group sender put group s address packet standard multicast routing algorithm build spanning tree covering group member routing algorithm part rsvp difference normal multicasting little extra information multicast group periodically tell router along tree maintain certain data structure memory example consider network fig  host   multicast sender host    multicast receiver example sender receiver disjoint general two set may overlap multicast tree host   shown fig  b fig  c respectively figure  network b multicast spanning tree host  c multicast spanning tree host   get better reception eliminate congestion receiver group send reservation message tree sender message propagated using reverse path forwarding algorithm discussed earlier hop router note reservation reserve necessary bandwidth insufficient bandwidth available report back failure time message get back source bandwidth reserved way sender receiver making reservation request along spanning tree example reservation shown fig  host  requested channel host  established packet flow   without congestion consider happens host  next reserve channel sender host  user watch two television program second path reserved illustrated fig  b note two separate channel needed host  router e two independent stream transmitted figure  host  request channel host  b host  request second channel host  c host  request channel host   finally fig  c host  decides watch program transmitted host  also make reservation first dedicated bandwidth reserved far router h however router see already feed host  necessary bandwidth already reserved reserve note host   might asked different amount bandwidth eg  blackandwhite television set want color information capacity reserved must large enough satisfy greediest receiver making reservation receiver optionally specify one source want receive also specify whether choice fixed duration reservation whether receiver want keep open option changing source later router use information optimize bandwidth planning particular two receiver set share path agree change source later reason strategy fully dynamic case reserved bandwidth decoupled choice source receiver reserved bandwidth switch another source keep portion existing path valid new source host  transmitting several video stream example host  may switch without changing reservation router care program receiver watching  differentiated service flowbased algorithm potential offer good quality service one flow reserve whatever resource needed along route however also downside require advance setup establish flow something scale well thousand million flow also maintain internal perflow state router making vulnerable router crash finally change required router code substantial involve complex routertorouter exchange setting flow consequence implementation rsvp anything like exist yet reason ietf also devised simpler approach quality service one largely implemented locally router without advance setup without whole path involved approach known classbased opposed flowbased quality service ietf standardized architecture called differentiated service described rfcs   numerous others describe differentiated service d offered set router forming administrative domain eg isp telco administration defines set service class corresponding forwarding rule customer sign d customer packet entering domain may carry type service field better service provided class eg premium service others traffic within class may required conform specific shape leaky bucket specified drain rate operator nose business might charge extra premium packet transported might allow n premium packet per month fixed additional monthly fee note scheme requires advance setup resource reservation timeconsuming endtoend negotiation flow integrated service make d relatively easy implement classbased service also occurs industry example package delivery company often offer overnight twoday threeday service airline offer first class business class cattle class service longdistance train often multiple service class even paris subway two service class packet class may differ term delay jitter probability discarded event congestion among possibility probably roomier ethernet frame  make difference flowbased quality service classbased quality service clearer consider example internet telephony flowbased scheme telephone call get resource guarantee classbased scheme telephone call together get resource reserved class telephony resource taken away packet file transfer class class telephone call get private resource reserved alone expedited forwarding choice service class operator since packet often forwarded subnets run different operator ietf working defining networkindependent service class simplest class expedited forwarding let u start one described rfc  idea behind expedited forwarding simple two class service available regular expedited vast majority traffic expected regular small fraction packet expedited expedited packet able transit subnet though packet present symbolic representation twotube system given fig  note still one physical line two logical pipe shown figure represent way reserve bandwidth second physical line figure  expedited packet experience trafficfree network one way implement strategy program router two output queue outgoing line one expedited packet one regular packet packet arrives queued accordingly packet scheduling use something like weighted fair queueing example  traffic expedited  regular  bandwidth could dedicated expedited traffic rest regular traffic would give expedited traffic twice much bandwidth need order provide low delay allocation achieved transmitting one expedited packet every four regular packet assuming size distribution class similar way hoped expedited packet see unloaded subnet even fact heavy load assured forwarding somewhat elaborate scheme managing service class called assured forwarding described rfc  specifies shall four priority class class resource addition defines three discard probability packet undergoing congestion low medium high taken together two factor define  service class figure  show one way packet might processed assured forwarding step  classify packet one four priority class step might done sending host shown figure ingres first router advantage  classification sending host information available packet belong flow figure  possible implementation data flow assured forwarding step  mark packet according class header field needed purpose fortunately bit type service field available ip header see shortly rfc  specifies six bit used service class leaving coding room historical service class future one step  pas packet shaperdropper filter may delay drop shape four stream acceptable form example using leaky token bucket many packet may discarded discard category elaborate scheme involving metering feedback also possible example three step performed sending host output stream fed ingres router worth noting step may performed special networking software even operating system avoid change existing application  label switching mpls ietf working integrated service differentiated service several router vendor working better forwarding method work focused adding label front packet routing based label rather destination address making label index internal table make finding correct output line becomes matter table lookup using technique routing done quickly necessary resource reserved along path course labeling flow way come perilously close virtual circuit x atm frame relay network virtualcircuit subnet also put label ie virtualcircuit identifier packet look table route based table entry despite fact many people internet community intense dislike connectionoriented networking idea seems keep coming back time provide fast routing quality service however essential difference way internet handle route construction way connectionoriented network technique certainly traditional circuit switching new switching idea go various proprietary name including label switching tag switching eventually ietf began standardize idea name mpls multiprotocol label switching call mpls described rfc  many rfcs  aside people make distinction routing switching routing process looking destination address table find send contrast switching us label taken packet index forwarding table definition far universal however first problem put label since ip packet designed virtual circuit field available virtualcircuit number within ip header reason new mpls header added front ip header routertorouter line using ppp framing protocol frame format including ppp mpls ip tcp header shown fig  sense mpls thus layer  figure  transmitting tcp segment using ip mpls ppp generic mpls header four field important label field hold index qos field indicates class service field relates stacking multiple label hierarchical network discussed hit  packet discarded feature prevents infinite looping case routing instability mpls header part network layer packet data link layer frame mpls large extent independent layer among thing property mean possible build mpls switch forward ip packet atm cell depending show feature multiprotocol name mpls came mplsenhanced packet cell arrives mplscapable router label used index table determine outgoing line use also new label use label swapping used virtualcircuit subnets label local significance two different router feed unrelated packet label another router transmission outgoing line distinguishable end label remapped every hop saw mechanism action fig  mpls us technique one difference traditional virtual circuit level aggregation certainly possible flow set label subnet however common router group multiple flow end particular router lan use single label flow grouped together single label said belong fec forwarding equivalence class class cover packet going also service class differentiated service sense packet treated way forwarding purpose traditional virtualcircuit routing possible group several distinct path different end point onto virtualcircuit identifier would way distinguish final destination mpls packet still contain final destination address addition label end labeled route label header removed forwarding continue usual way using network layer destination address  one major difference mpls conventional vc design forwarding table constructed traditional virtualcircuit network user want establish connection setup packet launched network create path make forwarding table entry mpls work way setup phase connection would break much existing internet software instead two way forwarding table entry created datadriven approach packet arrives first router hit contact router downstream packet go asks generate label flow method applied recursively effectively ondemand virtualcircuit creation protocol spreading careful avoid loop often use technique called colored thread backward propagation fec compared pulling uniquely colored thread back subnet router ever see color already know loop take remedial action datadriven approach primarily used network underlying transport atm much telephone system way used network based atm controldriven approach several variant one work like router booted check see route final destination eg host lan creates one fecs allocates label one pass label neighbor turn enter label forwarding table send new label neighbor router acquired path resource also reserved path constructed guarantee appropriate quality service mpls operate multiple level highest level carrier regarded kind metarouter path metarouters source destination path use mpls however within carrier s network mpls also used leading second level labeling fact packet may carry entire stack label bit fig  allows router removing label know additional label left set  bottom label  label practice facility mostly used implement virtual private network recursive tunnel although basic idea behind mpls straightforward detail extremely complicated many variation optimization pursue topic information see davie rekhter  lin et al  pepelnjak guichard  wang   internetworking implicitly assumed single homogeneous network machine using protocol layer unfortunately assumption wildly optimistic many different network exist including lan man wan numerous protocol widespread use every layer following section take careful look issue arise two network connected form internet considerable controversy exists question whether today s abundance network type temporary condition go away soon everyone realizes wonderful fill favorite network whether inevitable permanent feature world stay different network invariably mean different protocol believe variety different network thus protocol always around following reason first installed base different network large nearly  personal computer run tcpip many large business mainframe running ibm s sna substantial number telephone company operate atm network personal computer lan still use novell ncpipx appletalk finally wireless upandcoming area variety protocol trend continue year due legacy problem new technology fact vendor perceive interest customer able easily migrate another vendor s system second computer network get cheaper place decision get made move downward organization many company policy effect purchase costing million dollar approved top management purchase costing  dollar approved middle management purchase  dollar made department head without higher approval easily lead engineering department installing unix workstation running tcpip marketing department installing mac appletalk third different network eg atm wireless radically different technology surprising new hardware development occur new software created fit new hardware example average home like average office ten year ago full computer talk one another future may commonplace telephone television set appliance networked together controlled remotely new technology undoubtedly bring new network new protocol example different network might connected consider example fig   see corporate network multiple location tied together wide area atm network one location fddi optical backbone used connect ethernet  wireless lan corporate data center s sna mainframe network figure  collection interconnected network purpose interconnecting network allow user communicate user one also allow user access data accomplishing goal mean sending packet one network another since network often differ important way getting packet one network another always easy see  network differ network differ many way difference different modulation technique frame format physical data link layer difference concern u instead fig  list difference occur network layer papering difference make internetworking difficult operating within single network  figure  many way network differ packet sent source one network must transit one foreign network reaching destination network also may different source network many problem occur interface network start packet connectionoriented network must transit connectionless one may reordered something sender expect receiver prepared deal protocol conversion often needed difficult required functionality expressed address conversion also needed may require kind directory system passing multicast packet network support multicasting requires generating separate packet destination differing maximum packet size used different network major nuisance pas byte packet network whose maximum size  byte differing quality service issue packet realtime delivery constraint pass network offer realtime guarantee error flow congestion control often differ among different network source destination expect packet delivered sequence without error intermediate network discard packet whenever smell congestion horizon many application break also packet wander around aimlessly suddenly emerge delivered trouble occur behavior anticipated dealt different security mechanism parameter setting accounting rule even national privacy law also cause problem  network connected network interconnected different device saw chap  let u briefly review material physical layer network connected repeater hub move bit one network identical network mostly analog device understand anything digital protocol regenerate signal one layer find bridge switch operate data link layer accept frame examine mac address forward frame different network minor protocol translation process example ethernet fddi  network layer router connect two network two network dissimilar network layer router may able translate packet format  although packet translation increasingly rare router handle multiple protocol called multiprotocol router transport layer find transport gateway interface two transport connection example transport gateway could allow packet flow tcp network sna network different transport protocol essentially gluing tcp connection sna connection finally application layer application gateway translate message semantics example gateway internet email rfc  x email must parse email message change various header field chapter focus internetworking network layer see differs switching data link layer examine fig  fig  source machine want send packet destination machine machine different ethernet connected switch encapsulates packet frame sends way frame arrives switch determines frame go lan  looking mac address switch remove frame lan  deposit lan  figure  two ethernet connected switch b two ethernet connected router let u consider situation two ethernet connected pair router instead switch router connected pointtopoint line possibly leased line thousand kilometer long frame picked router packet removed frame s data field router examines address packet eg ip address look address routing table based address decides send packet remote router potentially encapsulated different kind frame depending line protocol far end packet put data field ethernet frame deposited onto lan  essential difference switched bridged case routed case switch bridge entire frame transported basis mac address router packet extracted frame address packet used deciding send switch understand network layer protocol used switch packet router  concatenated virtual circuit two style internetworking possible connectionoriented concatenation virtualcircuit subnets datagram internet style examine turn first word caution past public network connection oriented frame relay sna  atm still rapid acceptance internet datagrams became fashionable however would mistake think datagrams  forever business thing forever change growing importance multimedia networking likely connectionorientation make comeback one form another since easier guarantee quality service connection without therefore devote space connectionoriented networking concatenated virtualcircuit model shown fig  connection host distant network set way similar way connection normally established subnet see destination remote build virtual circuit router nearest destination network construct virtual circuit router external gateway multiprotocol router gateway record existence virtual circuit table proceeds build another virtual circuit router next subnet process continues destination host reached figure  internetworking using concatenated virtual circuit data packet begin flowing along path gateway relay incoming packet converting packet format virtualcircuit number needed clearly data packet must traverse sequence gateway consequently packet flow never reordered network essential feature approach sequence virtual circuit set source one gateway destination gateway maintains table telling virtual circuit pas routed new virtualcircuit number scheme work best network roughly property example guarantee reliable delivery network layer packet barring crash somewhere along route flow source destination also reliable similarly none guarantee reliable delivery concatenation virtual circuit reliable either hand source machine network guarantee reliable delivery one intermediate network lose packet concatenation fundamentally changed nature service concatenated virtual circuit also common transport layer particular possible build bit pipe using say sna terminates gateway tcp connection go gateway next gateway manner endtoend virtual circuit built spanning different network protocol  connectionless internetworking alternative internetwork model datagram model shown fig  model service network layer offer transport layer ability inject datagrams subnet hope best notion virtual circuit  network layer let alone concatenation model require packet belonging one connection traverse sequence gateway fig  datagrams host  host  shown taking different route internetwork routing decision made separately packet possibly depending traffic moment packet sent strategy use multiple route thus achieve higher bandwidth concatenated virtualcircuit model hand guarantee packet arrive destination order assuming arrive figure  connectionless internet model fig  quite simple look one thing network network layer protocol possible packet one network transit another one one could imagine multiprotocol router actually trying translate one format another unless two format close relative information field conversion always incomplete often doomed failure reason conversion rarely attempted second serious problem addressing imagine simple case host internet trying send ip packet host adjoining sna network ip sna address different one would need mapping ip sna address direction furthermore concept addressable different ip host actually interface card address sna entity host eg hardware device also address best someone would maintain database mapping everything everything extent possible would constantly source trouble another idea design universal internet packet router recognize approach fact ip is—a packet designed carried many network course may turn ipv current internet protocol drive format market ipv future internet protocol catch nothing new ever invented history suggests otherwise getting everybody agree single format difficult company perceive commercial advantage proprietary format control let u briefly recap two way internetworking approached concatenated virtualcircuit model essentially advantage using virtual circuit within single subnet buffer reserved advance sequencing guaranteed short header used trouble caused delayed duplicate packet avoided also disadvantage table space required router open connection alternate routing avoid congested area vulnerability router failure along path also disadvantage difficult impossible implement one network involved unreliable datagram network  property datagram approach internetworking pretty much datagram subnets potential congestion also potential adapting robustness face router failure longer header needed various adaptive routing algorithm possible internet within single datagram network major advantage datagram approach internetworking used subnets use virtual circuit inside many lan mobile network eg aircraft naval fleet even wan fall category internet includes one serious problem occur internetworking strategy based virtual circuit  tunneling handling general case making two different network interwork exceedingly difficult however common special case manageable case source destination host type network different network example think international bank tcpipbased ethernet paris tcpipbased ethernet london nonip wide area network eg atm shown fig  figure  tunneling packet paris london solution problem technique called tunneling send ip packet host  host  construct packet containing ip address host  insert ethernet frame addressed paris multiprotocol router put ethernet multiprotocol router get frame remove ip packet insert payload field wan network layer packet address latter wan address london multiprotocol router get london router remove ip packet sends host  inside ethernet frame wan seen big tunnel extending one multiprotocol router ip packet travel one end tunnel snug nice box worry dealing wan neither host either ethernet multiprotocol router understand ip wan packet effect entire distance middle one multiprotocol router middle act like serial line analogy may make tunneling clearer consider person driving car paris london within france car move power hit english channel loaded highspeed train transported england chunnel car permitted drive chunnel effectively car carried freight depicted fig  far end car let loose english road  continues move power tunneling packet foreign network work way figure  tunneling car france england  internetwork routing routing internetwork similar routing within single subnet added complication consider example internetwork fig  five network connected six possibly multiprotocol router making graph model situation complicated fact every router directly access ie send packet every router connected network connected example b fig   directly access c via network  also via network  lead graph fig  b figure  internetwork b graph internetwork graph constructed known routing algorithm distance vector link state algorithm applied set multiprotocol router give twolevel routing algorithm within network interior gateway protocol used network exterior gateway protocol used gateway older term router fact since network independent may use different algorithm network internetwork independent others often referred autonomous system typical internet packet start lan addressed local multiprotocol router mac layer header get network layer code decides multiprotocol router forward packet using routing table router reached using packet s native network protocol packet forwarded directly otherwise tunneled encapsulated protocol required intervening network process repeated packet reach destination network one difference internetwork routing intranetwork routing internetwork routing may require crossing international boundary various law suddenly come play sweden s strict privacy law exporting personal data swedish citizen sweden another example canadian law saying data traffic originating canada ending canada may leave country law mean  traffic windsor ontario vancouver may routed via nearby detroit even route fastest cheapest another difference interior exterior routing cost within single network single charging algorithm normally applies however different network may different management one route may le expensive another similarly quality service offered different network may different may reason choose one route another  fragmentation network imposes maximum size packet limit various cause among  hardware eg size ethernet frame  operating system eg buffer  byte  protocol eg number bit packet length field  compliance inter national standard  desire reduce errorinduced retransmissions level  desire prevent one packet occupying channel long result factor network designer free choose maximum packet size wish maximum payload range  byte atm cell  byte ip packet although payload size higher layer often larger obvious problem appears large packet want travel network whose maximum packet size small one solution make sure problem occur first place word internet use routing algorithm avoids sending packet network handle however solution solution happens original source packet large handled destination network routing algorithm hardly bypass destination basically solution problem allow gateway break packet fragment sending fragment separate internet packet however every parent small child know converting large object small fragment considerably easier reverse process physicist even given effect name second law thermodynamics packetswitching network trouble putting fragment back together two opposing strategy exist recombining fragment back original packet first strategy make fragmentation caused smallpacket network transparent subsequent network packet must pas way ultimate destination option shown fig  approach smallpacket network gateway likely specialized router interface network oversized packet arrives gateway gateway break fragment fragment addressed exit gateway piece recombined way passage smallpacket network made transparent subsequent network even aware fragmentation occurred atm network example special hardware provide transparent fragmentation packet cell reassembly cell packet atm world fragmentation called segmentation concept detail different figure  transparent fragmentation b nontransparent fragmentation  transparent fragmentation straightforward problem one thing exit gateway must know received piece either count field end packet bit must provided another thing packet must exit via gateway allowing fragment follow one route ultimate destination fragment disjoint route performance may lost last problem overhead required repeatedly reassemble refragment large packet passing series smallpacket network atm requires transparent fragmentation fragmentation strategy refrain recombining fragment intermediate gateway packet fragmented fragment treated though original packet fragment passed exit gateway gateway shown fig  b recombination occurs destination host ip work way nontransparent fragmentation also problem example requires every host able reassembly yet another problem large packet fragmented total overhead increase fragment must header whereas first method overhead disappears soon smallpacket network exited method overhead remains rest journey advantage nontransparent fragmentation however multiple exit gateway used higher performance achieved course concatenated virtualcircuit model used advantage use packet fragmented fragment must numbered way original data stream reconstructed one way numbering fragment use tree packet  must split piece called    etc fragment must fragmented later piece numbered       etc enough field reserved header worst case duplicate generated anywhere scheme sufficient ensure piece correctly reassembled destination matter order arrive however even one network loses discard packet endtoend retransmissions needed unfortunate effect numbering system suppose bit packet initially fragmented four equalsized fragment     fragment  lost part arrive destination eventually source time retransmits original packet time murphy s law strike route taken pass network bit limit two fragment generated new fragment  arrives destination receiver think four piece accounted reconstruct packet incorrectly completely different better numbering system internetwork protocol define elementary fragment size small enough elementary fragment pas  every network packet fragmented piece equal elementary fragment size except last one may shorter internet packet may contain several fragment efficiency reason internet header must provide original packet number number first elementary fragment contained packet usual must also bit indicating last elementary fragment contained within internet packet last one original packet approach requires two sequence field internet header original packet number fragment number clearly tradeoff size elementary fragment number bit fragment number elementary fragment size presumed acceptable every network subsequent fragmentation internet packet containing several fragment cause problem ultimate limit elementary fragment single bit byte fragment number bit byte offset within original packet shown fig  figure  fragmentation elementary data size  byte original packet containing  data byte b fragment passing network maximum packet size  payload byte plus header c fragment passing size  gateway internet protocol take method even consider entire transmission virtual circuit one giant packet fragment contains absolute byte number first byte within fragment  network layer internet getting specific network layer internet worth taking look principle drove design past made success today often nowadays people seem forgotten principle enumerated discussed rfc  well worth reading mandatory protocol designers—with final exam end rfc draw heavily idea found clark  saltzer et al  summarize consider top  principle important least important  make sure work finalize design standard multiple prototype successfully communicated often designer first write  page standard get approved discover deeply flawed work write version  standard way go  keep simple doubt use simplest solution william occam stated principle occam s razor th century put modern term fight feature feature absolutely essential leave especially effect achieved combining feature  make clear choice several way thing choose one two way thing looking trouble standard often multiple option mode parameter several powerful party insist way best designer strongly resist tendency say  exploit modularity principle lead directly idea protocol stack whose layer independent one way circumstance require one module layer changed one affected  expect heterogeneity different type hardware transmission facility application occur large network handle network design must simple general flexible  avoid static option parameter parameter unavoidable eg maximum packet size best sender receiver negotiate value defining fixed choice  look good design need perfect often designer good design handle weird special case rather messing design designer go good design put burden working around people strange requirement  strict sending tolerant receiving word send packet rigorously comply standard expect incoming packet may fully conformant try deal  think scalability system handle million host billion user effectively centralized database kind tolerable load must spread evenly possible available resource  consider performance cost network poor performance outrageous cost nobody use let u leave general principle start looking detail internet s network layer network layer internet viewed collection subnetworks autonomous system as interconnected real structure several major backbone exist constructed highbandwidth line fast router attached backbone regional midlevel network attached regional network lan many university company internet service provider sketch quasihierarchical organization given fig  figure  internet interconnected collection many network  glue hold whole internet together network layer protocol ip internet protocol unlike older network layer protocol designed beginning internetworking mind good way think network layer job provide bestefforts ie guaranteed way transport datagrams source destination without regard whether machine network whether network communication internet work follows transport layer take data stream break datagrams theory datagrams  kbytes practice usually  byte fit one ethernet frame datagram transmitted internet possibly fragmented smaller unit go piece finally get destination machine reassembled network layer original datagram datagram handed transport layer insert receiving process input stream seen fig  packet originating host  traverse six network get host  practice often much six  ip protocol appropriate place start study network layer internet format ip datagrams ip datagram consists header part text part header byte fixed part variable length optional part header format shown fig  transmitted bigendian order left right highorder bit version field going first sparc big endian pentium littleendian little endian machine software conversion required transmission reception figure  ipv internet protocol header  version field keep track version protocol datagram belongs including version datagram becomes possible transition version take year machine running old version others running new one currently transition ipv ipv going already taken year mean close finished durand  wiljakka  waddington chang  people even think never happen weiser  aside numbering ipv experimental realtime stream protocol never widely used since header length constant field header ihl provided tell long header bit word minimum value  applies option present maximum value bit field  limit header  byte thus option field  byte option one record route packet taken  byte far small making option useless type service field one field changed meaning slightly year still intended distinguish different class service various combination reliability speed possible digitized voice fast delivery beat accurate delivery file transfer errorfree transmission important fast transmission originally bit field contained left right threebit precedence field three flag r precedence field priority  normal  network control packet three flag bit allowed host specify cared set delay throughput reliability theory field allow router make choice example satellite link high throughput high delay leased line low throughput low delay practice current router often ignore type service field altogether eventually ietf threw towel changed field slightly accommodate differentiated service six bit used indicate service class discussed earlier packet belongs class include four queueing priority three discard probability historical class total length includes everything datagram—both header data maximum length  byte present upper limit tolerable future gigabit network larger datagrams may needed identification field needed allow destination host determine datagram newly arrived fragment belongs fragment datagram contain identification value  next come unused bit two bit field df stand nt fragment order router fragment datagram destination incapable putting piece back together example computer boot rom might ask memory image sent single datagram marking datagram df bit sender know arrive one piece even mean datagram must avoid smallpacket network best path take suboptimal route machine required accept fragment  byte le mf stand fragment fragment except last one bit set needed know fragment datagram arrived fragment offset tell current datagram fragment belongs fragment except last one datagram must multiple  byte elementary fragment unit since  bit provided maximum  fragment per datagram giving maximum datagram length  byte one total length field time live field counter used limit packet lifetime supposed count time second allowing maximum lifetime  sec must decremented hop supposed decremented multiple time queued long time router practice count hop hit zero packet discarded warning packet sent back source host feature prevents datagrams wandering around forever something otherwise might happen routing table ever become corrupted network layer assembled complete datagram need know protocol field tell transport process give tcp one possibility udp others numbering protocol global across entire internet protocol assigned number formerly listed rfc  nowadays contained online data base located wwwianaorg header checksum verifies header checksum useful detecting error generated bad memory word inside router algorithm add bit halfwords arrive using one s complement arithmetic take one s complement result purpose algorithm header checksum assumed zero upon arrival algorithm robust using normal add note header checksum must recomputed hop least one field always change time live field trick used speed computation source address destination address indicate network number host number discus internet address next section option field designed provide escape allow subsequent version protocol include information present original design permit experimenter try new idea avoid allocating header bit information rarely needed option variable length begin byte code identifying option option followed byte option length field one data byte option field padded multiple four byte originally five option defined listed fig  since new one added current complete list maintained online wwwianaorgassignmentsipparameters figure  ip option  security option tell secret information theory military router might use field specify route certain country military considers bad guy practice router ignore practical function help spy find good stuff easily strict source routing option give complete path source destination sequence ip address datagram required follow exact route useful system manager send emergency packet routing table corrupted making timing measurement loose source routing option requires packet traverse list router specified order specified allowed pas router way normally option would provide router force particular path example force packet london sydney go west instead east option might specify router new york los angeles honolulu option useful political economic consideration dictate passing avoiding certain country record route option tell router along path append ip address option field allows system manager track bug routing algorithm why packet houston dallas visiting tokyo first arpanet first set packet ever passed nine router  byte option ample mentioned small finally timestamp option like record route option except addition recording bit ip address router also record bit timestamp option mostly debugging routing algorithm  ip address every host router internet ip address encodes network number host number combination unique principle two machine internet ip address ip address  bit long used source address destination address field ip packet important note ip address actually refer host really refers network interface host two network must two ip address however practice host one network thus one ip address several decade ip address divided five category listed fig  allocation come called classful addressing itisno longer used reference literature still common discus replacement classful addressing shortly figure  ip address format  class b c format allow  network  million host  network k host  million network eg lan  host although special also supported multicast datagram directed multiple host address beginning  reserved future use  network connected internet number grows every year network number managed nonprofit corporation called icann internet corporation assigned name number avoid conflict turn icann delegated part address space various regional authority dole ip address isps company network address bit number usually written dotted decimal notation format  byte written decimal   example bit hexadecimal address c written  lowest ip address  highest  value    special meaning shown fig  value  mean network host value  used broadcast address mean host indicated network figure  special ip address ip address  used host booted ip address  network number refer current network address allow machine refer network without knowing number know class know many  include address consisting  allows broadcasting local network typically lan address proper network number  host field allow machine send broadcast packet distant lan anywhere internet although many network administrator disable feature finally address form  xxyyzz reserved loopback testing packet sent address put onto wire processed locally treated incoming packet allows packet sent local network without sender knowing number  subnets seen host network must network number property ip addressing cause problem network grow example consider university started one class b network used computer science dept computer ethernet year later electrical engineering dept wanted get internet bought repeater extend c ethernet building time went many department acquired computer limit four repeater per ethernet quickly reached different organization required getting second network address would hard since network address scarce university already enough address  host problem rule single class b c address refers one network collection lan organization ran situation small change made addressing system deal solution allow network split several part internal use still act like single network outside world typical campus network nowadays might look like fig  main router connected isp regional network numerous ethernet spread around campus different department ethernet router connected main router possibly via backbone lan nature interrouter connection relevant figure  campus network consisting lan various department internet literature part network case ethernet called subnets mentioned chap  usage conflict subnet mean set router communication line network hopefully clear context meaning intended section next one new definition one used exclusively packet come main router know subnet ethernet give one way would table  entry main router telling router use host campus idea would work would require large table main router lot manual maintenance host added moved taken service instead different scheme invented basically instead single class b address  bit network number  bit host number bit taken away host number create subnet number example university  department could use bit subnet number bit host number allowing   ethernet maximum  host   available mentioned earlier split could changed later turn wrong one implement subnetting main router need subnet mask indicates split network subnet number host shown fig  subnet mask also written dotted decimal notation addition slash followed number bit network subnet part example fig  subnet mask written  alternative notation  indicate subnet mask  bit long figure  class b network subnetted  subnets outside network subnetting visible allocating new subnet require contacting icann changing external database example first subnet might use ip address starting  second subnet might start  third subnet might start  see subnets counting four note corresponding binary address follows subnet      subnet      subnet      vertical bar show boundary subnet number host number left bit subnet number right bit host number see subnets work necessary explain ip packet processed router router table listing number network  ip address number thisnetwork host ip address first kind tell get distant network second kind tell get local host associated table network interface use reach destination certain information ip packet arrives destination address looked routing table packet distant network forwarded next router interface given table local host eg router s lan sent directly destination network present packet forwarded default router extensive table algorithm mean router keep track network local host network host pair greatly reducing size routing table subnetting introduced routing table changed adding entry form thisnetwork subnet  thisnetwork thissubnet host thus router subnet k know get subnets also get host subnet k know detail host subnets fact need changed router boolean network s subnet mask get rid host number look resulting address table determining network class example packet addressed  arriving main router anded subnet mask  give address  address looked routing table find output line use get router subnet  subnetting thus reduces router table space creating threelevel hierarchy consisting network subnet host  cidr—classless interdomain routing ip heavy use decade worked extremely well demonstrated exponential growth internet unfortunately ip rapidly becoming victim popularity running address looming disaster sparked great deal discussion controversy within internet community section describe problem several proposed solution back  visionary predicted day internet might grow  network expert poohpoohed decade future ever th network connected  problem mentioned internet rapidly running ip address principle  billion address exist practice organizing address space class see fig  waste million particular real villain class b network organization class network  million address big class c network  address small class b network  right internet folklore situation known three bear problem goldilocks three bear reality class b address far large organization study shown half class b network fewer  host class c network would done job doubt every organization asked class b address thought one day would outgrow bit host field retrospect might better class c network use  bit instead eight host number allowing  host per network case organization would probably settled class c network would half million versus  class b network hard fault internet designer provided smaller class b address time decision made create three class internet research network connecting major research university u plus small number company military site networking research one perceived internet becoming mass market communication system rivaling telephone network time someone doubt said the u  college university even connect internet many university country join never going hit  since many university whole world furthermore host number integral number byte speed packet processing however split allocated  bit class b network number another problem would emerged routing table explosion point view router ip address space twolevel hierarchy network number host number router know host know network half million class c network use every router entire internet would need table half million entry one per network telling line use get network well providing information actual physical storage half million entry table probably doable although expensive critical router keep table static ram io board serious problem complexity various algorithm relating management table grows faster linear worse yet much existing router software firmware designed time internet  connected network  network seemed decade away design choice made often far optimal addition various routing algorithm require router transmit table periodically eg distance vector protocol larger table likely part get lost underway leading incomplete data end possibly routing instability  routing table problem could solved going deeper hierarchy example ip address contain country stateprovince city network host field might work router would need know get country state province country city state province network city unfortunately solution would require considerably  bit ip address would use address inefficiently liechtenstein would many bit united state short solution solve one problem create new one solution implemented gave internet bit extra breathing room cidr classless interdomain routing basic idea behind cidr described rfc  allocate remaining ip address variablesized block without regard class site need say  address given block  address byte boundary dropping class make forwarding complicated old classful system forwarding worked like packet arrived router copy ip address shifted right  bit yield bit class number way branch sorted packet b c supported eight case class four case class b two case class c one e code class masked   bit network number right aligned bit word network number looked b c table usually indexing b network hashing c network entry found outgoing line could looked packet forwarded cidr simple algorithm longer work instead routing table entry extended giving bit mask thus single routing table network consisting array ip address subnet mask outgoing line triple packet come destination ip address first extracted conceptually routing table scanned entry entry masking destination address comparing table entry looking match possible multiple entry different subnet mask length match case longest mask used thus match  mask  mask  entry used complex algorithm devised speed address matching process ruizsanchez et al  commercial router use custom vlsi chip algorithm embedded hardware make forwarding algorithm easier understand let u consider example million address available starting  suppose cambridge university need  address assigned address   along mask  next oxford university asks  address since block  address must lie byte boundary given address starting  instead get   along subnet mask  university edinburgh asks  address assigned address   mask  assignment summarized fig  figure  set ip address assignment  routing table world updated three assigned entry entry contains base address subnet mask entry binary address mask c         e                 consider happens packet come addressed  binary represented following bit string     first boolean anded cambridge mask get     value match cambridge base address original address next anded edinburgh mask get     value match edinburgh base address oxford tried next yielding     value match oxford base longer match found farther table oxford entry used packet sent along line named let u look three university point view router omaha nebraska four outgoing line minneapolis new york dallas denver router software get three new entry notice combine three entry single aggregate entry  binary address submask follows         entry sends packet destined three university new york aggregating three entry omaha router reduced table size two entry new york single line london uk traffic use aggregated entry well however separate line london edinburgh three separate entry aggregation heavily used throughout internet reduce size router table final note example aggregate route entry omaha also sends packet unassigned address new york long address truly unassigned matter supposed occur however later assigned company california additional entry  needed deal nat—network address translation ip address scarce isp might  formerly class b address giving  host number customer problem home customer dialup connection one way around problem dynamically assign ip address computer call log take ip address back session end  way single  address handle  active user probably good enough isp several hundred thousand customer session terminated ip address reassigned another caller strategy work well isp moderate number home user fails isps primarily serve business customer problem business customer expect online continuously business hour small business threeperson travel agency large corporation multiple computer connected lan computer employee pc others may web server generally router lan connected isp leased line provide continuous connectivity arrangement mean computer must ip address day long effect total number computer owned business customer combined exceed number ip address isp  address limit total number computer  isp ten thousand business customer limit quickly exceeded make matter worse home user subscribing adsl internet cable two feature service  user get permanent ip address  connect charge monthly flat rate charge many adsl cable user stay logged permanently development add shortage ip address assigning ip address onthefly done dialup user use number ip address use one instant may many time number isp owns make bit complicated many adsl cable user two computer home often one family member want online time using single ip address isp given solution connect pc via lan put router isp s point view family small business handful computer welcome jones inc problem running ip address theoretical problem might occur point distant future happening right right longterm solution whole internet migrate ipv bit address transition slowly occurring year process complete consequence people felt quick fix needed short term quick fix came form nat network address translation described rfc  summarize additional information see dutcher  basic idea behind nat assign company single ip address small number internet traffic within company every computer get unique ip address used routing intramural traffic however packet exit company go isp address translation take place make scheme possible three range ip address declared private company may use internally wish rule packet containing address may appear internet three reserved range  –   host  –   host  –   host first range provides  address except   usual usual choice company even need many address operation nat shown fig  within company premise every machine unique address form  xyz however packet leaf company premise pass nat box convert internal ip source address  figure company s true ip address  example nat box often combined single device firewall provides security carefully controlling  go company come study firewall chap  also possible integrate nat box company s router figure  placement operation nat box far glossed one tiny little detail reply come back eg web server naturally addressed  nat box know address replace herein lie problem nat spare field ip header field could used keep track real sender  bit still unused principle new option could created hold true source address would require changing ip code machine entire internet handle new option promising alternative quick fix actually happened follows nat designer observed ip packet carry either tcp udp payload study tcp udp chap  see header containing source port destination port discus tcp port exactly story hold udp port port bit integer indicate tcp connection begin end port provide field needed make nat work process want establish tcp connection remote process attache unused tcp port machine called source port tell tcp code send incoming packet belonging connection process also supply destination port tell give packet remote side port – reserved wellknown service example port  port used web server remote client locate outgoing tcp message contains source port destination port together port serve identify process using connection end analogy may make use port clearer imagine company single main telephone number people call main number reach operator asks extension want put extension main number analogous company s ip address extension end analogous port port extra bits addressing identify process get incoming packet using source port field solve mapping problem whenever outgoing packet enters nat box  xyz source address replaced company s true ip address addition tcp source port field replaced index nat box s entry translation table table entry contains original ip address original source port finally ip tcp header checksum recomputed inserted packet necessary replace source port connection machine    may happen use port  example source port alone enough identify sending process packet arrives nat box isp source port tcp header extracted used index nat box s mapping table entry located internal ip address original tcp source port extracted inserted packet ip tcp checksum recomputed inserted packet packet passed company router normal delivery using  xyz address nat also used alleviate ip shortage adsl cable user isp assigns user address us  xyz address packet user machine exit isp enter main internet pas nat box translates isp s true internet address way back packet undergo reverse mapping respect rest internet isp home adslcable user look like big company although scheme sort solves problem many people ip community regard abominationonthefaceoftheearth briefly summarized objection first nat violates architectural model ip state every ip address uniquely identifies single machine worldwide whole software structure internet built fact nat thousand machine may use address  second nat change internet connectionless network kind connectionoriented network problem nat box must maintain information mapping connection passing network maintain connection state property connectionoriented network connectionless one nat box crash mapping table lost tcp connection destroyed absence nat router crash effect tcp sending process time within second retransmits unacknowledged packet nat internet becomes vulnerable circuitswitched network third nat violates fundamental rule protocol layering layer k may make assumption layer k  put payload field basic principle keep layer independent tcp later upgraded tcp different header layout eg bit port nat fail whole idea layered protocol ensure change one layer require change layer nat destroys independence fourth process internet required use tcp udp user machine decides use new transport protocol talk user machine b example multimedia application introduction nat box cause application fail nat box able locate tcp source port correctly fifth application insert ip address body text receiver extract address us since nat know nothing address replace attempt use remote side fail ftp standard file transfer protocol work way fail presence nat unless special precaution taken similarly h internet telephony protocol study chap  property fail presence nat may possible patch nat work h patch code nat box every time new application come along good idea sixth since tcp source port field  bit  machine mapped onto ip address actually number slightly le first  port reserved special us however multiple ip address available one handle  machine  problem nat discussed rfc  general opponent nat say fixing problem insufficient ip address temporary ugly hack pressure implement real solution transition ipv reduced bad thing  internet control protocol addition ip used data transfer internet several control protocol used network layer including icmp arp rarp bootp dhcp section look turn internet control message protocol operation internet monitored closely router something unexpected occurs event reported icmp internet control message protocol also used test internet dozen type icmp message defined important one listed fig  icmp message type encapsulated ip packet figure  principal icmp message type destination unreachable message used subnet router locate destination packet df bit delivered smallpacket network stand way time exceeded message sent packet dropped counter reached zero event symptom packet looping enormous congestion timer value set low parameter problem message indicates illegal value detected header field problem indicates bug sending hostsip software possibly software router transited source quench message formerly used throttle host sending many packet host received message expected slow rarely used congestion occurs packet tend add fuel fire congestion control internet done largely transport layer study detail chap  redirect message used router notice packet seems routed wrong used router tell sending host probable error  echo echo reply message used see given destination reachable alive upon receiving echo message destination expected send echo reply message back timestamp request timestamp reply message similar except arrival time message departure time reply recorded reply facility used measure network performance addition message others defined online list kept wwwianaorgassignmentsicmpparameters arp—the address resolution protocol although every machine internet one ip address actually used sending packet data link layer hardware understand internet address nowadays host company university attached lan interface board understands lan address example every ethernet board ever manufactured come equipped bit ethernet address manufacturer ethernet board request block address central authority ensure two board address avoid conflict two board ever appear lan board send receive frame based bit ethernet address know nothing bit ip address question arises ip address get mapped onto data link layer address ethernet explain work let u use example fig  small university several class c called  network illustrated two ethernet one computer science dept ip address  one electrical engineering ip address  connected campus backbone ring eg fddi ip address  machine ethernet unique ethernet address labeled e e machine fddi ring fddi address labeled f f figure  three interconnected  network two ethernet fddi ring let u start seeing user host  sends packet user host  let u assume sender know name intended receiver possibly something like mary eaglecsuniedu first step find ip address host  known eaglecsuniedu lookup performed domain name system study chap  moment assume dns return ip address host   upper layer software host  build packet  destination address field give ip software transmit ip software look address see destination network need way find  destination s ethernet address one solution configuration file somewhere system map ip address onto ethernet address solution certainly possible organization thousand machine keeping file date errorprone timeconsuming job better solution host  output broadcast packet onto ethernet asking owns ip address  broadcast arrive every machine ethernet  one check ip address host  alone respond ethernet address e way host  learns ip address  host ethernet address e protocol used asking question getting reply called arp address resolution protocol almost every machine internet run arp defined rfc  advantage using arp configuration file simplicity system manager much except assign machine ip address decide subnet mask arp rest point ip software host  build ethernet frame addressed e put ip packet addressed  payload field dump onto ethernet ethernet board host  detects frame recognizes frame scoop cause interrupt ethernet driver extract ip packet payload pass ip software see correctly addressed process various optimization possible make arp work efficiently start machine run arp cache result case need contact machine shortly next time find mapping cache thus eliminating need second broadcast many case host  need send back reply forcing run arp determine sender s ethernet address arp broadcast avoided host  include iptoethernet mapping arp packet arp broadcast arrives host  pair  e entered host  s arp cache future use fact machine ethernet enter mapping arp cache yet another optimization every machine broadcast mapping boot broadcast generally done form arp looking ip address response side effect broadcast make entry everyone s arp cache response unexpectedly arrive two machine assigned ip address new one inform system manager boot allow mapping change example ethernet board break replaced new one thus new ethernet address entry arp cache time minute let u look fig  time host  want send packet host   using arp fail host  see broadcast router forward ethernetlevel broadcast two solution first c router could configured respond arp request network  possibly local network case host  make arp cache entry  e happily send traffic host  local router solution called proxy arp second solution host  immediately see destination remote network send traffic default ethernet address handle remote traffic case e solution require c router know remote network serving either way happens host  pack ip packet payload field ethernet frame addressed e c router get ethernet frame remove ip packet payload field look ip address routing table discovers packet network  supposed go router   already know fddi address  broadcast arp packet onto ring learns ring address f insert packet payload field fddi frame addressed f put ring ee router fddi driver remove packet payload field give ip software see need send packet  ip address arp cache broadcast arp request ee ethernet learns destination address e soit build ethernet frame addressed e put packet payload field sends ethernet ethernet frame arrives host  packet extracted frame passed ip software processing going host  distant network wan work essentially way except time c router s table tell use wan router whose fddi address f rarp bootp dhcp arp solves problem finding ethernet address corresponds given ip address sometimes reverse problem solved given ethernet address corresponding ip address particular problem occurs diskless workstation booted machine normally get binary image operating system remote file server learn ip address first solution devised use rarp reverse address resolution protocol defined rfc  protocol allows newlybooted workstation broadcast ethernet address say bit ethernet address  anyone know ip address rarp server see request look ethernet address configuration file sends back corresponding ip address using rarp better embedding ip address memory image allows image used machine ip address buried inside image workstation would need image disadvantage rarp us destination address  limited broadcasting reach rarp server however broadcast forwarded router rarp server needed network get around problem alternative bootstrap protocol called bootp invented unlike rarp bootp us udp message forwarded router also provides diskless workstation additional information including ip address file server holding memory image ip address default router subnet mask use bootp described rfcs    serious problem bootp requires manual configuration table mapping ip address ethernet address new host added lan use bootp administrator assigned ip address entered ethernet address ip address bootp configuration table hand eliminate errorprone step bootp extended given new name dhcp dynamic host configuration protocol dhcp allows manual ip address assignment automatic assignment described rfcs   system largely replaced rarp bootp like rarp bootp dhcp based idea special server assigns ip address host asking one server need lan requesting host since dhcp server may reachable broadcasting dhcp relay agent needed lan shown fig  figure  operation dhcp  find ip address newlybooted machine broadcast dhcp discover packet dhcp relay agent lan intercept dhcp broadcast find dhcp discover packet sends packet unicast packet dhcp server possibly distant network piece information relay agent need ip address dhcp server issue arises automatic assignment ip address pool long ip address allocated host leaf network return ip address dhcp server address permanently lost period time many address may lost prevent happening ip address assignment may fixed period time technique called leasing lease expires host must ask dhcp renewal fails make request request denied host may longer use ip address given earlier  ospf—the interior gateway routing protocol finished study internet control protocol time move next topic routing internet mentioned earlier internet made large number autonomous system operated different organization use routing algorithm inside example internal network company x z usually seen three as three internet three may use different routing algorithm internally nevertheless standard even internal routing simplifies implementation boundary as allows reuse code section study routing within next one look routing as routing algorithm within called interior gateway protocol algorithm routing as called exterior gateway protocol original internet interior gateway protocol distance vector protocol rip based bellmanford algorithm inherited arpanet worked well small system le well as got larger also suffered counttoinfinity problem generally slow convergence replaced may  link state protocol  internet engineering task force began work successor successor called ospf open shortest path first became standard  router vendor support become main interior gateway protocol give sketch ospf work complete story see rfc  given long experience routing protocol group designing new protocol long list requirement met first algorithm published open literature hence o ospf proprietary solution owned one company would second new protocol support variety distance metric including physical distance delay third dynamic algorithm one adapted change topology automatically quickly fourth new ospf support routing based type service new protocol able route realtime traffic one way traffic different way ip protocol type service field existing routing protocol used field included ospf still nobody used eventually removed  fifth related new protocol load balancing splitting load multiple line previous protocol sent packet best route secondbest route used many case splitting load multiple line give better performance sixth support hierarchical system needed  internet grown large router could expected know entire topology new routing protocol designed router would seventh modicum security required prevent funloving student spoofing router sending false routing information finally provision needed dealing router connected internet via tunnel previous protocol handle well ospf support three kind connection network  pointtopoint line exactly two router  multiaccess network broadcasting eg lan  multiaccess network without broadcasting eg packetswitched wan multiaccess network one multiple router directly communicate others lan wan property figure  show containing three kind network note host generally play role ospf figure  autonomous system b graph representation  ospf operates abstracting collection actual network router line directed graph arc assigned cost distance delay etc computes shortest path based weight arc serial connection two router represented pair arc one direction weight may different multiaccess network represented node network plus node router arc network node router weight  omitted graph figure  b show graph representation network fig  weight symmetric unless marked otherwise ospf fundamentally represent actual network graph like compute shortest path every router every router many as internet large nontrivial manage ospf allows divided numbered area area network set contiguous network area overlap need exhaustive router may belong area area generalization subnet outside area topology detail visible every backbone area called area  area connected backbone possibly tunnel possible go area area via backbone tunnel represented graph arc cost router connected two area part backbone area topology backbone visible outside backbone within area router link state database run shortest path algorithm main job calculate shortest path every router area including router connected backbone must least one router connects two area need database area must run shortest path algorithm one separately normal operation three kind route may needed intraarea interarea interas intraarea route easiest since source router already know shortest path destination router interarea routing always proceeds three step go source backbone go across backbone destination area go destination algorithm force star configuration ospf backbone hub area spoke packet routed source destination a encapsulated tunneled unless going area whose connection backbone tunnel figure  show part internet as area figure  relation as backbone area ospf  ospf distinguishes four class router  internal router wholly within one area  area border router connect two area  backbone router backbone  boundary router talk router as class allowed overlap example border router automatically part backbone addition router backbone part area also internal router example four class router illustrated fig   router boot sends hello message pointtopoint line multicasts lan group consisting router wan need configuration information know contact response router learns neighbor router lan neighbor ospf work exchanging information adjacent router neighboring router particular inefficient every router lan talk every router lan avoid situation one router elected designated router said adjacent router lan exchange information neighboring router adjacent exchange information backup designated router always kept date ease transition primary designated router crash need replaced immediately normal operation router periodically flood link state update message adjacent router message give state provides cost used topological database flooding message acknowledged make reliable message sequence number router see whether incoming link state update older newer currently router also send message line go cost change  database description message give sequence number link state entry currently held sender comparing value sender receiver determine recent value message used line brought either partner request link state information one using link state request message result algorithm pair adjacent router check see recent data new information spread throughout area way message sent raw ip packet five kind message summarized fig  figure  five type ospf message finally put piece together using flooding router informs router area neighbor cost information allows router construct graph area compute shortest path backbone area addition backbone router accept information area border router order compute best route backbone router every router information propagated back area border router advertise within area using information router send interarea packet select best exit router backbone  bgp—the exterior gateway routing protocol within single recommended routing protocol ospf although certainly one use as different protocol bgp border gateway protocol used different protocol needed as goal interior gateway protocol exterior gateway protocol interior gateway protocol move packet efficiently possible source destination worry politics exterior gateway protocol router worry politics great deal metz  example corporate might want ability send packet internet site receive packet internet site however might unwilling carry transit packet originating foreign ending different foreign even shortest path two foreign as that s problem hand might willing carry transit traffic neighbor even specific as paid service telephone company example might happy act carrier customer others exterior gateway protocol general bgp particular designed allow many kind routing policy enforced interas traffic typical policy involve political security economic consideration example routing constraint  transit traffic certain as  never put iraq route starting pentagon  use united state get british columbia ontario   transit albania alternative destination  traffic starting ending ibm transit microsoft policy typically manually configured bgp router included using kind script part protocol point view bgp router world consists as line connecting two as considered connected line border router one given bgp s special interest transit traffic network grouped one three category first category stub network one connection bgp graph used transit traffic one side come multiconnected network could used transit traffic except refuse finally transit network backbone willing handle thirdparty packet possibly restriction usually pay pair bgp router communicate establishing tcp connection operating way provides reliable communication hide detail network passed bgp fundamentally distance vector protocol quite different others rip instead maintaining cost destination bgp router keep track path used similarly instead periodically giving neighbor estimated cost possible destination bgp router tell neighbor exact path using example consider bgp router shown fig  particular consider f s routing table suppose us path fgcd get neighbor give routing information provide complete path shown fig  b simplicity destination shown figure  set bgp router b information sent f path come neighbor f examines see best quickly discard path e since path pas f choice using b g every bgp router contains module examines route given destination score returning number distance destination route route violating policy constraint automatically get score infinity router adopts route shortest distance scoring function part bgp protocol function system manager want bgp easily solves counttoinfinity problem plague distance vector routing algorithm example suppose g crash line fg go f receives route three remaining neighbor route bcd ifgcd efgcd immediately see two latter route pointless since pas f chooses fbcd new route distance vector algorithm often make wrong choice  tell neighbor independent route destination definition bgp rfcs    internet multicasting normal ip communication one sender one receiver however application useful process able send large number receiver simultaneously example updating replicated distributed database transmitting stock quote multiple broker handling digital conference ie multiparty telephone call ip support multicasting using class address class address identifies group host twentyeight bit available identifying group  million group exist time process sends packet class address bestefforts attempt made deliver member group addressed guarantee given member may get packet two kind group address supported permanent address temporary one permanent group always set permanent group permanent group address example permanent group address  system lan  router lan  ospf router lan  designated ospf router lan temporary group must created used process ask host join specific group also ask host leave group last process host leaf group group longer present host host keep track group process currently belong multicasting implemented special multicast router may may colocated standard router minute multicast router sends hardware ie data link layer multicast host lan address  asking report back group process currently belong host sends back response class address interested query response packet use protocol called igmp internet group management protocol vaguely analogous icmp two kind packet query response simple fixed format containing control information first word payload field class address second word described rfc  multicast routing done using spanning tree multicast router exchange information neighbor using modified distance vector protocol order one construct spanning tree per group covering group member various optimization used prune tree eliminate router network interested particular group protocol make heavy use tunneling avoid bothering node spanning tree  mobile ip many user internet portable computer want stay connected internet visit distant internet site even road unfortunately ip addressing system make working far home easier said done  section examine problem solution detailed description given perkins a real villain addressing scheme every ip address contains network number host number example consider machine ip address   give network number  decimal  host number  decimal router world routing table telling line use get network  whenever packet come destination ip address form xxxyyy go line sudden machine address carted distant site packet continue routed home lan router owner longer get email giving machine new ip address corresponding new location unattractive large number people program database would informed change another approach router use complete ip address routing instead network however strategy would require router million table entry astronomical cost internet people began demanding ability connect notebook computer internet wherever ietf set working group find solution working group quickly formulated number goal considered desirable solution major one  mobile host must able use home ip address anywhere  software change fixed host permitted  change router software table permitted  packet mobile host make detour way  overhead incurred mobile host home solution chosen one described sec  review briefly every site want allow user roam create home agent every site want allow visitor create foreign agent mobile host show foreign site contact foreign host register foreign host contact user s home agent give careof address normally foreign agent s ip address packet arrives user s home lan come router attached lan router try locate host usual way broadcasting arp packet asking example ethernet address  home agent responds query giving ethernet address router sends packet  home agent turn tunnel careof address encapsulating payload field ip packet addressed foreign agent foreign agent decapsulates delivers data link address mobile host addition home agent give careof address sender future packet tunneled directly foreign agent solution meet requirement stated one small detail probably worth mentioning time mobile host move router probably soontobeinvalid ethernet address cached replacing ethernet address home agent s done trick called gratuitous arp special unsolicited message router cause replace specific cache entry case mobile host leave mobile host return later trick used update router s cache nothing design prevents mobile host foreign agent approach work mobile host capacity foreign agent logically connected internet current site also mobile host must able acquire temporary  careof ip address use ip address must belong lan currently attached ietf solution mobile host solves number problem mentioned far example agent located solution agent periodically broadcast address type service willing provide eg home foreign mobile host arrives somewhere listen broadcast called advertisement alternatively broadcast packet announcing arrival hope local foreign agent responds another problem solved impolite mobile host leave without saying goodbye solution make registration valid fixed time interval refreshed periodically time foreign host clear table yet another issue security home agent get message asking please forward roberta s packet ip address better comply unless convinced roberta source request somebody trying impersonate cryptographic authentication protocol used purpose study protocol chap  final point addressed working group relates level mobility imagine airplane onboard ethernet used navigation avionics computer ethernet standard router talk wired internet ground radio link one fine day clever marketing executive get idea install ethernet connector arm rest passenger mobile computer also plug two level mobility aircraft s computer stationary respect ethernet passenger computer mobile respect addition onboard router mobile respect router ground mobile respect system mobile handled using recursive tunneling  ipv cidr nat may buy year time everyone realizes day ip current form ipv numbered addition technical problem another issue loom background early year internet largely used university hightech industry u government especially dept defense explosion interest internet starting mids began used different group people especially people different requirement one thing numerous people wireless portable use keep contact home base another impending convergence computer communication entertainment industry may long every telephone television set world internet node producing billion machine used audio video demand circumstance became apparent ip evolve become flexible seeing problem horizon  ietf started work new version ip one would never run address would solve variety problem flexible efficient well major goal  support billion host even inefficient address space allocation  reduce size routing table  simplify protocol allow router process packet faster  provide better security authentication privacy current ip  pay attention type service particularly realtime data  aid multicasting allowing scope specified  make possible host roam without changing address  allow protocol evolve future   permit old new protocol coexist year develop protocol met requirement ietf issued call proposal discussion rfc  twentyone response received full proposal december  seven serious proposal table ranged making minor patch ip throwing altogether replacing completely different protocol one proposal run tcp clnp bit address would provided enough address space forever would unified two major network layer protocol however many people felt would admission something osi world actually done right statement considered politically incorrect internet circle clnp patterned closely ip two really different fact protocol ultimately chosen differs ip far clnp another strike clnp poor support service type something required transmit multimedia efficiently three better proposal published ieee network deering  francis  katz ford  much discussion revision jockeying position modified combined version deering francis proposal called sipp simple internet protocol plus selected given designation ipv ipv meet goal fairly well maintains good feature ip discard deemphasizes bad one add new one needed general ipv compatible ipv compatible auxiliary internet protocol including tcp udp icmp igmp ospf bgp dns sometimes small modification required mostly deal longer address main feature ipv discussed information found rfcs   first foremost ipv longer address ipv  byte long solves problem ipv set solve provide effectively unlimited supply internet address say address shortly second major improvement ipv simplification header contains seven field versus  ipv change allows router process packet faster thus improve throughput delay discus header shortly third major improvement better support option change essential new header field previously required optional addition way option represented different making simple router skip option intended feature speed packet processing time fourth area ipv represents big advance security ietf fill newspaper story precocious yearolds using personal computer break bank military base internet strong feeling something done improve security authentication privacy key feature new ip later retrofitted ipv however area security difference great finally attention paid quality service various halfhearted effort made past growth multimedia internet sense urgency greater main ipv header ipv header shown fig  version field always  ipv  ipv transition period ipv probably take decade router able  examine field tell kind packet aside making test waste instruction critical path many implementation likely try avoid using field data link header distinguish ipv packet ipv packet way packet passed correct network layer handler directly however data link layer aware network packet type completely violates design principle layer aware meaning bit given layer discussion do right make fast camp doubt lengthy vigorous figure  ipv fixed header required traffic class field used distinguish packet different realtime delivery requirement field designed purpose ip since beginning sporadically implemented router experiment underway determine best used multimedia delivery flow label field also still experimental used allow source destination set pseudoconnection particular property requirement example stream packet one process certain source host certain process certain destination host might stringent delay requirement thus need reserved bandwidth flow set advance given identifier packet nonzero flow label show router look internal table see kind special treatment requires effect flow attempt way flexibility datagram subnet guarantee virtualcircuit subnet flow designated source address destination address flow number many flow may active time given pair ip address also way even two flow coming different host flow label pas router router able tell apart using source destination address expected flow label chosen randomly rather assigned sequentially starting  router expected hash payload length field tell many byte follow byte header fig  name changed ipv total length field meaning changed slightly  header byte longer counted part length used  next header field let cat bag reason header could simplified additional optional extension header field tell currently six extension header follow one header last ip header next header field tell transport protocol handler eg tcp udp pas packet hop limit field used keep packet living forever practice time live field ipv namely field decremented hop theory ipv time second router used way name changed reflect way actually used next come source address destination address field deering s original proposal sip used byte address review process many people felt byte address ipv would run address within decade whereas byte address would never run people argued  byte overkill whereas still others favored using byte address compatible osi datagram protocol still another faction wanted variablesized address much debate decided fixedlength byte address best compromise new notation devised writing byte address written eight group four hexadecimal digit colon group like ab cdef since many address many zero inside three optimization authorized first leading zero within group omitted  written  second one group  zero bit replaced pair colon thus address becomes  ab cdef finally ipv address written pair colon old dotted decimal number example  perhaps unnecessary explicit lot byte address specifically   approximately  x   entire earth land water covered computer ipv would allow  x   ip address per square meter student chemistry notice number larger avogadro s number intention give every molecule surface earth ip address far practice address space used efficiently telephone number address space area code manhattan  nearly full wyoming  nearly empty rfc  durand huitema calculated using allocation telephone number guide even pessimistic scenario still well  ip address per square meter entire earth s surface land water likely scenario trillion per square meter short seems unlikely run foreseeable future instructive compare ipv header fig  ipv header fig  see left ipv ihl field gone ipv header fixed length protocol field taken next header field tell follows last ip header eg udp tcp segment  field relating fragmentation removed ipv take different approach fragmentation start ipvconformant host expected dynamically determine datagram size use rule make fragmentation le likely occur first place also minimum raised   allow  byte data many header addition host sends ipv packet large instead fragmenting router unable forward sends back error message message tell host break future packet destination host send packet right size first place ultimately much efficient router fragment fly finally checksum field gone calculating greatly reduces performance reliable network used combined fact data link layer transport layer normally checksum value yet another checksum worth performance price extracted removing feature resulted lean mean network layer protocol thus goal ipv—a fast yet flexible protocol plenty address space—has met design extension header missing ipv field occasionally still needed ipv introduced concept optional extension header header supplied provide extra information encoded efficient way six kind extension header defined present listed fig  one optional one present must appear directly fixed header preferably order listed figure  ipv extension header header fixed format others contain variable number variablelength field item encoded type length value tuple type byte field telling option type value chosen first  bit tell router know process option choice skip option discard packet discard packet send back icmp packet previous one except send icmp packet multicast address prevent one bad multicast packet generating million icmp report length also byte field tell long value   byte value information required  byte hopbyhop header used information router along path must examine far one option defined support datagrams exceeding k format header shown fig  used payload length field fixed header set zero figure  hopbyhop extension header large datagrams jumbograms  extension header one start byte telling kind header come next byte followed one telling long hopbyhop header byte excluding first  byte mandatory extension begin way next  byte indicate option defines datagram size code  size byte number last  byte give size datagram size le  byte permitted result first router discarding packet sending back icmp error message datagrams using header extension called jumbograms use jumbograms important supercomputer application must transfer gigabyte data efficiently across internet destination option header intended field need interpreted destination host initial version ipv option defined null option padding header multiple  byte initially used included make sure new routing host software handle case someone think destination option day routing header list one router must visited way destination similar ipv loose source routing address listed must visited order router listed may visited format routing header shown fig  figure  extension header routing first  byte routing extension header contain four byte integer next header header entension length field described routing type field give format rest header type  say reserved bit word follows first word followed number ipv address type may invented future needed finally segment left field keep track many address list yet visited decremented every time one visited hit  packet guidance route follow usually point close destination best route obvious fragment header deal fragmentation similarly way ipv header hold datagram identifier fragment number bit telling whether fragment follow ipv unlike ipv source host fragment packet router along way may although change major philosophical break past simplifies router work make routing go faster mentioned router confronted packet big discard packet sends icmp packet back source information allows source host fragment packet smaller piece using header try authentication header provides mechanism receiver packet sure sent encrypted security payload make possible encrypt content  packet intended recipient read header use cryptographic technique accomplish mission controversy given open design process stronglyheld opinion many people involved come surprise many choice made ipv highly controversial say least summarize briefly gory detail see rfcs already mentioned argument address length result compromise byte fixedlength address another fight developed length hop limit field one camp felt strongly limiting maximum number hop  implicit using bit field gross mistake path  hop common  year much longer path may common people argued using huge address size farsighted using tiny hop count shortsighted view greatest sin computer scientist commit provide bit somewhere response argument could made increase every field leading bloated header also function hop limit field keep packet wandering around long time  hop far long finally internet grows longdistance link built making possible get country country half dozen hop take  hop get source destination respective international gateway something wrong national backbone bitters one another hot potato maximum packet size supercomputer community wanted packet excess  kb supercomputer get started transferring really mean business want interrupted every  kb argument large packet mb packet hit mbps t line packet tie line  second producing noticeable delay interactive user sharing line compromise reached normal packet limited  kb hopbyhop extension header used permit jumbograms third hot topic removing ipv checksum people likened move removing brake car make car lighter go faster unexpected event happens problem argument checksum application really care data integrity transport layer checksum anyway another one ip addition data link layer checksum overkill furthermore experience showed computing ip checksum major expense ipv antichecksum camp one ipv checksum mobile host also point contention portable computer fly halfway around world continue operating destination ipv address use scheme home agent foreign agent mobile host also introduce asymmetry routing system may well case small mobile computer easily hear powerful signal put large stationary router stationary router hear feeble signal put mobile host consequently people wanted build explicit support mobile host ipv effort failed consensus could found specific proposal  probably biggest battle security everyone agreed essential war first argument putting network layer becomes standard service application use without advance planning argument really secure application generally want nothing le endtoend encryption source application encryption destination application undoes anything le user mercy potentially buggy network layer implementation control response argument application refrain using ip security feature job rejoinder people trust network right want pay price slow bulky ip implementation capability even disabled another aspect put security relates fact many country stringent export law concerning cryptography notably france iraq also restrict use domestically people secret police result ip implementation used cryptographic system strong enough much value could exported united state many country customer worldwide maintain two set software one domestic use one export something computer vendor vigorously oppose one point controversy one expects ipv internet turned sunday morning come back ipv internet monday morning instead isolated island ipv converted initially communicating via tunnel ipv island grow merge bigger island eventually island merge internet fully converted given massive investment ipv router currently deployed conversion process probably take decade reason enormous amount effort gone making sure transition painless possible information ipv see loshin   summary network layer provides service transport layer based either virtual circuit datagrams case main job routing packet source destination virtualcircuit subnets routing decision made virtual circuit set datagram subnets made every packet many routing algorithm used computer network static algorithm include shortest path routing flooding dynamic algorithm include distance vector routing link state routing actual network use one important routing topic hierarchical routing routing mobile host broadcast routing multicast routing routing peertopeer network subnets easily become congested increasing delay lowering throughput packet network designer attempt avoid congestion proper design technique include retransmission policy caching flow control congestion occur must dealt choke packet sent back load shed method applied next step beyond dealing congestion actually try achieve promised quality service method used include buffering client traffic shaping resource reservation admission control approach designed good quality service include integrated service including rsvp differentiated service mpls network differ various way multiple network interconnected problem occur sometimes problem finessed tunneling packet hostile  network source destination network different approach fails different network different maximum packet size fragmentation may called internet rich variety protocol related network layer include data transport protocol ip also control protocol icmp arp rarp routing protocol ospf bgp internet rapidly running ip address new version ip ipv developed problem  give two example computer application connectionoriented service appropriate give two example connectionless service best  circumstance connectionoriented service least deliver packet order explain  datagram subnets route packet separate unit independent others virtualcircuit subnets since data packet follows predetermined route observation mean virtualcircuit subnets need capability route isolated packet arbitrary source arbitrary destination explain answer  give three example protocol parameter might negotiated connection set  consider following design problem concerning implementation virtualcircuit service virtual circuit used internal subnet data packet must byte header router must tie  byte storage circuit identification datagrams used internally byte header needed router table space required transmission capacity cost  cent per   byte per hop fast router memory purchased  cent per byte depreciated two year assuming hour business week statistically average session run  sec time  packet transmitted mean packet requires four hop implementation cheaper much  assuming router host working properly software free error chance however small packet delivered wrong destination  consider network fig  ignore weight line suppose us flooding routing algorithm packet sent maximum hop count  list route take also tell many hop worth bandwidth consumes  give simple heuristic finding two path network given source given destination survive loss communication line assuming two path exist router considered reliable enough necessary worry possibility router crash  consider subnet fig  distance vector routing used following vector come router c b             e       measured delay b e    respectively c s new routing table give outgoing line use expected delay  delay recorded bit number router network delay vector exchanged twice second much bandwidth per fullduplex line chewed distributed routing algorithm assume router three line router  fig  boolean two set acf bit  every row accident hold subnets circumstance  hierarchical routing  router region cluster size chosen minimize size routing table threelayer hierarchy good starting place hypothesis solution k cluster k region k router close optimal mean k cube root  around  use trial error check combination three parameter general vicinity    text stated mobile host home packet sent home lan intercepted home agent lan ip network  lan home agent accomplish interception  looking subnet fig  many packet generated broadcast b using reverse path forwarding b b sink tree  consider network fig  imagine one new line added f g sink tree fig  b remains unchanged change occur fig  c  compute multicast spanning tree router c following subnet group member router b c e f k  fig  node h ever broadcast lookup shown starting  suppose node b fig  rebooted routing information table suddenly need route h sends broadcast ttl set    many round take find route  simplest version chord algorithm peertopeer lookup search use finger table instead linear around circle either direction node accurately predict direction search discus answer  consider chord circle fig  suppose node  suddenly go line affect node  s finger table  possible congestion control mechanism subnet using virtual circuit internally router could refrain acknowledging received packet  know last transmission along virtual circuit received successfully  free buffer simplicity assume router use stopandwait protocol virtual circuit one buffer dedicated direction traffic take sec transmit packet data acknowledgement n router path rate packet delivered destination host assume transmission error rare hostrouter connection infinitely fast  datagram subnet allows router drop packet whenever need probability router discarding packet p consider case source host connected source router connected destination router destination host either router discard packet source host eventually time try hostrouter routerrouter line counted hop mean number hop packet make per transmission b b transmission packet make c c hop required per received packet  describe two major difference warning bit method red method  give argument leaky bucket algorithm allow one packet per tick independent large packet  bytecounting variant leaky bucket algorithm used particular system rule one byte packet two byte packet etc may sent tick give serious restriction system mentioned text   atm network us token bucket scheme traffic shaping new token put bucket every  µsec token good one cell contains  byte data maximum sustainable data rate  computer mbps network regulated token bucket token bucket filled rate  mbps initially filled capacity  megabit long computer transmit full  mbps  imagine flow specification maximum packet size  byte token bucket rate  million bytessec token bucket size  million byte maximum transmission rate  million bytessec long burst maximum speed last  network fig  us rsvp multicast tree host   shown suppose host  request channel bandwidth  mbsec flow host  another channel bandwidth  mbsec flow host  time host  request channel bandwidth  mbsec flow host  host  request channel bandwidth  mbsec flow host  much total bandwidth reserved request router b c e h j k l  cpu router process  million packetssec load offered  million packetssec route source destination contains  router much time spent queued serviced cpu  consider user differentiated service expedited forwarding guarantee expedited packet experience shorter delay regular packet  fragmentation needed concatenated virtualcircuit internet datagram system  tunneling concatenated virtualcircuit subnet straightforward multiprotocol router one end set virtual circuit end pass packet tunneling also used datagram subnets  suppose host connected router r  r  connected another router r  r  connected host b suppose tcp message contains  byte data  byte tcp header passed ip code host delivery b show total length identification df mf fragment offset field ip header packet transmitted three link assume link ar support maximum frame size  byte including byte frame header link rr support maximum frame size  byte including byte frame header link rb support maximum frame size  byte including byte frame header  router blasting ip packet whose total length data plus header  byte assuming packet live  sec maximum line speed router operate without danger cycling ip datagram id number space  ip datagram using strict source routing option fragmented think option copied fragment sufficient put first fragment explain answer  suppose instead using  bit network part class b address originally  bit used many class b network would  convert ip address whose hexadecimal representation cf dotted decimal notation  network internet subnet mask  maximum number host handle  large number consecutive ip address available starting  suppose four organization b c request     address respectively order give first ip address assigned last ip address assigned mask wxyz notation  router received following new ip address     use outgoing line aggregated  set ip address   aggregated  however gap  unassigned address   suddenly assigned host using different outgoing  line necessary split aggregate address constituent block add new block table see reaggregation possible done instead  router following cidr entry routing table addressmask next hop  interface   interface   router  default router   following ip address router packet address arrives  b b  c c  d  e e   many company policy two router connecting company internet provide redundancy case one go policy still possible nat explain answer  explained arp protocol friend done say i ve got arp provides service network layer part data link layer say  arp rarp map address one space another respect similar however implementation fundamentally different major way differ  describe way reassemble ip fragment destination  ip datagram reassembly algorithm timer avoid lost fragment tie reassembly buffer forever suppose datagram fragmented four fragment first three fragment arrive last one delayed eventually timer go three fragment receiver s memory discarded little later last fragment stumble done  ip atm checksum cover header data suppose design chosen  person life boston travel minneapolis taking portable computer surprise lan destination minneapolis wireless ip lan plug still necessary go entire business home agent foreign agent make email traffic arrive correctly  ipv us byte address block  million address allocated every picosecond long address last  protocol field used ipv header present fixed ipv header  ipv protocol introduced arp protocol changed change conceptual technical  write program simulate routing using flooding packet contain counter decremented hop counter get zero packet discarded time discrete line handling one packet per time interval make three version program line flooded line except input line flooded statically chosen best k line flooded compare flooding deterministic routing k  term delay bandwidth used  write program simulates computer network using discrete time first packet router queue make one hop per time interval router finite number buffer packet arrives room discarded retransmitted instead endtoend protocol complete timeouts acknowledgement packet eventually regenerates packet source  router plot throughput network function endtoend timeout interval parameterized error rate  write function forwarding ip router procedure one parameter ip address also access global table consisting array triple triple contains three integer ip address subnet mask outline line use function look ip address table using cidr return line use value  use traceroute unix tracert window program trace route computer various university continent make list transoceanic link discovered site try wwwberkeleyedu california wwwmitedu massachusetts wwwvunl amsterdam wwwuclacuk london wwwusydeduau sydney wwwutokyoacjp tokyo wwwuctacza cape town  chapter  transport layer transport layer another layer heart whole protocol hierarchy task provide reliable costeffective data transport source machine destination machine independently physical network network currently use without transport layer whole concept layered protocol would make little sense chapter study transport layer detail including service design protocol performance  transport service following section provide introduction transport service look kind service provided application layer make issue transport service concrete examine two set transport layer primitive first come simple hypothetical one show basic idea come interface commonly used internet  service provided upper layer ultimate goal transport layer provide efficient reliable costeffective service user normally process application layer achieve goal transport layer make use service provided network layer hardware andor software within transport layer work called transport entity transport entity located operating system kernel separate user process library package bound network application conceivably network interface card logical relationship network transport application layer illustrated fig  figure  network transport application layer two type network service connectionoriented connectionless also two type transport service connectionoriented transport service similar connectionoriented network service many way case connection three phase establishment data transfer release addressing flow control also similar layer furthermore connectionless transport service also similar connectionless network service  obvious question transport layer service similar network layer service two distinct layer one layer adequate answer subtle crucial go back fig  transport code run entirely user machine network layer mostly run router operated carrier least wide area network happens network layer offer inadequate service suppose frequently loses packet happens router crash time time problem occur s user real control network layer solve problem poor service using better router putting error handling data link layer possibility put top network layer another layer improves quality service connectionoriented subnet transport entity informed halfway long transmission network connection abruptly terminated indication happened data currently transit set new network connection remote transport entity using new network connection send query peer asking data arrived pick left essence existence transport layer make possible transport service reliable underlying network service lost packet mangled data detected compensated transport layer furthermore transport service primitive implemented call library procedure order make independent network service primitive network service call may vary considerably network network eg connectionless lan service may quite different connectionoriented wan service hiding network service behind set transport service primitive changing network service merely requires replacing one set library procedure another one thing different underlying service thanks transport layer application programmer write code according standard set primitive program work wide variety network without worry dealing different subnet interface unreliable transmission real network flawless service primitive guaranteed never ever change transport layer might needed however real world fulfills key function isolating upper layer technology design imperfection subnet reason many people traditionally made distinction layer   one hand layer  bottom four layer seen transport service provider whereas upper layer transport service user distinction provider versus user considerable impact design layer put transport layer key position since form major boundary provider user reliable data transmission service  transport service primitive allow user access transport service transport layer must provide operation application program transport service interface transport service interface section first examine simple hypothetical transport service interface see bare essential following section look real example transport service similar network service also important difference main difference network service intended model service offered real network wart real network lose packet network service generally unreliable  connectionoriented transport service contrast reliable course real network errorfree precisely purpose transport layer—to provide reliable service top unreliable network example consider two process connected pipe unix assume connection perfect want know acknowledgement lost packet congestion anything like want  percent reliable connection process put data one end pipe process b take connectionoriented transport service about—hiding imperfection network service user process assume existence errorfree bit stream aside transport layer also provide unreliable datagram service however relatively little say mainly concentrate connectionoriented transport service chapter nevertheless application clientserver computing streaming multimedia benefit connectionless transport say little bit later second difference network service transport service service intended network service used transport entity user write transport entity thus user program ever see bare network service contrast many program thus programmer see transport primitive consequently transport service must convenient easy use get idea transport service might like consider five primitive listed fig  transport interface truly bare bone give essential flavor connectionoriented transport interface allows application program establish use release connection sufficient many application figure  primitive simple transport service see primitive might used consider application server number remote client start server executes listen primitive typically calling library procedure make system call block server client turn client want talk server executes connect primitive transport entity carry primitive blocking caller sending packet server encapsulated payload packet transport layer message server s transport entity quick note terminology order lack better term reluctantly use somewhat ungainly acronym tpdu transport protocol data unit message sent transport entity transport entity thus tpdus exchanged transport layer contained packet exchanged network layer turn packet contained frame exchanged data link layer frame arrives data link layer process frame header pass content frame payload field network entity network entity process packet header pass content packet payload transport entity nesting illustrated fig   figure  nesting tpdus packet frame getting back clientserver example client s connect call cause connection request tpdu sent server arrives transport entity check see server blocked listen ie interested handling request unblocks server sends connection accepted tpdu back client tpdu arrives client unblocked connection established data exchanged using send receive primitive simplest form either party blocking receive wait party send tpdu arrives receiver unblocked process tpdu send reply long side keep track whose turn send scheme work fine note transport layer even simple unidirectional data exchange complicated network layer every data packet sent also acknowledged eventually packet bearing control tpdus also acknowledged implicitly explicitly acknowledgement managed transport entity using network layer protocol visible transport user similarly transport entity need worry timer retransmissions none machinery visible transport user transport user connection reliable bit pipe one user stuff bit magically appear end ability hide complexity reason layered protocol powerful tool connection longer needed must released free table space within two transport entity disconnection two variant asymmetric symmetric asymmetric variant either transport user issue disconnect primitive result disconnect tpdu sent remote transport entity upon arrival connection released symmetric variant direction closed separately independently one one side disconnect mean data send still willing accept data partner model connection released side done disconnect state diagram connection establishment release simple primitive given fig  transition triggered event either primitive executed local transport user incoming packet simplicity assume tpdu separately acknowledged also assume symmetric disconnection model used client going first please note model quite unsophisticated look realistic model later figure  state diagram simple connection management scheme transition labeled italic caused packet arrival solid line show client s state sequence dashed line show server s state sequence   berkeley socket let u briefly inspect another set transport primitive socket primitive used berkeley unix tcp primitive widely used internet programming listed fig  roughly speaking follow model first example offer feature flexibility look corresponding tpdus discussion wait study tcp later chapter figure  socket primitive tcp first four primitive list executed order server socket primitive creates new end point allocates table space within transport entity parameter call specify addressing format used type service desired eg reliable byte stream protocol successful socket call return ordinary file descriptor use succeeding call way open call newlycreated socket network address assigned using bind primitive server bound address socket remote client connect reason socket call create address directly process care address eg using address year everyone know address whereas others care  next come listen call allocates space queue incoming call case several client try connect time contrast listen first example socket model listen blocking call block waiting incoming connection server executes accept primitive tpdu asking connection arrives transport entity creates new socket property original one return file descriptor server fork process thread handle connection new socket go back waiting next connection original socket accept return normal file descriptor used reading writing standard way file let u look client side socket must first created using socket primitive bind required since address used matter server connect primitive block caller actively start connection process completes ie appropriate tpdu received server client process unblocked connection established side use send recv transmit receive data fullduplex connection standard unix read write system call also used none special option send recv required connection release socket symmetric side executed close primitive connection released  example socket programming internet file server example socket call used consider client server code fig   primitive internet file server along example client us code many limitation discussed principle server code compiled run unix system connected internet client code compiled run unix machine internet anywhere world client code executed appropriate parameter fetch file server access machine file written standard output course redirected file pipe let u look server code first start including standard header last three contain main internetrelated definition data structure next come definition server port  number chosen arbitrarily number   work well long use process course client server use port server ever becomes worldwide hit unlikely given primitive assigned permanent port  appear wwwianaorg next two line server define two constant needed first one determines chunk size used file transfer second one determines many pending connection held additional one discarded upon arrival declaration local variable server code begin start initializing data structure hold server s ip address data structure soon bound server s socket call memset set data structure  three assignment following fill three field last contains server s port function htonl htons converting value standard format code run correctly bigendian machine eg sparc littleendian machine eg pentium exact semantics relevant next server creates socket check error indicated  production version code error message could trifle explanatory call setsockopt needed allow port reused server run indefinitely fielding  request request ip address bound socket check made see call bind succeeded final step initialization call listen announce server s willingness accept incoming call tell system hold queue size case new request arrive server still processing current one queue full additional request arrive quietly discarded point server enters main loop never leaf way stop kill outside call accept block server client try establish connection accept call succeeds return file descriptor used reading writing analogous file descriptor used read write pipe however unlike pipe unidirectional socket bidirectional sa socket address used reading connection also writing connection established server read file name name yet available server block waiting getting file name server open file enters loop alternately read block file writes socket entire file copied server close file connection wait next connection show repeat loop forever let u look client code understand work necessary understand invoked assuming called client typical call client flitscsvunl usrtomfilename f call work server already running flitscsvunl file usrtomfilename exists server read access call successful file transferred internet written f client program exit since server continues transfer client started get file client code start includes declaration execution begin checking see called right number argument argc  mean program name plus two argument note argv  contains server s name eg flitscsvunl converted ip address gethostbyname function us dns look name study dns chap  next socket created initialized client attempt establish tcp connection server using connect server running named machine attached server port either idle room listen queue connection eventually established using connection client sends name file writing socket number byte sent one larger name proper since byte terminating name must also sent tell server name end figure   client code using socket server code next page view full width page contains client program request file server program next page server responds sending whole file include systypesh include syssocketh include netinetinh include netdbh  define serverport  arbitrary client server must agree define bufsize  block transfer size int main int argc char argv int c byte char buf bufsize buffer incoming file struct hostent h info server struct sockaddrin channel hold ip address argc  fatal usage client servername filename h gethostbyname argv  look host s ip address h fatal gethostbyname failed socket pfinet sockstream ipprototcp f  fatal socket memset channel  sizeof channel channelsinfamily afinet memcpy channelsinaddrsaddr h haddr h hlength channelsinport htons serverport c connect struct sockaddr channel sizeof channel c  fatal connect failed connection established send file name including  byte end write argv  strlen argv   go get file write standard output  byte read buf bufsize read socket byte  exit  check end file write  buf byte write standard output fatal char string printf sn string exit  view full width include systypesh server code include sysfcntlh include syssocketh include netinetinh include netdbh define serverport  arbitrary client server must agree define bufsize  block transfer size define queuesize  int main int argc char argv int b l fd sa byte  char buf bufsize buffer outgoing file struct sockaddrin channel hold ip address build address structure bind socket memset channel  sizeof channel zerochannel  channelsinfamily afinet channelsinaddrsaddr htonl inaddrany channelsinport htons serverport passive open wait connection socket afinet sockstream ipprototcp createsocket  fatal socket failed setsockopt solsocket soreuseaddr char sizeof b bind struct sockaddr channel sizeof channel b  fatal bind failed l listen queuesize specify queue size l  fatal listen failed socket set bound wait connection process  sa accept   block connection request sa  fatal accept failed read sa buf bufsize read file name socket get return file fd open buf ordonly open file sent back fd  fatal open failed  byte read fd buf bufsize read file byte  break check end file write sa buf byte write byte socket close fd closefile close sa close connection client enters loop reading file block block socket copying standard output done exit procedure fatal print error message exit server need procedure omitted due lack space page since client server compiled separately normally run different computer share code fatal two program well material related book fetched book s web site http wwwprenhallcomtanenbaum clicking web site link next photo cover downloaded compiled unix system eg solaris bsd linux cc –o client clientc –lsocket –lnsl cc –o server serverc –lsocket –lnsl server started typing server  client need two argument discussed window version also available web site record server last word serverdom error checking meager error reporting mediocre clearly never heard security using bare unix system call last word platform independence also make assumption technically illegal assuming file name fit buffer transmitted atomically since handle request strictly sequentially single thread performance poor shortcoming notwithstanding complete working internet file server exercise reader invited improve information programming socket see stevens   element transport protocol transport service implemented transport protocol used two transport entity way transport protocol resemble data link protocol studied detail chap  deal error control sequencing flow control among issue however significant difference two also exist difference due major dissimilarity environment two protocol operate shown fig  data link layer two router communicate directly via physical channel whereas transport layer physical channel replaced entire subnet difference many important implication protocol shall see chapter figure  environment data link layer b environment transport layer one thing data link layer necessary router specify router want talk to—each outgoing line uniquely specifies particular router transport layer explicit addressing destination required another thing process establishing connection wire fig  simple end always unless crashed case either way much transport layer initial connection establishment complicated see another exceedingly annoying difference data link layer transport layer potential existence storage capacity subnet router sends frame may arrive lost bounce around go hiding far corner world suddenly emerge inopportune moment  sec later subnet us datagrams adaptive routing inside nonnegligible probability packet may stored number second delivered later consequence subnet s ability store packet sometimes disastrous require use special protocol  final difference data link transport layer one amount rather kind buffering flow control needed layer presence large dynamically varying number connection transport layer may require different approach used data link layer chap  protocol allocate fixed number buffer line frame arrives buffer always available transport layer larger number connection must managed make idea dedicating many buffer one le attractive following section examine important issue others  addressing application eg user process wish set connection remote application process must specify one connect connectionless transport problem message sent method normally used define transport address process listen connection request internet end point called port atm network called aalsaps use generic term tsap transport service access point analogous end point network layer ie network layer address called nsaps ip address example nsaps figure  illustrates relationship nsap tsap transport connection application process client server attach tsap establish connection remote tsap connection run nsaps host shown purpose tsaps network computer single nsap way needed distinguish multiple transport end point share nsap figure  tsaps nsaps transport connection possible scenario transport connection follows  time day server process host  attache tsap  wait incoming call process attache tsap outside networking model depends entirely local operating system call listen might used example  application process host  want find timeofday issue connect request specifying tsap  source tsap  destination action ultimately result transport connection established application process host  server  host    application process sends request time  time server process responds current time  transport connection released note may well server host  attached tsaps waiting incoming connection arrive nsap picture painted fine except swept one little problem rug user process host  know timeofday server attached tsap  one possibility timeofday server attaching tsap  year gradually network user learned model service stable tsap address listed file wellknown place etcservices file unix system list server permanently attached port stable tsap address work small number key service never change eg web server user process general often want talk user process exist short time tsap address known advance furthermore potentially many server process rarely used wasteful active listening stable tsap address day long short better scheme needed one scheme shown fig  simplified form known initial connection protocol instead every conceivable server listening wellknown tsap machine wish offer service remote user special process server act proxy le heavily used server listens set port time waiting connection request potential user service begin connect request specifying tsap address service want server waiting get connection process server shown fig  figure  user process host  establishes connection timeofday server host  get incoming request process server spawn requested server allowing inherit existing connection user new server requested work process server go back listening new request shown fig  b  initial connection protocol work fine server created needed many situation service exist independently process server file server example need run special hardware machine disk created onthefly someone want talk handle situation alternative scheme often used model exists special process called name server sometimes directory server find tsap address corresponding given service name time day user set connection name server listens wellknown tsap user sends message specifying service name name server sends back tsap address user release connection name server establishes new one desired service model new service created must register name server giving service name typically ascii string tsap name server record information internal database query come later know answer function name server analogous directory assistance operator telephone system—it provides mapping name onto number telephone system essential address wellknown tsap used name server process server initial connection protocol indeed well known know number information operator call information operator find think number dial information obvious try foreign country sometime  connection establishment establishing connection sound easy actually surprisingly tricky first glance would seem sufficient one transport entity send connection request tpdu destination wait connection accepted reply problem occurs network lose store duplicate packet behavior cause serious complication imagine subnet congested acknowledgement hardly ever get back time packet time retransmitted two three time suppose subnet us datagrams inside every packet follows different route packet might get stuck traffic jam inside subnet take long time arrive stored subnet pop much later worst possible nightmare follows user establishes connection bank sends message telling bank transfer large amount money account notentirelytrustworthy person release connection unfortunately packet scenario duplicated stored subnet connection released packet pop subnet arrive destination order asking bank establish new connection transfer money release connection bank way telling duplicate must assume second independent transaction transfer money remainder section study problem delayed duplicate special emphasis algorithm establishing connection reliable way nightmare like one happen crux problem existence delayed duplicate attacked various way none satisfactory one way use throwaway transport address approach time transport address needed new one generated connection released address discarded never used strategy make process server model fig  impossible  another possibility give connection connection identifier ie sequence number incremented connection established chosen initiating party put tpdu including one requesting connection connection released transport entity could update table listing obsolete connection peer transport entity connection identifier pair whenever connection request come could checked table see belonged previouslyreleased connection unfortunately scheme basic flaw requires transport entity maintain certain amount history information indefinitely machine crash loses memory longer know connection identifier already used instead need take different tack rather allowing packet live forever within subnet must devise mechanism kill aged packet still hobbling ensure packet life longer known time problem becomes somewhat manageable packet lifetime restricted known maximum using one following technique  restricted subnet design  putting hop counter packet  timestamping packet first method includes method prevents packet looping combined way bounding congestion delay known longest possible path second method consists hop count initialized appropriate value decremented time packet forwarded network protocol simply discard packet whose hop counter becomes zero third method requires packet bear time created router agreeing discard packet older agreedupon time latter method requires router clock synchronized nontrivial task unless synchronization achieved external network example using gps radio station broadcast precise time periodically practice need guarantee packet dead also acknowledgement also dead introduce small multiple true maximum packet lifetime multiple protocol dependent simply effect making longer wait time packet sent sure trace gone neither acknowledgement suddenly appear blue complicate matter packet lifetime bounded possible devise foolproof way establish connection safely method described due tomlinson  solves problem introduces peculiarity method refined sunshine dalal  variant widely used practice including tcp get around problem machine losing memory crash tomlinson proposed equipping host timeofday clock clock different host need synchronized clock assumed take form binary counter increment uniform interval furthermore number bit counter must equal exceed number bit sequence number last important clock assumed continue running even host go basic idea ensure two identically numbered tpdus never outstanding time connection set loworder k bit clock used initial sequence number also k bit thus unlike protocol chap  connection start numbering tpdus different initial sequence number sequence space large time sequence number wrap around old tpdus sequence  number long gone linear relation time initial sequence number shown fig  figure  tpdus may enter forbidden region b resynchronization problem transport entity agreed initial sequence number sliding window protocol used data flow control reality initial sequence number curve shown heavy line linear staircase since clock advance discrete step simplicity ignore detail problem occurs host crash come transport entity know sequence space one solution require transport entity idle sec recovery let old tpdus die however complex internetwork may large strategy unattractive avoid requiring sec dead time crash necessary introduce new restriction use sequence number best see need restriction mean example let maximum packet lifetime  sec let clock tick per second shown heavy line fig  initial sequence number connection opened time x x imagine  sec ordinary data tpdu sent previously opened connection  given sequence number  call tpdu x immediately sending tpdu x host crash quickly restarts  begin reopening connection    reopens connection  using initial sequence number  required within next  sec sends data tpdus   thus  new tpdu sequence number  connection  injected subnet unfortunately tpdu x still exists arrive receiver new tpdu  tpdu x accepted correct tpdu  rejected duplicate prevent problem must prevent sequence number used ie assigned new tpdus time potential use initial sequence number illegal combination time sequence number shown forbidden region fig   sending tpdu connection transport entity must read clock check see forbidden region protocol get trouble two distinct way host sends much data fast newlyopened connection actual sequence number versus time curve may rise steeply initial sequence number versus time curve mean maximum data rate connection one tpdu per clock tick also mean transport entity must wait clock tick opening new connection crash restart lest number used twice point argue favor short clock tick µsec le  unfortunately entering forbidden region underneath sending fast way get trouble fig  b see data rate le clock rate curve actual sequence number used versus time eventually run forbidden region left greater slope actual sequence number curve longer event delayed stated sending every tpdu transport entity must check see enter forbidden region either delay tpdu sec resynchronize sequence number clockbased method solves delayed duplicate problem data tpdus method useful connection must first established since control tpdus may also delayed potential problem getting side agree initial sequence number suppose example connection established host  send connection request tpdu containing proposed initial sequence number destination port number remote peer host  receiver host  acknowledges request sending connection accepted tpdu back connection request tpdu lost delayed duplicate connection request suddenly show host  connection established incorrectly solve problem tomlinson  introduced threeway handshake establishment protocol require side begin sending sequence number used synchronization method global clock method normal setup procedure host  initiate shown fig  host  chooses sequence number x sends connection request tpdu containing host  host  reply ack tpdu acknowledging x announcing initial sequence number finally host  acknowledges host  s choice initial sequence number first data tpdu sends figure  three protocol scenario establishing connection using threeway handshake cr denotes connection request normal operation b old duplicate connection request appearing nowhere c duplicate connection request duplicate ack  let u see threeway handshake work presence delayed duplicate control tpdus fig  b first tpdu delayed duplicate connection request old connection tpdu arrives host  without host  s knowledge host  reacts tpdu sending host  ack tpdu effect asking verification host  indeed trying set new connection host  reject host  s attempt establish connection host  realizes tricked delayed duplicate abandon connection way delayed duplicate damage worst case delayed connection request ack floating around subnet case shown fig  c previous example host  get delayed connection request reply point crucial realize host  proposed using initial sequence number host  host  traffic knowing full well tpdus containing sequence number acknowledgement still existence second delayed tpdu arrives host  fact z acknowledged rather tell host  old duplicate important thing realize combination old tpdus cause protocol fail connection set accident one want  connection release releasing connection easier establishing one nevertheless pitfall one might expect mentioned earlier two style terminating connection asymmetric release symmetric release asymmetric release way telephone system work one party hang connection broken symmetric  release treat connection two separate unidirectional connection requires one released separately asymmetric release abrupt may result data loss consider scenario fig  connection established host  sends tpdu arrives properly host  host  sends another tpdu unfortunately host  issue disconnect second tpdu arrives result connection released data lost figure  abrupt disconnection loss data clearly sophisticated release protocol needed avoid data loss one way use symmetric release direction released independently one host continue receive data even sent disconnect tpdu symmetric release job process fixed amount data send clearly know sent situation determining work done connection terminated obvious one envision protocol host  say done done host  responds done goodbye connection safely released unfortunately protocol always work famous problem illustrates issue called twoarmy problem imagine white army encamped valley shown fig  surrounding hillside blue army white army larger either blue army alone together blue army larger white army either blue army attack defeated two blue army attack simultaneously victorious figure  twoarmy problem  blue army want synchronize attack however communication medium send messenger foot valley might captured message lost ie use unreliable communication channel question protocol exist allows blue army win suppose commander blue army  sends message reading i propose attack dawn march  suppose message arrives commander blue army  agrees reply get safely back blue army  attack happen probably commander  know reply got blue army  attack would foolish charge battle let u improve protocol making threeway handshake initiator original proposal must acknowledge response assuming message lost blue army  get acknowledgement commander blue army  hesitate know acknowledgement got know blue army  attack could make fourway handshake protocol help either fact proven protocol exists work suppose protocol exist either last message protocol essential remove unessential message left protocol every message essential happens final message get said essential lost attack take place since sender final message never sure arrival risk attacking worse yet blue army know attack either see relevance twoarmy problem releasing connection substitute disconnect attack neither side prepared disconnect convinced side prepared disconnect disconnection never happen practice one usually prepared take risk releasing connection attacking white army situation entirely hopeless figure  illustrates four scenario releasing using threeway handshake protocol infallible usually adequate figure  four protocol scenario releasing connection normal case threeway handshake b final ack lost c response lost response lost subsequent drs lost  fig  see normal case one user sends dr disconnection request tpdu initiate connection release arrives recipient sends back dr tpdu start timer case dr lost dr arrives original sender sends back ack tpdu release connection finally ack tpdu arrives receiver also release connection releasing connection mean transport entity remove information connection table currently open connection signal connection s owner transport user somehow action different transport user issuing disconnect primitive final ack tpdu lost shown fig  b situation saved timer timer expires connection released anyway consider case second dr lost user initiating disconnection receive expected response time start fig  c see work assuming second time tpdus lost tpdus delivered correctly time last scenario fig  fig  c except assume repeated attempt retransmit dr also fail due lost tpdus n retries sender give release connection meanwhile receiver time also exit protocol usually suffices theory fail initial dr n retransmissions lost sender give release connection side know  nothing attempt disconnect still fully active situation result halfopen connection could avoided problem allowing sender give n retries forcing go forever get response however side allowed time sender indeed go forever response ever forthcoming allow receiving side time protocol hang fig  one way kill halfopen connection rule saying tpdus arrived certain number second connection automatically disconnected way one side ever disconnect side detect lack activity also disconnect course rule introduced necessary transport entity timer stopped restarted whenever tpdu sent timer expires dummy tpdu transmitted keep side disconnecting hand automatic disconnect rule used many dummy tpdus row lost otherwise idle connection first one side side automatically disconnect belabor point clear releasing connection without data loss nearly simple first appears  flow control buffering examined connection establishment release detail let u look connection managed use one key issue come flow control way flow control problem transport layer data link layer way different basic similarity layer sliding window scheme needed connection keep fast transmitter overrunning slow receiver main difference router usually relatively line whereas host may numerous connection difference make impractical implement data link buffering strategy transport layer data link protocol chap  frame buffered sending router receiving router protocol  example sender receiver required dedicate max seq  buffer line half input half output host maximum say  connection bit sequence number protocol would require  buffer data link layer sending side must buffer outgoing frame might retransmitted subnet provides datagram service sending transport entity must also buffer reason receiver know sender buffer tpdus acknowledged receiver may may dedicate specific buffer specific connection see fit receiver may example maintain single buffer pool shared connection tpdu come attempt made dynamically acquire new buffer one available tpdu accepted otherwise discarded since sender prepared retransmit tpdus lost subnet harm done receiver drop tpdus although resource wasted sender keep trying get acknowledgement summary network service unreliable sender must buffer tpdus sent data link layer however reliable network service tradeoff become possible particular sender know receiver always buffer space need retain copy tpdus sends however receiver guarantee every incoming tpdu accepted sender buffer anyway latter case sender trust network layer s acknowledgement acknowledgement mean tpdu arrived accepted come back important point later  even receiver agreed buffering still remains question buffer size tpdus nearly size natural organize buffer pool identicallysized buffer one tpdu per buffer fig  however wide variation tpdu size character typed terminal thousand character file transfer pool fixedsized buffer present problem buffer size chosen equal largest possible tpdu space wasted whenever short tpdu arrives buffer size chosen le maximum tpdu size multiple buffer needed long tpdus attendant complexity figure  chained fixedsize buffer b chained variablesized buffer c one large circular buffer per connection another approach buffer size problem use variablesized buffer fig  b advantage better memory utilization price complicated buffer management third possibility dedicate single large circular buffer per connection fig  c system also make good use memory provided connection heavily loaded poor connection lightly loaded optimum tradeoff source buffering destination buffering depends type traffic carried connection lowbandwidth bursty traffic produced interactive terminal better dedicate buffer rather acquire dynamically end since sender sure receiver able acquire buffer sender must retain copy tpdu acknowledged hand file transfer highbandwidth traffic better receiver dedicate full window buffer allow data flow maximum speed thus lowbandwidth bursty traffic better buffer sender highbandwidth smooth traffic better buffer receiver connection opened closed traffic pattern change sender receiver need dynamically adjust buffer allocation consequently transport protocol allow sending host request buffer space end buffer could allocated per connection collectively connection running two host alternatively receiver knowing buffer situation knowing offered traffic could tell sender i reserved x buffer number open connection increase may necessary allocation reduced protocol provide possibility  reasonably general way manage dynamic buffer allocation decouple buffering acknowledgement contrast sliding window protocol chap  dynamic buffer management mean effect variablesized window initially sender request certain number buffer based perceived need receiver grant many afford every time sender transmits tpdu must decrement allocation stopping altogether allocation reach zero receiver separately piggyback acknowledgement buffer allocation onto reverse traffic figure  show example dynamic window management might work datagram subnet bit sequence number assume buffer allocation information travel separate tpdus shown piggybacked onto reverse traffic initially want eight buffer granted four sends three tpdus third lost tpdu  acknowledges receipt tpdus including sequence number  thus allowing release buffer furthermore informs permission send three tpdus starting beyond  ie tpdus    know already sent number  think may send tpdus   proceeds point blocked must wait buffer allocation timeoutinduced retransmissions line  however may occur blocked since use buffer already allocated line  b acknowledges receipt tpdus including  refuse let continue situation impossible fixed window protocol chap  next tpdu b allocates another buffer allows continue figure  dynamic buffer allocation arrow show direction transmission ellipsis indicates lost tpdu potential problem buffer allocation scheme kind arise datagram network control tpdus get lost look line  b allocated buffer allocation tpdu lost since control tpdus sequenced timed deadlocked prevent situation host periodically send control tpdus giving acknowledgement buffer status connection way deadlock broken sooner later tacitly assumed limit imposed sender s data rate amount buffer space available receiver memory price continue fall dramatically may become feasible equip host much memory lack buffer rarely ever problem  buffer space longer limit maximum flow another bottleneck appear carrying capacity subnet adjacent router exchange x packetssec k disjoint path pair host way host exchange kx tpdussec matter much buffer space available end sender push hard ie sends kx tpdussec subnet become congested unable deliver tpdus fast coming needed mechanism based subnet s carrying capacity rather receiver s buffering capacity clearly flow control mechanism must applied sender prevent many unacknowledged tpdus outstanding belsnes  proposed using sliding window flow control scheme sender dynamically adjusts window size match network s carrying capacity network handle c tpdussec cycle time including transmission propagation queueing processing receiver return acknowledgement r sender s window cr window size sender normally operates pipeline full small decrease network performance cause block order adjust window size periodically sender could monitor parameter compute desired window size carrying capacity determined simply counting number tpdus acknowledged time period dividing time period measurement sender send fast make sure network s carrying capacity low input rate factor limiting acknowledgement rate time required transmitted tpdu acknowledged measured exactly running mean maintained since network capacity available given flow varies time window size adjusted frequently track change carrying capacity see later internet us similar scheme  multiplexing multiplexing several conversation onto connection virtual circuit physical link play role several layer network architecture transport layer need multiplexing arise number way example one network address available host transport connection machine use tpdu come way needed tell process give situation called upward multiplexing shown fig  figure four distinct transport connection use network connection eg ip address remote host figure  upward multiplexing b downward multiplexing multiplexing also useful transport layer another reason suppose example subnet us virtual circuit internally imposes maximum data rate  one user need bandwidth one virtual circuit provide way open multiple network connection distribute traffic among roundrobin basis indicated fig  b modus operandi called downward multiplexing k network connection open effective bandwidth increased factor k common example downward multiplexing occurs home user isdn line line provides two separate connection  kbps using call internet provider dividing traffic line make possible achieve effective bandwidth  kbps  crash recovery host router subject crash recovery crash becomes issue transport entity entirely within host recovery network router crash straightforward network layer provides datagram service transport entity expect lost tpdus time know cope network layer provides connectionoriented service loss virtual circuit handled establishing new one probing remote transport entity ask tpdus received one received latter one retransmitted troublesome problem recover host crash particular may desirable client able continue working server crash quickly reboot illustrate difficulty let u assume one host client sending long file another host file server using simple stopandwait protocol transport layer server simply pass incoming tpdus transport user one one partway transmission server crash come back table reinitialized longer know precisely attempt recover previous status server might send broadcast tpdu host announcing crashed requesting client inform status open connection client one two state one tpdu outstanding s tpdus outstanding s based state information client must decide whether retransmit recent tpdu first glance would seem obvious client retransmit unacknowledged tpdu outstanding ie state s learns crash however closer inspection reveals difficulty naive approach consider example situation server s transport entity first sends acknowledgement acknowledgement sent writes application process writing tpdu onto output stream sending acknowledgement two distinct event done simultaneously crash occurs acknowledgement sent write done client receive acknowledgement thus state s crash recovery announcement arrives client therefore retransmit incorrectly thinking tpdu arrived decision client lead missing tpdu point may thinking that problem solved easily reprogram transport entity first write send acknowledgement try imagine write done crash occurs acknowledgement sent client state s thus retransmit leading undetected duplicate tpdu output stream server application process matter client server programmed always situation protocol fails recover properly server programmed one two way acknowledge first write first client programmed one four way always retransmit last tpdu never retransmit last tpdu retransmit state s retransmit state s give eight combination shall see combination set event make protocol fail  three event possible server sending acknowledgement writing output process w crashing c three event occur six different ordering ac w awc c aw c wa wac wc parenthesis used indicate neither w follow c ie crashed crashed figure  show eight combination client server strategy valid event sequence one notice strategy sequence event cause protocol fail example client always retransmits awc event generate undetected duplicate even though two event work properly figure  different combination client server strategy making protocol elaborate help even client server exchange several tpdus server attempt write client know exactly happen client way knowing whether crash occurred write conclusion inescapable ground rule simultaneous event host crash recovery made transparent higher layer put general term result restated recovery layer n crash done layer n  higher layer retains enough status information mentioned transport layer recover failure network layer provided end connection keep track problem get u issue socalled endtoend acknowledgement really mean principle transport protocol endtoend chained like lower layer consider case user entering request transaction remote database suppose remote transport entity programmed first pas tpdus next layer acknowledge even case receipt acknowledgement back user s machine necessarily mean remote host stayed long enough actually update database truly endtoend acknowledgement whose receipt mean work actually done lack thereof mean probably impossible achieve point discussed detail saltzer et al   simple transport protocol make idea discussed far concrete section study example transport layer detail abstract service primitive use connectionoriented primitive fig  choice connectionoriented primitive make example similar simpler popular tcp protocol   example service primitive first problem express transport primitive concretely connect easy library procedure connect called appropriate parameter necessary establish connection parameter local remote tsaps call caller blocked ie suspended transport entity try set connection connection succeeds caller unblocked start transmitting data process want able accept incoming call call listen specifying particular tsap listen process block remote process attempt establish connection tsap note model highly asymmetric one side passive executing listen waiting something happens side active initiate connection interesting question arises active side begin first one strategy connection attempt fail listener remote tsap another strategy initiator block possibly forever listener appears compromise used example hold connection request receiving end certain time interval process host call listen timer go connection established otherwise rejected caller unblocked given error return release connection use procedure disconnect side disconnected connection released word using symmetric disconnection model data transmission precisely problem connection establishment sending active receiving passive use solution data transmission connection establishment active call send transmits data passive call receive block tpdu arrives concrete service definition therefore consists five primitive connect listen disconnect send receive primitive corresponds exactly library procedure executes primitive parameter service primitive library procedure follows connum listen local connum connect local remote status send connum buffer byte status receive connum buffer byte status disconnect connum listen primitive announces caller s willingness accept connection request directed indicated tsap user primitive blocked attempt made connect timeout connect primitive take two parameter local tsap ie transport address local remote tsap remote try establish transport connection two succeeds return connum nonnegative number used identify connection subsequent call fails reason failure put connum negative number simple model tsap may participate one transport connection possible reason failure one transport address currently use reason remote host illegal local address illegal remote address send primitive transmits content buffer message indicated transport connection several unit need possible error returned status connection illegal buffer address negative count  receive primitive indicates caller s desire accept data size incoming message placed byte remote process released connection buffer address illegal eg outside user s program status set error code indicating nature problem disconnect primitive terminates transport connection parameter connum tell one possible error connum belongs another process connum valid connection identifier error code  success returned status  example transport entity looking code example transport entity please sure realize example analogous early example presented chap  pedagogical purpose serious proposal many technical detail extensive error checking would needed production system omitted sake simplicity transport layer make use network service primitive send receive tpdus example need choose network service primitive use one choice would unreliable datagram service keep example simple made choice unreliable datagram service transport code would large complex mostly dealing lost delayed packet furthermore idea already discussed length chap  instead chosen use connectionoriented reliable network service way focus transport issue occur lower layer include connection establishment connection release credit management among others simple transport service built top atm network might look something like general transport entity may part host s operating system may package library routine running within user s address space simplicity example programmed though library package change needed make part operating system minimal primarily user buffer accessed worth noting however example transport entity really separate entity part user process particular user executes primitive block listen entire transport entity block well design fine host singleuser process host multiple user would natural transport entity separate process distinct user process interface network layer via procedure net net shown six parameter first come connection identifier map onetoone onto network virtual circuit next come q bit set  indicate control message data message follows next packet respectively packet type chosen set six packet type listed fig  finally pointer data integer giving number byte data figure  network layer packet used example  call net transport entity fill parameter network layer read call net network layer dismembers incoming packet transport entity passing information procedure parameter rather passing actual outgoing incoming packet transport layer shielded detail network layer protocol transport entity attempt send packet underlying virtual circuit s sliding window full suspended within net room window mechanism entirely transparent transport entity controlled network layer using command analog ous enable transport layer disable transport layer command used protocol chap  management packet layer window also done network layer addition transparent suspension mechanism explicit sleep wakeup procedure shown also called transport entity procedure sleep called transport entity logically blocked waiting external event happen generally arrival packet sleep called transport entity user process course stop executing actual code transport entity shown fig  connection always one seven state follows figure  example transport entity    idle — connection established yet  waiting — connect executed call request sent  queued — call request arrived listen yet  established — connection established  sending — user waiting permission send packet  receiving — receive done  disconnecting — disconnect done locally transition state occur following event occur primitive executed packet arrives timer expires procedure shown fig  two type directly callable user program packet arrival clock different however spontaneously triggered external event arrival packet clock ticking respectively effect interrupt routine assume never invoked transport entity procedure running user process sleeping executing outside transport entity may called property crucial correct functioning code existence q qualifier bit packet header allows u avoid overhead transport protocol header ordinary data message sent data packet q  transport protocol control message one credit example sent data packet q  control message detected processed receiving transport entity main data structure used transport entity array conn one record potential connection record maintains state connection including transport address either end number message sent received connection current state user buffer pointer number byte current message sent received far bit indicating remote user issued disconnect timer permission counter used enable sending message field used simple example complete transport entity would need perhaps conn entry assumed initialized idle state user call connect network layer instructed send call request packet remote machine user put sleep call request packet arrives side transport entity interrupted run packet arrival check whether local user listening specified address call accepted packet sent back remote user awakened call request queued timeout clock tick listen done within period connection established otherwise time rejected clear request packet lest block forever although eliminated transport protocol header still need way keep track packet belongs transport connection since multiple connection may exist simultaneously simplest approach use network layer virtual circuit number transport connection number furthermore virtual circuit number also used index conn array packet come network layer virtual circuit k belongs transport connection k whose state record conn k connection initiated host connection number chosen originating transport entity incoming call network layer make choice choosing unused virtual circuit number avoid provide manage buffer within transport entity use flow control mechanism different normal sliding window user call receive special credit message sent transport entity sending machine recorded conn array send called transport entity check see credit arrived specified connection message sent  multiple packet need credit decremented transport entity put sleep credit arrives mechanism guarantee message ever sent unless side already done receive result whenever message arrives guaranteed buffer available message put scheme easily generalized allow receiver provide multiple buffer request multiple message keep simplicity fig  mind realistic transport entity would normally check usersupplied parameter validity handle recovery network layer crash deal call collision support general transport service including facility interrupt datagrams nonblocking version send receive primitive  example finite state machine writing transport entity difficult exacting work especially realistic protocol reduce chance making error often useful represent state protocol finite state machine already seen example protocol seven state per connection also possible isolate  event move connection one state another five event five service primitive another six arrival six legal packet type last one expiration timer figure  show main protocol action matrix form column state row  event figure  example protocol finite state machine entry optional predicate optional action new state tilde indicates major action taken overbar predicate indicates negation predicate blank entry correspond impossible invalid event  entry matrix ie finite state machine fig  three field predicate action new state predicate indicates condition action taken example upperleft entry listen executed table space predicate p listen fails state change hand call request packet already arrived transport address listened predicate p connection established immediately another possibility p false call request come case connection remains idle state awaiting call request packet worth pointing choice state use matrix entirely fixed protocol example state listening might reasonable thing following listen listening state state associated connection record entry connection record created listen decided use network layer virtual circuit number connection identifier listen virtual circuit number ultimately chosen network layer call request packet arrives action a a major action sending packet starting timer minor action initializing field connection record listed action involves waking sleeping process action following wakeup also count example call request packet come process asleep waiting transmission call accept packet following wakeup count part  action call request action performed connection may move new state shown fig  advantage representing protocol matrix threefold first form much easier programmer systematically check combination state event see action required production implementation combination would used error handling fig  distinction made impossible situation illegal one example connection waiting state disconnect event impossible user blocked execute primitive hand sending state data packet expected credit issued arrival data packet protocol error second advantage matrix representation protocol implementing one could envision twodimensional array element j pointer index procedure handled occurrence event state j one possible implementation write transport entity short loop waiting event top loop event happens relevant connection located state extracted event state known transport entity index array call proper procedure approach give much regular systematic design transport entity third advantage finite state machine approach protocol description standard document protocol given finite state machine type fig  going kind description working transport entity much easier transport entity also driven finite state machine based one standard primary disadvantage finite state machine approach may difficult understand straight programming example used initially however problem may partially solved drawing finite state machine graph done fig  figure  example protocol graphical form transition leave connection state unchanged omitted simplicity   internet transport protocol udp internet two main protocol transport layer connectionless protocol connectionoriented one following section study connectionless protocol udp connectionoriented protocol tcp udp basically ip short header added start also look two application udp  introduction udp internet protocol suite support connectionless transport protocol udp user datagram protocol udp provides way application send encapsulated ip datagrams send without establish connection udp described rfc  udp transmits segment consisting byte header followed payload header shown fig  two port serve identify end point within source destination machine udp packet arrives payload handed process attached destination port attachment occurs bind primitive something similar used saw fig  tcp binding process udp fact main value udp using raw ip addition source destination port without port field transport layer would know packet delivers segment correctly figure  udp header  source port primarily needed reply must sent back source copying source port field incoming segment destination port field outgoing segment process sending reply specify process sending machine get udp length field includes byte header data udp checksum optional stored  computed true computed  stored  turning foolish unless quality data matter eg digitized speech probably worth mentioning explicitly thing udp flow control error control retransmission upon receipt bad segment user process provide interface ip protocol added feature demultiplexing multiple process using port application need precise control packet flow error control timing udp provides doctor ordered one area udp especially useful clientserver situation often client sends short request server expects short reply back either request reply lost client time try code simple fewer message required one direction protocol requiring initial setup application us udp way dns domain name system study chap  brief program need look ip address host name example wwwcsberkeleyedu send udp packet containing host name dns server server reply udp packet containing host s ip address setup needed advance release needed afterward two message go network  remote procedure call certain sense sending message remote host getting reply back lot like making function call programming language case start one parameter get back result observation led people try arrange requestreply interaction network cast form procedure call arrangement make network application much easier program familiar deal example imagine procedure named get ip address host name work sending udp packet dns server waiting reply timing trying one forthcoming quickly enough way detail networking hidden programmer key work area done birrell nelson  nutshell birrell nelson suggested allowing program call procedure located remote host process machine  call procedure machine  calling process  suspended execution called procedure take place  information transported caller callee parameter come back procedure result message passing visible programmer technique known rpc remote procedure call become basis many networking application traditionally calling procedure known client called procedure known server use name idea behind rpc make remote procedure call look much possible like local one simplest form call remote procedure client program must bound small library procedure called client stub represents server procedure client s address space similarly server bound procedure called server stub procedure hide fact procedure call client server local  actual step making rpc shown fig  step  client calling client stub call local procedure call parameter pushed onto stack normal way step  client stub packing parameter message making system call send message packing parameter called marshaling step  kernel sending message client machine server machine step  kernel passing incoming packet server stub finally step  server stub calling server procedure unmarshaled parameter reply trace path direction figure  step making remote procedure call stub shaded key item note client procedure written user make normal ie local procedure call client stub name server procedure since client procedure client stub address space parameter passed usual way similarly server procedure called procedure address space parameter expects server procedure nothing unusual way instead io done socket network communication done faking normal procedure call despite conceptual elegance rpc snake hiding grass big one use pointer parameter normally passing pointer procedure problem called procedure use pointer way caller procedure live virtual address space rpc passing pointer impossible client server different address space case trick used make possible pas pointer suppose first parameter pointer integer k client stub marshal k send along server server stub creates pointer k pass server procedure expects server procedure return control server stub latter sends k back client new k copied old one case server changed effect standard calling sequence callbyreference replaced copyrestore unfortunately trick always work example pointer point graph complex data structure reason restriction must placed parameter procedure called remotely second problem weaklytyped language like c perfectly legal write procedure computes inner product two vector array without specifying large either one could terminated special value known calling called procedure circumstance essentially impossible client stub marshal parameter way determining large third problem always possible deduce type parameter even formal specification code example printf may  number parameter least one parameter arbitrary mixture integer short longs character string floatingpoint number various length type trying call printf remote procedure would practically impossible c permissive however rule saying rpc used provided program c c would popular fourth problem relates use global variable normally calling called procedure communicate using global variable addition communicating via parameter called procedure moved remote machine code fail global variable longer shared problem meant suggest rpc hopeless fact widely used restriction needed make work well practice course rpc need use udp packet rpc udp good fit udp commonly used rpc however parameter result may larger maximum udp packet operation requested idempotent ie repeated safely incrementing counter may necessary set tcp connection send request rather use udp  realtime transport protocol clientserver rpc one area udp widely used another one realtime multimedia application particular internet radio internet telephony musicondemand videoconferencing videoondemand multimedia application became commonplace people discovered application reinventing le realtime transport protocol gradually became clear generic realtime transport protocol multiple application would good idea thus rtp realtime transport protocol born described rfc  widespread use position rtp protocol stack somewhat strange decided put rtp user space normally run udp operates follows multimedia application consists multiple audio video text possibly stream fed rtp library user space along application library multiplex stream encodes rtp packet stuff socket end socket operating system kernel udp packet generated embedded ip packet computer ethernet ip packet put ethernet frame transmission protocol stack situation shown fig  packet nesting shown fig  b figure  position rtp protocol stack b packet nesting consequence design little hard say layer rtp since run user space linked application program certainly look like application  protocol hand generic applicationindependent protocol provides transport facility also look like transport protocol probably best description transport protocol implemented application layer basic function rtp multiplex several realtime data stream onto single stream udp packet udp stream sent single destination unicasting multiple destination multicasting rtp us normal udp packet treated specially router unless normal ip qualityofservice feature enabled particular special guarantee delivery jitter etc packet sent rtp stream given number one higher predecessor numbering allows destination determine packet missing packet missing best action destination take approximate missing value interpolation retransmission practical option since retransmitted packet would probably arrive late useful consequence rtp flow control error control acknowledgement mechanism request retransmissions rtp payload may contain multiple sample may coded way application want allow interworking rtp defines several profile eg single audio stream profile multiple encoding format may allowed example single audio stream may encoded bit pcm sample  khz delta encoding predictive encoding gsm encoding mp rtp provides header field source specify encoding otherwise involved encoding done another facility many realtime application need timestamping idea allow source associate timestamp first sample packet timestamps relative start stream difference timestamps significant absolute value meaning mechanism allows destination small amount buffering play sample right number millisecond start stream independently packet containing sample arrived timestamping reduce effect jitter also allows multiple stream synchronized example digital television program might video stream two audio stream two audio stream could stereo broadcast handling film original language soundtrack soundtrack dubbed local language giving viewer choice stream come different physical device timestamped single counter played back synchronously even stream transmitted somewhat erratically rtp header illustrated fig  consists three bit word potentially extension first word contains version field already  let u hope version close ultimate version since one code point left although  could defined meaning real version extension word  bit figure  rtp header  p bit indicates packet padded multiple  byte last padding byte tell many byte added x bit indicates extension header present format meaning extension header defined thing defined first word extension give length escape hatch unforeseen requirement cc field tell many contributing source present   see bit applicationspecific marker bit used mark start video frame start word audio channel something else application understands payload type field tell encoding algorithm used eg uncompressed bit audio mp etc since every packet carry field encoding change transmission sequence number counter incremented rtp packet sent used detect lost packet timestamp produced stream s source note first sample packet made value help reduce jitter receiver decoupling playback packet arrival time synchronization source identifier tell stream packet belongs method used multiplex demultiplex multiple data stream onto single stream udp packet finally contributing source identifier used mixer present studio case mixer synchronizing source stream mixed listed rtp little sister protocol little sibling protocol called rtcp realtime transport control protocol handle feedback synchronization user interface transport data first function used provide feedback delay jitter bandwidth congestion network property source information used encoding process increase data rate give better quality network functioning well cut back data rate trouble network providing continuous feedback encoding algorithm continuously adapted provide best quality possible current circumstance example bandwidth increase decrease transmission encoding may switch mp bit pcm delta encoding required payload type field used tell destination encoding algorithm used current packet making possible vary demand rtcp also handle interstream synchronization problem different stream may use different clock different granularity different drift rate rtcp used keep sync finally rtcp provides way naming various source eg ascii text information displayed receiver s screen indicate talking moment information rtp found perkins    internet transport protocol tcp udp simple protocol niche us clientserver interaction multimedia internet application reliable sequenced delivery needed udp provide another protocol required called tcp main workhorse internet let u study detail  introduction tcp tcp transmission control protocol specifically designed provide reliable endtoend byte stream unreliable internetwork internetwork differs single network different part may wildly different topology bandwidth delay packet size parameter tcp designed dynamically adapt property internetwork robust face many kind failure tcp formally defined rfc  time went various error inconsistency detected requirement changed area clarification bug fix detailed rfc  extension given rfc  machine supporting tcp tcp transport entity either library procedure user process part kernel case manages tcp stream interface ip layer tcp entity accepts user data stream local process break piece exceeding  kb practice often  data byte order fit single ethernet frame ip tcp header sends piece separate ip datagram datagrams containing tcp data arrive machine given tcp entity reconstructs original byte stream simplicity sometimes use tcp mean tcp transport entity piece software tcp protocol set rule context clear meant example the user give tcp data tcp transport entity clearly intended ip layer give guarantee datagrams delivered properly tcp time retransmit need datagrams arrive may well wrong order also tcp reassemble message proper sequence short tcp must furnish reliability user want ip provide  tcp service model tcp service obtained sender receiver creating end point called socket discussed sec  socket socket number address consisting ip address host bit number local host called port port tcp name tsap tcp service obtained connection must explicitly established socket sending machine socket receiving machine socket call listed fig  socket may used multiple connection time word two connection may terminate socket connection identified socket identifier end socket socket virtual circuit number identifier used port number  called wellknown port reserved standard service example process wishing establish connection host transfer file using ftp connect destination host s port  contact ftp daemon list wellknown port given wwwianaorg  assigned better known one listed fig   figure  assigned port would certainly possible ftp daemon attach port  boot time telnet daemon attach port  boot time however would clutter memory daemon idle time instead generally done single daemon called inetd internet daemon unix attach multiple port wait first incoming connection occurs inetd fork new process executes appropriate daemon letting daemon handle request way daemon inetd active work inetd learns port use configuration file consequently system administrator set system permanent daemon busiest port eg port  inetd rest tcp connection full duplex pointtopoint full duplex mean traffic go direction time pointtopoint mean connection exactly two end point tcp support multicasting broadcasting tcp connection byte stream message stream message boundary preserved end end example sending process four byte writes tcp stream data may delivered receiving process four byte chunk two byte chunk one byte chunk see fig  way way receiver detect unit data written figure  four byte segment sent separate ip datagrams b  byte data delivered application single read call file unix property reader file tell whether file written block time byte time one blow unix file tcp software idea byte mean interest finding byte byte application pass data tcp tcp may send immediately buffer order collect larger amount send discretion however sometimes application really want data sent immediately example suppose user logged remote machine command line finished carriage return typed essential line shipped remote machine immediately buffered  next line come force data application use push flag tell tcp delay transmission early application used push flag kind marker delineate message boundary trick sometimes work sometimes fails since implementation tcp pas push flag application receiving side furthermore additional push come first one transmitted eg output line busy tcp free collect pushed data single ip datagram separation various piece one last feature tcp service worth mentioning urgent data interactive user hit del ctrlc key break remote computation already begun sending application put control information data stream give tcp along urgent flag event cause tcp stop accumulating data transmit everything connection immediately urgent data received destination receiving application interrupted eg given signal unix term stop whatever read data stream find urgent data end urgent data marked application know start urgent data marked application figure scheme basically provides crude signaling mechanism leaf everything else application  tcp protocol section give general overview tcp protocol next one go protocol header field field key feature tcp one dominates protocol design every byte tcp connection bit sequence number internet began line router mostly kbps leased line host blasting away full speed took  week cycle sequence number modern network speed sequence number consumed alarming rate see later separate bit sequence number used acknowledgement window mechanism discussed sending receiving tcp entity exchange data form segment tcp segment consists fixed byte header plus optional part followed zero data byte tcp software decides big segment accumulate data several writes one segment split data one write multiple segment two limit restrict segment size first segment including tcp header must fit byte ip payload second network maximum transfer unit mtu segment must fit mtu practice mtu generally  byte ethernet payload size thus defines upper bound segment size basic protocol used tcp entity sliding window protocol sender transmits segment also start timer segment arrives destination receiving tcp entity sends back segment data exist otherwise without data bearing acknowledgement number equal next sequence number expects receive sender s timer go acknowledgement received sender transmits segment although protocol sound simple number sometimes subtle in out cover segment arrive order byte – arrive acknowledged byte – turned yet segment also delayed long transit sender time retransmits retransmissions may include different byte range original transmission requiring  careful administration keep track byte correctly received far however since byte stream unique offset done tcp must prepared deal problem solve efficient way considerable amount effort gone optimizing performance tcp stream even face network problem number algorithm used many tcp implementation discussed  tcp segment header figure  show layout tcp segment every segment begin fixedformat byte header fixed header may followed header option option     data byte may follow first  refer ip header second tcp header segment without data legal commonly used acknowledgement control message figure  tcp header let u dissect tcp header field field source port destination port field identify local end point connection wellknown port defined wwwianaorg host allocate others wish port plus host s ip address form bit unique end point source destination end point together identify connection sequence number acknowledgement number field perform usual function note latter specifies next byte expected last byte correctly received  bit long every byte data numbered tcp stream tcp header length tell many bit word contained tcp header information needed option field variable length header technically field really indicates start data within segment measured bit word number header length word effect next come bit field used fact field survived intact quarter century testimony well thought tcp lesser protocol would needed fix bug original design  come six bit flag urg set  urgent pointer use urgent pointer used indicate byte offset current sequence number urgent data found facility lieu interrupt message mentioned facility barebones way allowing sender signal receiver without getting tcp involved reason interrupt ack bit set  indicate acknowledgement number valid ack  segment contain acknowledgement acknowledgement number field ignored psh bit indicates pushed data receiver hereby kindly requested deliver data application upon arrival buffer full buffer received might otherwise efficiency rst bit used reset connection become confused due host crash reason also used reject invalid segment refuse attempt open connection general get segment rst bit problem hand syn bit used establish connection connection request syn  ack  indicate piggyback acknowledgement field use connection reply bear acknowledgement syn  ack  essence syn bit used denote connection request connection accepted ack bit used distinguish two possibility fin bit used release connection specifies sender data transmit however closing connection closing process may continue receive data indefinitely syn fin segment sequence number thus guaranteed processed correct order flow control tcp handled using variablesized sliding window window size field tell many byte may sent starting byte acknowledged window size field  legal say byte including acknowledgement number  received receiver currently badly need rest would like data moment thank receiver later grant permission send transmitting segment acknowledgement number nonzero window size field protocol chap  acknowledgement frame received permission send new frame tied together consequence fixed window size protocol tcp acknowledgement permission send additional data completely decoupled effect receiver say received byte k want decoupling fact variablesized window give additional flexibility study detail checksum also provided extra reliability checksum header data conceptual pseudoheader shown fig  performing computation tcp checksum field set zero data field padded additional zero byte length odd number checksum algorithm simply add bit word one s complement take one s complement sum consequence receiver performs calculation entire segment including checksum field result  figure  pseudoheader included tcp checksum  pseudoheader contains bit ip address source destination machine protocol number tcp  byte count tcp segment including header including pseudoheader tcp checksum computation help detect misdelivered packet including also violates protocol hierarchy since ip address belong ip layer tcp layer udp us pseudoheader checksum option field provides way add extra facility covered regular header important option one allows host specify maximum tcp payload willing accept using large segment efficient using small one byte header amortized data small host may able handle big segment connection setup side announce maximum see partner s host use option default byte payload internet host required accept tcp segment    byte maximum segment size two direction need line high bandwidth high delay kb window often problem t line  mbps take  msec output full kb window roundtrip propagation delay  msec typical transcontinental fiber sender idle  time waiting acknowledgement satellite connection situation even worse larger window size would allow sender keep pumping data using bit window size field way express size rfc  window scale option proposed allowing sender receiver negotiate window scale factor number allows side shift window size field  bit left thus allowing window   byte tcp implementation support option another option proposed rfc  widely implemented use selective repeat instead go back n protocol receiver get one bad segment large number good one normal tcp protocol eventually time retransmit unacknowledged segment including received correctly ie go back n protocol rfc  introduced naks allow receiver ask specific segment segment get acknowledge buffered data thus reducing amount data retransmitted  tcp connection establishment connection established tcp mean threeway handshake discussed sec  establish connection one side say server passively wait incoming connection executing listen accept primitive either specifying specific source nobody particular side say client executes connect primitive specifying ip address port want connect maximum tcp segment size willing accept optionally user data eg password connect primitive sends tcp segment syn bit ack bit wait response  segment arrives destination tcp entity check see process done listen port given destination port field sends reply rst bit reject connection process listening port process given incoming tcp segment either accept reject connection accepts acknowledgement segment sent back sequence tcp segment sent normal case shown fig  note syn segment consumes  byte sequence space acknowledged unambiguously figure  tcp connection establishment normal case b call collision event two host simultaneously attempt establish connection two socket sequence event illustrated fig  b result event one connection established two connection identified end point first setup result connection identified x second one one table entry made namely x initial sequence number connection  reason discussed earlier clockbased scheme used clock tick every  µsec additional safety host crash may reboot maximum packet lifetime make sure packet previous connection still roaming around internet somewhere  tcp connection release although tcp connection full duplex understand connection released best think pair simplex connection simplex connection released independently sibling release connection either party send tcp segment fin bit set mean data transmit fin acknowledged direction shut new data data may continue flow indefinitely direction however direction shut connection released normally four tcp segment needed release connection one fin one ack direction however possible first ack second fin contained segment reducing total count three telephone call people say goodbye hang phone simultaneously end tcp connection may send fin segment time acknowledged usual way connection shut fact essential difference two host releasing sequentially simultaneously  avoid twoarmy problem timer used response fin forthcoming within two maximum packet lifetime sender fin release connection side eventually notice nobody seems listening time well solution perfect given fact perfect solution theoretically impossible practice problem rarely arise  tcp connection management modeling step required establish release connection represented finite state machine  state listed fig  state certain event legal legal event happens action may taken event happens error reported figure  state used tcp connection management finite state machine connection start closed state leaf state either passive open listen active open connect side opposite one connection established state becomes established connection release initiated either side complete state return closed finite state machine shown fig  common case client actively connecting passive server shown heavy lines—solid client dotted server lightface line unusual event sequence line fig  marked eventaction pair event either userinitiated system call connect listen send close segment arrival syn fin ack rst one case timeout twice maximum packet lifetime action sending control segment syn fin rst nothing indicated — comment shown parenthesis figure  tcp connection management finite state machine heavy solid line normal path client heavy dashed line normal path server light line unusual event transition labeled event causing action resulting separated slash  one best understand diagram first following path client heavy solid line later following path server heavy dashed line application program client machine issue connect request local tcp entity creates connection record mark syn sent state sends syn segment note many connection may open opened time behalf multiple application state per connection recorded connection record synack arrives tcp sends final ack threeway handshake switch established state data sent received application finished executes close primitive cause local tcp entity send fin segment wait corresponding ack dashed box marked active close ack arrives transition made state fin wait  one direction connection closed side close fin come acknowledged side closed tcp wait time equal maximum packet lifetime guarantee packet connection died case acknowledgement lost timer go tcp deletes connection record let u examine connection management server s viewpoint server listen settle see turn syn come acknowledged server go syn rcvd state server s syn acknowledged threeway handshake complete server go established state data transfer occur client done close cause fin arrive server dashed box marked passive close server signaled close fin sent client client s acknowledgement show server release connection deletes connection record   tcp transmission policy mentioned earlier window management tcp directly tied acknowledgement data link protocol example suppose receiver byte buffer shown fig  sender transmits byte segment correctly received receiver acknowledge segment however since  byte buffer space application remove data buffer advertise window  starting next byte expected figure  window management tcp sender transmits another  byte acknowledged advertised window  sender must stop application process receiving host removed data buffer time tcp advertise larger window window  sender may normally send segment two exception first urgent data may sent example allow user kill process running remote machine second sender may send byte segment make receiver reannounce next byte expected window size tcp standard explicitly provides option prevent deadlock window announcement ever get lost sender required transmit data soon come application neither receiver required send acknowledgement soon possible example fig  first  kb data came tcp knowing kb window available would completely correct buffering data another  kb came able transmit segment kb payload freedom exploited improve performance consider telnet connection interactive editor reacts every keystroke worst case character arrives sending tcp entity tcp creates byte tcp  segment give ip send byte ip datagram receiving side tcp immediately sends byte acknowledgement  byte tcp header  byte ip header later editor read byte tcp sends window update moving window  byte right packet also  byte finally editor processed character echo character byte packet  byte bandwidth used four segment sent character typed bandwidth scarce method business desirable one approach many tcp implementation use optimize situation delay acknowledgement window update  msec hope acquiring data hitch free ride assuming editor echo within  msec one byte packet need sent back remote user cutting packet count bandwidth usage half although rule reduces load placed network receiver sender still operating inefficiently sending byte packet containing  byte data way reduce usage known nagle s algorithm nagle  nagle suggested simple data come sender one byte time send first byte buffer rest outstanding byte acknowledged send buffered character one tcp segment start buffering acknowledged user typing quickly network slow substantial number character may go segment greatly reducing bandwidth used algorithm additionally allows new packet sent enough data trickled fill half window maximum segment nagle s algorithm widely used tcp implementation time better disable particular x window application run internet mouse movement sent remote computer x window system windowing system used unix system gathering send burst make mouse cursor move erratically make unhappy user another problem degrade tcp performance silly window syndrome clark  problem occurs data passed sending tcp entity large block interactive application receiving side read data  byte time see problem look fig  initially tcp buffer receiving side full sender know ie window size  interactive application read one character tcp stream action make receiving tcp happy sends window update sender saying right send  byte sender obliges sends  byte buffer full receiver acknowledges byte segment set window  behavior go forever figure  silly window syndrome  clark s solution prevent receiver sending window update  byte instead forced wait decent amount space available advertise instead specifically receiver send window update handle maximum segment size advertised connection established buffer half empty whichever smaller furthermore sender also help sending tiny segment instead try wait accumulated enough space window send full segment least one containing half receiver s buffer size must estimate pattern window update received past nagle s algorithm clark s solution silly window syndrome complementary nagle trying solve problem caused sending application delivering data tcp byte time clark trying solve problem receiving application sucking data tcp byte time solution valid work together goal sender send small segment receiver ask receiving tcp go improving performance window update large unit like sending tcp also buffer data block read request application large chunk data provide reduces number call tcp hence overhead course also increase response time noninteractive application like file transfer efficiency may important response time individual request another receiver issue outoforder segment kept discarded receiver s discretion course acknowledgement sent data byte acknowledged received receiver get segment        acknowledge everything including last byte segment  sender time retransmits segment  receiver buffered segment   upon receipt segment  acknowledge byte end segment   tcp congestion control load offered network handle congestion build internet exception section discus algorithm developed past quarter century deal congestion although network layer also  try manage congestion heavy lifting done tcp real solution congestion slow data rate theory congestion dealt employing principle borrowed physic law conservation packet idea refrain injecting new packet network old one leaf ie delivered tcp attempt achieve goal dynamically manipulating window size first step managing congestion detecting old day detecting congestion difficult timeout caused lost packet could caused either  noise transmission line  packet discard congested router telling difference difficult nowadays packet loss due transmission error relatively rare longhaul trunk fiber although wireless network different story consequently transmission timeouts internet due congestion internet tcp algorithm assume timeouts caused congestion monitor timeouts sign trouble way miner watch canary discussing tcp reacts congestion let u first describe try prevent congestion occurring first place connection established suitable window size chosen receiver specify window based buffer size sender stick window size problem occur due buffer overflow receiving end may still occur due internal congestion within network fig  see problem illustrated hydraulically fig  see thick pipe leading smallcapacity receiver long sender send water bucket contain water lost fig  b limiting factor bucket capacity internal carrying capacity network much water come fast back lost case overflowing funnel figure  fast network feeding lowcapacity receiver b slow network feeding highcapacity receiver  internet solution realize two potential problem exist—network capacity receiver capacity—and deal separately sender maintains two window window receiver granted second window congestion window reflects number byte sender may transmit number byte may sent minimum two window thus effective window minimum sender think right receiver think right receiver say send  kb sender know burst  kb clog network sends  kb hand receiver say send  kb sender know burst  kb get effortlessly sends full  kb requested connection established sender initializes congestion window size maximum segment use connection sends one maximum segment segment acknowledged timer go add one segment s worth byte congestion window make two maximum size segment sends two segment segment acknowledged congestion window increased one maximum segment size congestion window n segment n acknowledged time congestion window increased byte count corresponding n segment effect burst acknowledged double congestion window congestion window keep growing exponentially either timeout occurs receiver s window reached idea burst size say    byte work fine burst  byte give timeout congestion window set  avoid congestion long congestion window remains  burst longer sent matter much window space receiver grant algorithm called slow start slow jacobson  exponential tcp implementation required support let u look internet congestion control algorithm us third parameter threshold initially  kb addition receiver congestion window timeout occurs threshold set half current congestion window congestion window reset one maximum segment slow start used determine network handle except exponential growth stop threshold hit point successful transmission grow congestion window linearly one maximum segment burst instead one per segment effect algorithm guessing probably acceptable cut congestion window half gradually work way illustration congestion algorithm work see fig  maximum segment size  byte initially congestion window  kb timeout occurred threshold set  kb congestion window  kb transmission  congestion window grows exponentially hit threshold  kb starting grows linearly figure  example internet congestion algorithm  transmission  unlucky known timeout occurs threshold set half current window  kb half  kb slow start initiated acknowledgement transmission  start coming first four double congestion window growth becomes linear timeouts occur congestion window continue grow size receiver s window point stop growing remain constant long timeouts receiver s window change size aside icmp source quench packet come passed tcp event treated way timeout alternative recent approach described rfc   tcp timer management tcp us multiple timer least conceptually work important retransmission timer segment sent retransmission timer started segment acknowledged timer expires timer stopped hand timer go acknowledgement come segment retransmitted timer started question arises long timeout interval problem much difficult internet transport layer generic data link protocol chap  latter case expected delay highly predictable ie low variance timer set go slightly acknowledgement expected shown fig  since acknowledgement rarely delayed data link layer due lack congestion absence acknowledgement expected time generally mean either frame acknowledgement lost figure  probability density acknowledgement arrival time data link layer b probability density acknowledgement arrival time tcp  tcp faced radically different environment probability density function time take tcp acknowledgement come back look like fig  b fig  determining roundtrip time destination tricky even known deciding timeout interval also difficult timeout set short say  fig  b unnecessary retransmissions occur clogging internet useless packet set long eg  performance suffer due long retransmission delay whenever packet lost furthermore mean variance acknowledgement arrival distribution change rapidly within second congestion build resolved solution use highly dynamic algorithm constantly adjusts timeout interval based continuous measurement network performance algorithm generally used tcp due jacobson  work follows connection tcp maintains variable rtt best current estimate roundtrip time destination question segment sent timer started see long acknowledgement take trigger retransmission take long acknowledgement get back timer expires tcp measure long acknowledgement took say m update rtt according formula smoothing factor determines much weight given old value typically  even given good value rtt choosing suitable retransmission timeout nontrivial matter normally tcp us ß rtt trick choosing ß initial implementation ß always  experience showed constant value inflexible failed respond variance went  jacobson proposed making ß roughly proportional standard deviation acknowledgement arrival time probability density function large variance mean large ß vice versa particular suggested using mean deviation cheap estimator standard deviation algorithm requires keeping track another smoothed variable deviation whenever acknowledgement come difference expected observed value rtt computed smoothed value maintained formula  may may value used smooth rtt exactly standard deviation good enough jacobson showed could computed using integer add subtracts shifts—a big plus tcp implementation use algorithm set timeout interval choice factor  somewhat arbitrary two advantage first multiplication  done single shift second minimizes unnecessary timeouts retransmissions le  percent packet come four standard deviation late actually jacobson initially said use  later work shown  give better performance one problem occurs dynamic estimation rtt segment time sent acknowledgement come unclear whether acknowledgement refers first transmission later one guessing wrong seriously contaminate estimate rtt phil karn discovered problem hard way amateur radio enthusiast interested transmitting tcpip packet ham radio notoriously unreliable medium good day half packet get made simple proposal update rtt segment retransmitted instead timeout doubled failure segment get first time fix called karn s algorithm tcp implementation use retransmission timer timer tcp us second timer persistence timer designed prevent following deadlock receiver sends acknowledgement window size  telling sender wait later receiver update window packet update lost sender receiver waiting something persistence timer go sender transmits probe receiver response probe give window size still zero persistence timer set cycle repeat nonzero data sent third timer implementation use keepalive timer connection idle long time keepalive timer may go cause one side check whether side still fails respond connection terminated feature controversial add overhead may terminate otherwise healthy connection due transient network partition last timer used tcp connection one used timed wait state closing run twice maximum packet lifetime make sure connection closed packet created died  wireless tcp udp theory transport protocol independent technology underlying network layer particular tcp care whether ip running fiber radio practice matter tcp implementation carefully optimized based assumption true wired network fail wireless network ignoring property wireless transmission lead tcp implementation logically correct horrendous performance  principal problem congestion control algorithm nearly tcp implementation nowadays assume timeouts caused congestion lost packet consequently timer go tcp slows sends le vigorously eg jacobson s slow start algorithm idea behind approach reduce network load thus alleviate congestion unfortunately wireless transmission link highly unreliable lose packet time proper approach dealing lost packet send quickly possible slowing make matter worse say  percent packet lost sender transmits  packetssec throughput  packetssec sender slows  packetssec throughput drop  packetssec effect packet lost wired network sender slow one lost wireless network sender try harder sender know network difficult make correct decision frequently path sender receiver heterogeneous first  km might wired network last  km might wireless making correct decision timeout even harder since matter problem occurred solution proposed bakne badrinath  indirect tcp split tcp connection two separate connection shown fig  first connection go sender base station second one go base station receiver base station simply copy packet connection direction figure  splitting tcp connection two connection advantage scheme connection homogeneous timeouts first connection slow sender whereas timeouts second one speed parameter also tuned separately two connection disadvantage scheme violates semantics tcp since part connection full tcp connection base station acknowledges tcp segment usual way receipt acknowledgement sender mean receiver got segment base station got different solution due balakrishnan et al  break semantics tcp work making several small modification network layer code base station one change addition snooping agent observes cache tcp segment going mobile host acknowledgement coming back snooping agent see tcp segment going mobile host see acknowledgement coming back relatively short timer go retransmits segment without telling source also retransmits see duplicate acknowledgement mobile host go invariably meaning mobile host missed something duplicate acknowledgement discarded spot avoid source misinterpret congestion one disadvantage transparency however wireless link lossy source may time waiting acknowledgement invoke congestion control algorithm indirect tcp congestion control algorithm never started unless really congestion wired part network  balakrishnan et al paper also solution problem lost segment originating mobile host base station notice gap inbound sequence number generates request selective repeat missing byte using tcp option using fix wireless link made reliable direction without source knowing without changing tcp semantics udp suffer problem tcp wireless communication also introduces difficulty main trouble program use udp expecting highly reliable know guarantee given still expect near perfect wireless environment udp far perfect program recover lost udp message considerable cost suddenly going environment message theoretically lost rarely one constantly lost result performance disaster wireless communication also affect area performance example mobile host find local printer connect rather use home printer somewhat related get www page local cell even name known also www page designer tend assume lot bandwidth available putting large logo every page becomes counterproductive going take  sec transmit slow wireless link every time page referenced irritating user end wireless networking becomes common problem running tcp become acute additional work area reported barakat et al  ghani dixit  huston  xylomenos et al   transactional tcp earlier chapter looked remote procedure call way implement clientserver system request reply small enough fit single packet operation idempotent udp simply used however condition met using udp le attractive example reply quite large piece must sequenced mechanism must devised retransmit lost piece effect application required reinvent tcp clearly unattractive using tcp also unattractive problem efficiency normal sequence packet rpc tcp shown fig  nine packet required best case figure  rpc using normal tcp b rpc using ttcp  nine packet follows •  client sends syn packet establish connection •  server sends ack packet acknowledge syn packet •  client completes threeway handshake •  client sends actual request •  client sends fin packet indicate done sending •  server acknowledges request fin •  server sends reply back client •  server sends fin packet indicate also done •  client acknowledges server s fin note best case worst case client s request fin acknowledged separately server s reply fin question quickly arises whether way combine efficiency rpc using udp two message reliability tcp answer almost done experimental tcp variant called ttcp transactional tcp described rfcs   central idea modify standard connection setup sequence slightly allow transfer data setup ttcp protocol illustrated fig  b client s first packet contains syn bit request fin effect say want establish connection data done server get request look computes reply chooses respond reply fit one packet give reply fig  b say acknowledge fin answer done client acknowledges server s fin protocol terminates three message however result larger  packet server also option turning fin bit case send multiple packet closing direction probably worth mentioning ttcp proposed improvement tcp another proposal sctp stream control transmission protocol feature include message boundary preservation multiple delivery mode eg unordered delivery multihoming backup destination selective acknowledgement stewart metz  however whenever someone proposes changing something worked well long always huge battle user demanding feature if ai nt broken nt fix camp  performance issue performance issue important computer network hundred thousand computer interconnected complex interaction unforeseen consequence common frequently complexity lead poor performance one know following section examine many issue related network performance see kind problem exist done unfortunately understanding network performance art science little underlying theory actually use practice best give rule thumb gained hard experience present example taken real world intentionally delayed discussion studied transport layer tcp order able use tcp example various place  transport layer place performance issue arise saw network layer previous chapter nevertheless network layer tends largely concerned routing congestion control broader systemoriented issue tend transport related chapter appropriate place examine next five section look five aspect network performance  performance problem  measuring network performance  system design better performance  fast tpdu processing  protocol future highperformance network aside need generic name unit exchanged transport entity tcp term segment confusing best never used outside tcp world context atm term cspdu sarpdu cpcspdu specific atm packet clearly refer network layer message belong application layer lack standard term go back calling unit exchanged transport entity tpdus mean tpdu packet together use packet collective term the cpu must fast enough process incoming packet real time mean network layer packet tpdu encapsulated  performance problem computer network performance problem congestion caused temporary resource overload traffic suddenly arrives router router handle congestion build performance suffer studied congestion detail previous chapter performance also degrades structural resource imbalance example gigabit communication line attached lowend pc poor cpu able process incoming packet fast enough lost packet eventually retransmitted adding delay wasting bandwidth generally reducing performance overload also synchronously triggered example tpdu contains bad parameter eg port destined many case receiver thoughtfully send back error notification consider could happen bad tpdu broadcast  machine one might send back error message resulting broadcast storm could cripple network udp suffered problem protocol changed cause host refrain responding error udp tpdus sent broadcast address second example synchronous overload happens electrical power failure power come back machine simultaneously jump rom start rebooting typical reboot sequence might require first going dhcp server learn one s true identity file server get copy operating system hundred machine server probably collapse load even absence synchronous overload presence sufficient resource poor performance occur due lack system tuning example machine plenty cpu power memory enough memory allocated buffer space overrun occur tpdus lost similarly scheduling algorithm give high enough priority processing incoming tpdus may lost another tuning issue setting timeouts correctly tpdu sent timer typically set guard loss tpdu timeout set short unnecessary retransmissions  occur clogging wire timeout set long unnecessary delay occur tpdu lost tunable parameter include long wait data piggyback sending separate acknowledgement many retransmissions giving gigabit network bring new performance problem consider example sending kb burst data san diego boston order fill receiver s kb buffer suppose link  gbps oneway speedoflightinfiber delay  msec initially  pipe empty illustrated fig   µsec later fig  b tpdus fiber lead tpdu somewhere vicinity brawley still deep southern california however transmitter must stop get window update figure  state transmitting one megabit san diego boston  b  µsec c  msec  msec  msec lead tpdu hit boston shown fig  c acknowledged finally  msec starting first acknowledgement get back sender second burst transmitted since transmission line used  msec  efficiency  percent situation typical older protocol running gigabit line useful quantity keep mind analyzing network performance bandwidthdelay product obtained multiplying bandwidth bitssec roundtrip delay time sec product capacity pipe sender receiver back bit example fig  bandwidthdelay product  million bit word sender would transmit burst  million bit able keep going full speed first acknowledgement came back take many bit fill pipe direction burst half million bit achieves  percent efficiency  percent pipe s capacity  conclusion drawn good performance receiver s window must least large bandwidthdelay product preferably somewhat larger since receiver may respond instantly transcontinental gigabit line least  megabyte required efficiency terrible sending megabit imagine like short request hundred byte unless use found line first client waiting reply gigabit line better megabit line expensive another performance problem occurs timecritical application like audio video jitter short mean transmission time enough small standard deviation also required achieving short mean transmission time along small standard deviation demand serious engineering effort  network performance measurement network performs poorly user often complain folk running demanding improvement improve performance operator must first determine exactly going find really happening operator must make measurement section look network performance measurement discussion based work mogul  basic loop used improve network performance contains following step  measure relevant network parameter performance  try understand going  change one parameter step repeated performance good enough clear last drop improvement squeezed measurement made many way many location physically protocol stack basic kind measurement start timer beginning activity see long activity take example knowing long take tpdu acknowledged key measurement measurement made counter record often event happened eg number lost tpdus finally one often interested knowing amount something number byte processed certain time interval measuring network performance parameter many potential pitfall list systematic attempt measure network performance careful avoid make sure sample size large enough measure time send one tpdu repeat measurement say one million time take average large sample reduce uncertainty measured mean standard deviation uncertainty computed using standard statistical formula make sure sample representative ideally whole sequence one million measurement repeated different time day week see effect different system load measured quantity measurement congestion example little use made moment  congestion sometimes result may counterintuitive first heavy congestion     oclock congestion noon user away lunch careful using coarsegrained clock computer clock work incrementing counter regular interval example millisecond timer add  counter every  msec using timer measure event take le  msec possible requires care computer accurate clock course measure time send tpdu example system clock say millisecond read transport layer code entered exited true tpdu send time  µsec difference two reading either   wrong however measurement repeated one million time total measurement added divided one million mean time accurate better  µsec sure nothing unexpected going test making measurement university system day major lab project turned may give different result made next day likewise researcher decided run video conference network test may get biased result best run test idle system create entire workload even approach pitfall though might think nobody using network  am might precisely automatic backup program begin copying disk tape furthermore might heavy traffic wonderful world wide web page distant time zone caching wreak havoc measurement obvious way measure file transfer time open large file read whole thing close see long take repeat measurement many time get good average trouble system may cache file first measurement actually involves network traffic rest read local cache result measurement essentially worthless unless want measure cache performance often get around caching simply overflowing cache example cache  mb test loop could open read close two mb file pas attempt force cache hit rate  still caution advised unless absolutely sure understand caching algorithm buffering similar effect one popular tcpip performance utility program known report udp achieve performance substantially higher physical line allows occur call udp normally return control soon message accepted kernel added transmission queue sufficient buffer space timing  udp call mean data sent may still kernel performance utility think transmitted understand measuring measure time read remote file measurement depend network operating system client server particular hardware interface board  used driver factor measurement done carefully ultimately discover file transfer time configuration using goal tune particular configuration measurement fine however making similar measurement three different system order choose network interface board buy result could thrown completely fact one network driver truly awful getting  percent performance board careful extrapolating result suppose make measurement something simulated network load running  idle   percent capacity shown data point solid line fig  may tempting extrapolate linearly shown dotted line however many queueing result involve factor   load true value may look like dashed line rise much faster linearly figure  response function load  system design better performance measuring tinkering often improve performance considerably substitute good design first place poorlydesigned network improved much beyond redesigned scratch section present rule thumb based hard experience many network rule relate system design network design since software operating system often important router interface board idea common knowledge network designer year passed generation generation word mouth first stated explicitly mogul  treatment largely follows another relevant source metcalfe  rule  cpu speed important network speed long experience shown nearly network operating system protocol overhead dominate actual time wire example theory minimum rpc time ethernet  µsec corresponding minimum byte request followed  minimum byte reply practice overcoming software overhead getting rpc time anywhere near substantial achievement similarly biggest problem running  gbps getting bit user s buffer onto fiber fast enough receiving cpu process fast come short double cpu speed often come close doubling throughput doubling network capacity often effect since bottleneck generally host rule  reduce packet count reduce software overhead processing tpdu certain amount overhead per tpdu eg header processing certain amount processing per byte eg checksum  million byte sent perbyte overhead matter tpdu size however using byte tpdus mean  time much pertpdu overhead using kb tpdus overhead add fast addition tpdu overhead overhead lower layer consider arriving packet cause interrupt modern pipelined processor interrupt break cpu pipeline interferes cache requires change memory management context force substantial number cpu register saved n fold reduction tpdus sent thus reduces interrupt packet overhead factor n observation argues collecting substantial amount data transmission order reduce interrupt side nagle s algorithm clark s solution silly window syndrome attempt precisely rule  minimize context switch context switch eg kernel mode user mode deadly bad property interrupt worst long series initial cache miss context switch reduced library procedure sends data internal buffering substantial amount similarly receiving side small incoming tpdus collected together passed user one fell swoop instead individually minimize context switch best case incoming packet cause context switch current user kernel switch receiving process give newlyarrived data unfortunately many operating system additional context switch happen example network manager run special process user space packet arrival likely cause context switch current user kernel another one kernel network manager followed another one back kernel finally one kernel receiving process sequence shown fig  context switch packet wasteful cpu time devastating effect network performance figure  four context switch handle one packet userspace network manager  rule  minimize copying even worse multiple context switch multiple copy unusual incoming packet copied three four time tpdu enclosed delivered packet received network interface special onboard hardware buffer typically copied kernel buffer copied network layer buffer transport layer buffer finally receiving application process clever operating system copy word time unusual require five instruction per word load store incrementing index register test endofdata conditional branch making three copy packet five instruction per bit word copied requires  four instruction per byte copied mips cpu instruction take  nsec byte need  nsec processing time  nsec per bit giving maximum rate  gbps overhead header processing interrupt handling context switch factored  mbps might achievable even considered actual processing data clearly handling gbps ethernet running full blast question fact probably mbps line handled full speed either computation assumed mips machine execute  million instructionssec reality machine run speed referencing memory memory operation often factor ten slower registerregister instruction ie  nsecinstruction  percent instruction actually reference memory ie cache miss likely touching incoming packet average instruction execution time  nsec  x   x  four instructionsbyte need  nsecbyte  nsecbit give  mbps factoring  percent overhead give u  mbps note hardware assistance help problem much copying operating system rule  buy bandwidth lower delay next three rule deal communication rather protocol processing first rule state want bandwidth buy putting second fiber next first one double bandwidth nothing reduce delay making delay shorter requires improving protocol software operating system network interface even improvement made delay reduced bottleneck transmission time rule  avoiding congestion better recovering old maxim ounce prevention worth pound cure certainly hold network congestion network congested packet lost bandwidth wasted useless delay introduced recovering congestion take time patience occur first place better congestion avoidance like getting dtp vaccination hurt little time get prevents something would hurt lot future  rule  avoid timeouts timer necessary network used sparingly timeouts minimized timer go action generally repeated truly necessary repeat action repeating unnecessarily wasteful way avoid extra work careful timer set little bit conservative side timer take long expire add small amount extra delay one connection unlikely event tpdu lost timer go us scarce cpu time waste bandwidth put extra load perhaps dozen router good reason  fast tpdu processing moral story main obstacle fast networking protocol software section look way speed software information see clark et al  chase et al  tpdu processing overhead two component overhead per tpdu overhead per byte must attacked key fast tpdu processing separate normal case oneway data transfer handle specially although sequence special tpdus needed get established state tpdu processing straightforward one side start close connection let u begin examining sending side established state data transmitted sake clarity assume transport entity kernel although idea apply userspace process library inside sending process fig  sending process trap kernel send first thing transport entity test see normal case state established neither side trying close connection regular ie outofband full tpdu sent enough window space available receiver condition met test needed fast path sending transport entity taken typically path taken time figure  fast path sender receiver shown heavy line processing step path shaded usual case header consecutive data tpdus almost take advantage fact prototype header stored within transport entity start fast path copied fast possible scratch buffer word word field change tpdu tpdu overwritten buffer frequently field  easily derived state variable next sequence number pointer full tpdu header plus pointer user data passed network layer strategy followed shown fig  finally network layer give resulting packet data link layer transmission example principle work practice let u consider tcpip fig  show tcp header field consecutive tpdus oneway flow shaded sending transport entity copy five word prototype header output buffer fill next sequence number copying word memory compute checksum increment sequence number memory hand header data special ip procedure sending regular maximum tpdu ip copy fiveword prototype header see fig  b buffer fill identification field computes checksum packet ready transmission figure  tcp header b ip header case shaded field taken prototype without change let u look fast path processing receiving side fig  step  locating connection record incoming tpdu tcp connection record stored hash table simple function two ip address two port key connection record located address port must compared verify correct record found optimization often speed connection record lookup even maintain pointer last one used try one first clark et al  tried observed hit rate exceeding  percent lookup heuristic described mckenney dove  tpdu checked see normal one state established neither side trying close connection tpdu full one special flag set sequence number one expected test take handful instruction condition met special fast path tcp procedure called fast path update connection record copy data user copying also computes checksum eliminating extra pas data checksum correct connection record updated acknowledgement sent back general scheme first making quick check see header expected special procedure handle case called header prediction many tcp implementation use optimization one discussed chapter used together possible get tcp run  percent speed local memorytomemory copy assuming network fast enough two area major performance gain possible buffer management timer management issue buffer management avoiding unnecessary copying mentioned timer management important nearly timer set expire set guard tpdu loss tpdus arrive correctly  acknowledgement also arrive correctly hence important optimize timer management case timer rarely expiring common scheme use linked list timer event sorted expiration time head entry contains counter telling many tick away expiry successive entry contains counter telling many tick previous entry thus timer expire    tick respectively three counter    respectively every clock tick counter head entry decremented hit zero event processed next item list becomes head counter changed scheme inserting deleting timer expensive operation execution time proportional length list efficient approach used maximum timer interval bounded known advance array called timing wheel used shown fig  slot corresponds one clock tick current time shown  timer scheduled expire    tick new timer suddenly set expire seven tick entry made slot  similarly timer set  canceled list starting slot  searched required entry removed note array fig  accommodate timer beyond  figure  timing wheel clock tick current time pointer advanced one slot circularly entry pointed nonzero timer processed many variation basic idea discussed varghese lauck   protocol gigabit network start s gigabit network began appear people s first reaction use old protocol various problem quickly arose section discus problem direction new protocol taking solve move toward ever faster network first problem many protocol use bit sequence number internet began line router mostly kbps leased line host blasting away full speed took  week cycle sequence number tcp designer   pretty decent approximation infinity little danger old packet  still around week transmitted mbps ethernet wrap time became  minute much shorter still manageable gbps ethernet pouring data onto internet wrap time  second well  sec maximum packet lifetime internet sudden   nearly good approximation infinity since sender cycle sequence space old packet still exist rfc  provides escape hatch though problem many protocol designer simply assumed without stating time use entire sequence space would greatly exceed maximum packet lifetime consequently need even worry problem old duplicate still existing sequence number wrapped around gigabit speed unstated assumption fails second problem communication speed improved much faster computing speed note computer engineer go beat communication engineer counting s arpanet ran  kbps computer ran  mips packet  bit arpanet capable delivering  packetssec almost  msec available per packet host could afford spend  instruction processing packet course would soak entire cpu could devote  instruction per packet still half cpu left real work compare number mips computer exchanging byte packet gigabit line packet flow rate  per second packet processing must completed  µsec want reserve half cpu application  µsec mips computer execute  instruction  arpanet host available furthermore modern risc instruction le per instruction old cisc instruction problem even worse appears conclusion le time available protocol processing used protocol must become simpler third problem go back n protocol performs poorly line large bandwidthdelay product consider example km line operating  gbps roundtrip transmission time  msec time sender transmit  megabyte error detected  msec sender told go back n used sender retransmit bad packet also  megabyte worth packet came afterward clearly massive waste resource fourth problem gigabit line fundamentally different megabit line long gigabit line delay limited rather bandwidth limited fig  show time take transfer megabit file  km various transmission speed speed  mbps transmission time dominated rate bit sent  gbps msec roundtrip delay dominates  msec take put bit fiber increase bandwidth hardly effect figure  time transfer acknowledge megabit file km line  figure  unfortunate implication network protocol say stopandwait protocol rpc inherent upper bound performance limit dictated speed light amount technological progress optic ever improve matter new law physic would help though fifth problem worth mentioning technological protocol one like others result new application simply stated many gigabit application multimedia variance packet arrival time important mean delay slowbutuniform delivery rate often preferable fastbutjumpy one let u turn problem way dealing first make general remark look protocol mechanism packet layout protocol software basic principle gigabit network designer learn heart design speed bandwidth optimization old protocol often designed minimize number bit wire frequently using small field packing together byte word nowadays plenty bandwidth protocol processing problem protocol designed minimize ipv designer clearly understood principle tempting way go fast build fast network interface hardware difficulty strategy unless protocol exceedingly simple hardware mean plugin board second cpu program make sure network coprocessor cheaper main cpu often slower chip consequence design much time main fast cpu idle waiting second slow cpu critical work myth think main cpu work waiting furthermore two generalpurpose cpu communicate race condition occur elaborate protocol needed two processor synchronize correctly usually best approach make protocol simple main cpu work let u look issue feedback highspeed protocol due relatively long delay loop feedback avoided take long receiver signal sender one example feedback governing transmission rate using sliding window protocol avoid long delay inherent receiver sending window update sender better use ratebased protocol protocol sender send want provided send faster rate sender receiver agreed upon advance  second example feedback jacobson s slow start algorithm algorithm make multiple probe see much network handle highspeed network making half dozen small probe see network responds waste huge amount bandwidth efficient scheme sender receiver network reserve necessary resource connection setup time reserving resource advance also advantage making easier reduce jitter short going high speed inexorably push design toward connectionoriented operation something fairly close course bandwidth becomes plentiful future nobody care wasting lot design rule become different packet layout important consideration gigabit network header contain field possible reduce processing time field big enough job word aligned ease processing context big enough mean problem sequence number wrapping around old packet still exist receiver unable advertise enough window space window field small occur header data separately checksummed two reason first make possible checksum header data second verify header correct copying data user space desirable data checksum time data copied user space header incorrect copy may go wrong process avoid incorrect copy allow data checksum done copying essential two checksum separate maximum data size large permit efficient operation even face long delay also larger data block smaller fraction total bandwidth devoted header  byte small another valuable feature ability send normal amount data along connection request way one roundtrip time saved finally word protocol software appropriate key thought concentrating successful case many older protocol tend emphasize something go wrong eg packet getting lost make protocol run fast designer aim minimizing processing time everything go right minimizing processing time error occurs secondary second software issue minimizing copying time saw earlier copying data often main source overhead ideally hardware dump incoming packet memory contiguous block data software copy packet user buffer single block copy depending cache work may even desirable avoid copy loop word copy  word fastest way may  backtoback move instruction  loadstore pair copy routine critical carefully handcrafted assembly code unless way trick compiler producing precisely optimal code  summary transport layer key understanding layered protocol provides various service important endtoend reliable connectionoriented byte stream sender receiver accessed service primitive permit establishment use release connection common transport layer interface one provided berkeley socket transport protocol must able connection management unreliable network connection establishment complicated existence delayed duplicate packet  reappear inopportune moment deal threeway handshake needed establish connection releasing connection easier establishing one still far trivial due twoarmy problem even network layer completely reliable transport layer plenty work must handle service primitive manage connection timer allocate utilize credit internet two main transport protocol udp tcp udp connectionless protocol mainly wrapper ip packet additional feature multiplexing demultiplexing multiple process using single ip address udp used clientserver interaction example using rpc also used building realtime protocol rtp main internet transport protocol tcp provides reliable bidirectional byte stream us byte header segment segment fragmented router within internet host must prepared reassembly great deal work gone optimizing tcp performance using algorithm nagle clark jacobson karn others wireless link add variety complication tcp transactional tcp extension tcp handle clientserver interaction reduced number packet network performance typically dominated protocol tpdu processing overhead situation get worse higher speed protocol designed minimize number tpdus context switch time tpdu copied gigabit network simple protocol called problem  example transport primitive fig  listen blocking call strictly necessary explain nonblocking primitive could used advantage would scheme described text  model underlying fig  assumed packet may lost network layer thus must individually acknowledged suppose network layer  percent reliable never loses packet change needed fig   part fig  comment value server port must client server important  suppose clockdriven scheme generating initial sequence number used bit wide clock counter clock tick every  msec maximum packet lifetime  sec often need resynchronization take place worst case b b data consumes  sequence numbersmin  maximum packet lifetime large enough ensure packet also acknowledgement vanished  imagine twoway handshake rather threeway handshake used set connection word third message required deadlock possible give example show none exist  imagine generalized n army problem agreement two blue army sufficient victory protocol exist allows blue win  consider problem recovering host crash ie fig  interval writing sending acknowledgement vice versa made relatively small two best senderreceiver strategy minimizing chance protocol failure  deadlock possible transport entity described text fig   curiosity implementer transport entity fig  decided put counter inside sleep procedure collect statistic conn array among number connection seven possible state n    writing massive fortran program analyze data implementer discovers relation n max conn appears always true invariant involving seven variable  happens user transport entity given fig  sends zerolength message discus significance answer  event potentially occur transport entity fig  tell whether legal user sleeping sending state  discus advantage disadvantage credit versus sliding window protocol  udp exist would enough let user process send raw ip packet  consider simple applicationlevel protocol built top udp allows client retrieve file remote server residing wellknown address client first sends request file name server responds sequence data packet containing different part requested file ensure reliability sequenced delivery client server use stopandwait protocol ignoring obvious performance issue see problem protocol think carefully possibility process crashing  client sends byte request server located  km away gigabit optical fiber efficiency line remote procedure call  consider situation previous problem compute minimum possible response time given gbps line mbps line conclusion draw  udp tcp use port number identify destination entity delivering message give two reason protocol invented new abstract id port number instead using process id already existed protocol designed  total size minimum tcp mtu including tcp ip overhead including data link layer overhead  datagram fragmentation reassembly handled ip invisible tcp mean tcp worry data arriving wrong order  rtp used transmit cdquality audio make pair bit sample  timessec one sample stereo channel many packet per second must rtp transmit  would possible place rtp code operating system kernel along udp code explain answer  process host  assigned port p process host  assigned port q possible two tcp connection two port time  fig  saw addition bit acknowledgement field ack bit fourth word really add anything  maximum payload tcp segment  byte strange number chosen  describe two way get syn rcvd state fig   give potential disadvantage nagle s algorithm used badlycongested network  consider effect using slow start line msec roundtrip time congestion receive window  kb maximum segment size  kb long take first full window sent  suppose tcp congestion window set  kb timeout occurs big window next four transmission burst successful assume maximum segment size  kb  tcp roundtrip time rtt currently  msec following acknowledgement come    msec respectively new rtt estimate using jacobson algorithm use   tcp machine sending full window  byte gbps channel msec oneway delay maximum throughput achievable line efficiency   fastest line speed host blast byte tcp payload sec maximum packet lifetime without sequence number wrap around take tcp ip ethernet overhead consideration assume ethernet frame may sent continuously  network maximum tpdu size  byte maximum tpdu lifetime  sec bit sequence number maximum data rate per connection  suppose measuring time receive tpdu interrupt occurs read system clock millisecond tpdu fully processed read clock measure  msec  time  msec  time long take receive tpdu  cpu executes instruction rate  mips data copied  bit time word copied costing  instruction coming packet copied four time system handle gbps line simplicity assume instruction even instruction read write memory run full mips rate  get around problem sequence number wrapping around old packet still exist one could use bit sequence number however theoretically optical fiber run  tbps maximum packet lifetime required make sure future  tbps network wraparound problem even bit sequence number assume byte sequence number tcp  give one advantage rpc udp transactional tcp give one advantage ttcp rpc  fig  see take  packet complete rpc circumstance take exactly  packet  sec  calculated gigabit line dump  packetssec host giving  instruction process leaving half cpu time application calculation assumed byte packet redo calculation arpanetsized packet  byte case assume packet size given include overhead  gbps network operating  km delay limiting factor bandwidth consider man average source destination  km apart data rate roundtrip delay due speed light equal transmission delay kb packet  calculate bandwidthdelay product following network  t  mbps  ethernet  mbps  t  mbps  sts  mbps assume rtt  msec recall tcp header  bit reserved window size implication light calculation  bandwidthdelay product mbps channel geostationary satellite packet  byte including overhead big window packet  file server fig  far perfect could use improvement make following modification give client third argument specifies byte range b b add client flag –w allows file written server  modify program fig  error recovery add new packet type reset arrive connection opened side closed neither event happens simultaneously end connection mean packet transit either delivered destroyed either case longer subnet  write program simulates buffer management transport entity using sliding window flow control rather credit system fig  let higherlayer process randomly open connection send data close connection keep simple data travel machine machine b none way experiment different buffer allocation strategy b dedicating buffer specific connection versus common buffer pool measure total throughput achieved one   design implement chat system allows multiple group user chat chat coordinator resides wellknown network address us udp communication chat client set chat server chat session maintains chat session directory one chat server per chat session chat server us tcp communication client chat client allows user start join leave chat session design implement coordinator server client code  chapter  application layer finished preliminary come layer application found layer application layer provide reliable transport real work user chapter study real network application however even application layer need support protocol allow application function accordingly look one starting application item question dns handle naming within internet examine three real application electronic mail world wide web finally multimedia  dns—the domain name system although program theoretically could refer host mailbox resource network eg ip address address hard people remember also sending email tana  mean tana s isp organization move mail server different machine different ip address email address change consequently ascii name introduced decouple machine name machine address way tana s address might something like tana artucsbedu nevertheless network understands numerical address mechanism required convert ascii string network address following section study mapping accomplished internet way back arpanet simply file hoststxt listed host ip address every night host would fetch site maintained network hundred large timesharing machine approach worked reasonably well however thousand minicomputer pc connected net everyone realized approach could continue work forever one thing size file would become large however even important host name conflict would occur constantly unless name centrally managed something unthinkable huge international network due load latency solve problem dns domain name system invented essence dns invention hierarchical domainbased naming scheme distributed database system implementing naming scheme primarily used mapping host name email destination ip address also used purpose dns defined rfcs   briefly way dns used follows map name onto ip address application program call library procedure called resolver passing name parameter saw example resolver gethostbyname fig  resolver sends udp packet local dns server look name return ip address resolver return caller armed ip address program establish tcp connection destination send udp packet  dns name space managing large constantly changing set name nontrivial problem postal system name management done requiring letter specify implicitly explicitly country state province city street address addressee using kind hierarchical addressing confusion marvin anderson main st  white plain ny marvin anderson main st austin texas dns work way conceptually internet divided  toplevel domain domain cover many host domain partitioned subdomains partitioned domain represented tree shown fig  leaf tree represent domain subdomains contain machine course leaf domain may contain single host may represent company contain thousand host figure  portion internet domain name space toplevel domain come two flavor generic country original generic domain com commercial edu educational institution gov u federal government int certain international organization mil u armed force net network provider org nonprofit organization country domain include one entry every country defined iso  november  icann approved four new generalpurpose toplevel domain namely biz business info information name people s name pro profession doctor lawyer addition three specialized toplevel domain introduced request certain industry aero aerospace industry coop cooperative museum museum toplevel domain added future aside internet becomes commercial also becomes contentious take pro example intended certified professional professional certified doctor lawyer clearly professional freelance photographer piano teacher magician plumber barber exterminator tattoo artist mercenary prostitute occupation professional thus eligible pro domain certifies individual practitioner general getting secondlevel domain nameofcompany com easy merely requires going registrar corresponding toplevel domain com case check desired name available somebody else s trademark problem requester pay small annual fee get name virtually every common english word taken com domain try household article animal plant body part etc nearly taken domain named path upward unnamed root component separated period pronounced dot thus engineering department sun microsystems might engsuncom rather unixstyle name comsuneng notice hierarchical naming mean engsuncom conflict potential use eng engyaleedu might used yale english department  domain name either absolute relative absolute domain name always end period eg engsuncom whereas relative one relative name interpreted context uniquely determine true meaning case named domain refers specific node tree node domain name case insensitive edu edu edu mean thing component name  character long full path name must exceed  character principle domain inserted tree two different way example csyaleedu could equally well listed u country domain csyalectus practice however organization united state generic domain outside united state domain country rule registering two toplevel domain organization except multinationals eg sonycom sonynl domain control allocates domain example japan domain acjp cojp mirror edu com netherlands make distinction put organization directly nl thus three following university computer science department  csyaleedu yale university united state  csvunl vrije universiteit netherlands  cskeioacjp keio university japan create new domain permission required domain included example vlsi group started yale want known vlsicsyaleedu get permission whoever manages csyaleedu similarly new university chartered say university northern south dakota must ask manager edu domain assign unsdedu way name conflict avoided domain keep track subdomains new domain created registered create subdomains csunsdedu without getting permission anybody higher tree naming follows organizational boundary physical network example computer science electrical engineering department located building share lan nevertheless distinct domain similarly even computer science split babbage hall turing hall host building normally belong domain  resource record every domain whether single host toplevel domain set resource record associated single host common resource record ip address many kind resource record also exist resolver give domain name dns get back resource record associated name thus primary function dns map domain name onto resource record resource record fivetuple although encoded binary efficiency exposition resource record presented ascii text one line per resource record format use follows domainname timetolive class type value domain name tell domain record applies normally many record exist domain copy database hold information multiple domain  field thus primary search key used satisfy query order record database significant time live field give indication stable record information highly stable assigned large value  number second  day information highly volatile assigned small value   minute come back point later discussed caching third field every resource record class internet information always noninternet information code used practice rarely seen type field tell kind record important type listed fig  figure  principal dns resource record type ipv soa record provides name primary source information name server s zone described email address administrator unique serial number various flag timeouts important record type address record hold bit ip address host every internet host must least one ip address machine communicate host two network connection case one type resource record per network connection thus per ip address dns configured cycle returning first record first request second record second request next important record type mx record specifies name host prepared accept email specified domain used every machine prepared accept email someone want send email example bill microsoftcom sending host need find mail server microsoftcom willing accept email mx record provide information n record specify name server example every dns database normally n record toplevel domain example email sent distant part naming tree come back point later cname record allow alias created example person familiar internet naming general wanting send message someone whose login name paul computer science department mit might guess paul csmitedu work actually address work domain mit s computer science department lcsmitedu however service people know mit could create cname entry point people program right direction entry like one might job  csmitedu  cname lcsmitedu like cname ptr point another name however unlike cname really macro definition ptr regular dns datatype whose interpretation depends context found practice nearly always used associate name ip address allow lookup ip address return name corresponding machine called reverse lookup hinfo record allow people find kind machine operating system domain corresponds finally txt record allow domain identify arbitrary way record type user convenience neither required program count getting probably deal get finally value field field number domain name ascii string semantics depend record type short description value field principal record type given fig  example kind information one might find dns database domain see fig  figure depicts part semihypothetical database csvunl domain shown fig  database contains seven type resource record figure  portion possible dns database csvunl first noncomment line fig  give basic information domain concern u next two line give textual information domain located come two entry giving first second place try deliver email sent person csvunl zephyr specific machine tried first fails top tried next choice blank line added readability come line telling flit sun workstation running unix giving ip address three choice given handling e  mail sent flitscsvunl first choice naturally flit zephyr top second third choice next come alias wwwcsvunl address used without designating specific machine creating alias allows csvunl change world wide web server without invalidating address people use get similar argument hold ftpcsvunl next four line contain typical entry workstation case rowboatcsvunl information provided contains ip address primary secondary mail drop information machine come entry nonunix system capable receiving mail followed entry laser printer connected internet shown file ip address used look toplevel domain needed look distant host since part csvunl domain file supplied root server whose ip address present system configuration file loaded dns cache dns server booted dozen root server spread around world one know ip address toplevel domain server thus machine know ip address least one root server look dns name  name server theory least single name server could contain entire dns database respond query practice server would overloaded useless furthermore ever went entire internet would crippled avoid problem associated single source information dns name space divided nonoverlapping zone one possible way divide name space fig  shown fig  zone contains part tree also contains name server holding information zone normally zone one primary name server get information file disk one secondary name server get information primary name server improve reliability server zone located outside zone figure  part dns name space showing division zone zone boundary placed within zone zone s administrator decision made large part based many name server desired example fig  yale server yaleedu handle engyaleedu csyaleedu separate zone name server decision might made department english wish run name server  department computer science consequently csyaleedu separate zone engyaleedu resolver query domain name pass query one local name server domain sought fall jurisdiction name server aicsyaleedu falling csyaleedu return authoritative resource record authoritative record one come authority manages record thus always correct authoritative record contrast cached record may date however domain remote information requested domain available locally name server sends query message toplevel name server domain requested make process clearer consider example fig  resolver flitscsvunl want know ip address host lindacsyaleedu step  sends query local name server csvunl query contains domain name sought type class figure  resolver look remote name eight step let u suppose local name server never query domain know nothing may ask nearby name server none know sends udp packet server edu given database see fig  eduservernet unlikely server know address lindacsyaleedu probably know csyaleedu either must know child forward request name server yaleedu step  turn one forward request csyaleedu step  must authoritative resource record since request client server resource record requested work way back step   record get back csvunl name server entered cache case needed later however information authoritative since change made csyaleedu propagated cache world may know reason cache entry live long reason timetolive field included resource record tell remote name server long cache record certain machine ip address year may safe cache information  day volatile information might safer purge record second minute worth mentioning query method described known recursive query since server requested information go find somewhere report back alternative form also possible form query satisfied locally query fails name next server along line try returned server implement recursive query always return name next server try also worth pointing dns client fails get response timer go normally try another server next time assumption server probably rather request reply got lost dns extremely important correct functioning internet really map symbolic name machine onto ip address help locate people resource service object general locating thing another directory service  defined called ldap lightweight directory access protocol simplified version osi x directory service described rfc  organizes information tree allows search different component regarded white page telephone book discus book information see weltman dahbura   electronic mail electronic mail email known many fan around two decade  mostly used academia s became known public large grew exponentially point number email sent per day vastly number snail mail ie paper letter email like form communication convention style particular informal low threshold use people would never dream calling even writing letter important person hesitate second send sloppilywritten email email full jargon btw way rotfl rolling floor laughing imho humble opinion many people also use little ascii symbol called smiley emoticon email interesting one reproduced fig  rotating book  degree clockwise make clearer minibook giving  smiley see sanderson dougherty  figure  smiley final exam first email system simply consisted file transfer protocol convention first line message ie file contained recipient s address time went limitation approach became obvious complaint follows  sending message group people inconvenient manager often need facility send memo subordinate  message internal structure making computer processing difficult example forwarded message included body another message extracting forwarded part received message difficult  originator sender never knew message arrived  someone planning away business several week wanted incoming email handled secretary easy arrange  user interface poorly integrated transmission system requiring user first edit file leave editor invoke file transfer program  possible create send message containing mixture text drawing facsimile voice  experience gained elaborate email system proposed  arpanet email proposal published rfc  transmission protocol rfc  message format minor revision rfc  rfc  become internet standard everyone still refers internet email rfc   ccitt drafted x recommendation two decade competition email system based rfc  widely used whereas based x disappeared system hacked together handful computer science graduate student beat official international standard strongly backed ptts world many government substantial part computer industry brings mind biblical story david goliath reason rfc  s success good x poorly designed complex nobody could implement well given choice simpleminded working rfc based email system supposedly truly wonderful nonworking x email system organization chose former perhaps lesson lurking somewhere consequently discussion email focus internet email system  architecture service section provide overview email system organized normally consist two subsystem user agent allow people read send email message transfer agent move message source destination user agent local program provide commandbased menubased graphical method interacting email system message transfer agent typically system daemon process run background job move email system typically email system support five basic function let u take look composition refers process creating message answer although text editor used body message system provide assistance addressing numerous header field attached message example answering message email system extract originator s address incoming email automatically insert proper place reply transfer refers moving message originator recipient large part requires establishing connection destination intermediate machine outputting message releasing connection email system automatically without bothering user reporting telling originator happened message delivered rejected lost numerous application exist confirmation delivery important may even legal significance well honor email system reliable guess electronic subpoena got lost somewhere displaying incoming message needed people read email sometimes conversion required special viewer must invoked example message postscript file digitized voice simple conversion formatting sometimes attempted well disposition final step concern recipient message receiving possibility include throwing away reading throwing away reading saving also possible retrieve reread saved message forward process way  addition basic service email system especially internal corporate one provide variety advanced feature let u briefly mention people move away period time may want email forwarded system able automatically system allow user create mailbox store incoming email command needed create destroy mailbox inspect content mailbox insert delete message mailbox corporate manager often need send message subordinate customer supplier give rise idea mailing list list email address message sent mailing list identical copy delivered everyone list advanced feature carbon copy blind carbon copy highpriority email secret ie encrypted email alternative recipient primary one currently available ability secretary read answer boss email email widely used within industry intracompany communication allows farflung employee cooperate complex project even many time zone eliminating cue associated rank age gender email debate tend focus idea corporate status email brilliant idea summer student impact dumb one executive vice president key idea email system distinction envelope content envelope encapsulates message contains information needed transporting message destination address priority security level distinct message message transport agent use envelope routing post office message inside envelope consists two part header body header contains control information user agent body entirely human recipient envelope message illustrated fig  figure  envelope message paper mail b electronic mail   user agent email system two basic part seen user agent message transfer agent section look user agent user agent normally program sometimes called mail reader accepts variety command composing receiving replying message well manipulating mailbox user agent fancy menu icondriven interface requires mouse whereas others expect character command keyboard functionally system menu icondriven also keyboard shortcut sending email send email message user must provide message destination address possibly parameter message produced freestanding text editor word processing program possibly specialized text editor built user agent destination address must format user agent deal many user agent expect address form user dnsaddress since studied dns earlier chapter repeat material however worth noting form addressing exist particular x address look radically different dns address composed attribute value pair separated slash example cusstmassachusettslcambridgepa memorial drcnken smith address specifies country state locality personal address common name ken smith many attribute possible send email someone whose exact email address know provided know enough attribute eg company job title although x name considerably le convenient dns name email system alias sometimes called nickname allow user enter select person s name get correct email address consequently even x address usually necessary actually type strange string  email system support mailing list user send message list people single command mailing list maintained locally user agent send separate message intended recipient however list maintained remotely message expanded example group bird watcher mailing list called birder installed meadowlarkarizonaedu message sent birder meadowlarkarizonaedu routed university arizona expanded individual message mailing list member wherever world may user mailing list tell mailing list could well personal mailbox prof gabriel o birder reading email typically user agent started look user s mailbox incoming email displaying anything screen may announce number message mailbox display oneline summary one wait command example user agent work let u take look typical mail scenario starting user agent user asks summary email display like fig  appears screen line refers one message example mailbox contains eight message figure  example display content mailbox line display contains several field extracted envelope header corresponding message simple email system choice field displayed built program sophisticated system user specify field displayed providing user profile file describing display format basic example first field message number second field flag contain k meaning message new read previously kept mailbox meaning message already answered andor f meaning message forwarded someone else flag also possible third field tell long message fourth one tell sent message since field simply extracted message field may contain first name full name initial login name whatever else sender chooses put finally subject field give brief summary message people fail include subject field often discover response email tend get highest priority header displayed user perform several action displaying message deleting message older system text based typically used onecharacter command performing task type message answer message delete message f forward message argument specified message question recent system use graphical interface usually user selects message mouse click icon type answer delete forward  email come long way day file transfer sophisticated user agent make managing large volume email possible people receive send thousand message year tool invaluable  message format let u turn user interface format email message first look basic ascii email using rfc  look multimedia extension rfc  rfc  message consist primitive envelope described rfc  number header field blank line message body header field logically consists single line ascii text containing field name colon field value rfc  designed decade ago clearly distinguish envelope field header field although revised rfc  completely redoing possible due widespread usage normal usage user agent build message pass message transfer agent us header field construct actual envelope somewhat oldfashioned mixing message envelope principal header field related message transport listed fig  field give dns address primary recipient multiple recipient also allowed cc field give address secondary recipient term delivery distinction primary secondary recipient entirely psychological difference may important people involved important mail system term cc carbon copy bit dated since computer use carbon paper well established bcc blind carbon copy field like cc field except line deleted copy sent primary secondary recipient feature allows people send copy third party without primary secondary recipient knowing figure  rfc  header field related message transport next two field sender tell wrote sent message respectively need example business executive may write message secretary may one actually transmits case executive would listed field secretary sender field field required sender field may omitted field field needed case message undeliverable must returned sender line containing received added message transfer agent along way line contains agent s identity date time message received information used finding bug routing system  returnpath field added final message transfer agent intended tell get back sender theory information gathered received header except name sender s mailbox rarely filled typically contains sender s address addition field fig  rfc  message may also contain variety header field used user agent human recipient common one listed fig  selfexplanatory go detail figure  field used rfc  message header replyto field sometimes used neither person composing message person sending message want see reply example marketing manager writes email message telling customer new product message sent secretary replyto field list head sale department answer question take order field also useful sender two email account want reply go one rfc  document explicitly say user allowed invent new header private use provided header start string x guaranteed future header use name starting x avoid conflict official private header sometimes wiseguy undergraduate make field like xfruitoftheday xdiseaseoftheweek legal although always illuminating header come message body user put whatever want people terminate message elaborate signature including simple ascii cartoon quotation greater lesser authority political statement disclaimer kind eg xyz corporation responsible opinion fact even comprehend mime—the multipurpose internet mail extension early day arpanet email consisted exclusively text message written english expressed ascii environment rfc  job completely specified header left content entirely user nowadays worldwide internet approach longer adequate problem include sending receiving  message language accent eg french german  message nonlatin alphabet eg hebrew russian  message language without alphabet eg chinese japanese  message containing text eg audio image solution proposed rfc  updated rfcs – solution called mime multipurpose internet mail extension widely used describe additional information mime see rfcs  basic idea mime continue use rfc  format add structure message body define encoding rule nonascii message deviating rfc  mime message sent using existing mail program protocol changed sending receiving program user mime defines five new message header shown fig  first simply tell user agent receiving message dealing mime message version mime us message containing mimeversion header assumed english plaintext message processed figure  rfc  header added mime contentdescription header ascii string telling message header needed recipient know whether worth decoding reading message string say photo barbara s hamster person getting message big hamster fan message probably discarded rather decoded highresolution color photograph contentid header identifies content us format standard messageid header contenttransferencoding tell body wrapped transmission network may object character letter number punctuation mark five scheme plus escape new scheme provided simplest scheme ascii text ascii character use  bit carried directly email protocol provided line exceeds  character next simplest scheme thing using bit character value  including  encoding scheme violates original internet email protocol used part internet implement extension original protocol declaring encoding make legal explicit may least explain thing something go wrong message using bit encoding must still adhere standard maximum line length even worse message use binary encoding arbitrary binary file use  bit also even respect character line limit executable program fall category guarantee given message binary arrive correctly people try anyway correct way encode binary message use base encoding sometimes called ascii armor scheme group  bit broken four bit unit unit sent legal ascii character coding a  b  followed  lowercase letter ten digit finally   respectively sequence indicate last group contained   bit respectively carriage return line feed ignored inserted keep line short enough arbitrary binary text sent safely using scheme  message almost entirely ascii nonascii character base encoding somewhat inefficient instead encoding known quotedprintable encoding used bit ascii character  encoded equal sign followed character s value two hexadecimal digit summary binary data sent encoded base quotedprintable form valid reason use one scheme possible specify userdefined encoding contenttransferencoding header last header shown fig  really interesting one specifies nature message body seven type defined rfc  one subtypes type subtype separated slash contenttype videompeg subtype must given explicitly header default provided initial list type subtypes specified rfc  given fig  many new one added since additional entry added time need arises figure  mime type subtypes defined rfc  let u go briefly list type text type straight ascii text textplain combination ordinary message displayed received encoding processing option allows ordinary message transported mime extra header textenriched subtype allows simple markup language included text language provides systemindependent way express boldface italic smaller larger point size indentation justification sub superscripting simple page layout markup language based sgml standard generalized markup language also used basis world wide web s html example message bold time bold come italic walrus italic said would displayed  time come walrus said receiving system choose appropriate rendition boldface italic available used otherwise color blinking underlining reverse video etc used emphasis different system make different choice web became popular new subtype texthtml added rfc  allow web page sent rfc  email subtype extensible markup language textxml defined rfc  study html xml later chapter next mime type image used transmit still picture many format widely used storing transmitting image nowadays without compression two gif jpeg built nearly browser many others exist well added original list audio video type sound moving picture respectively please note video includes visual information soundtrack movie sound transmitted video audio portion may transmitted separately depending encoding system used first video format defined one devised modestlynamed moving picture expert group mpeg others added since addition audiobasic new audio type audiompeg added rfc  allow people email mp audio file application type catchall format require external processing covered one type octetstream sequence uninterpreted byte upon receiving stream user agent probably display suggesting user copied file prompting file name subsequent processing user defined subtype postscript refers postscript language defined adobe system widely used describing printed page many printer builtin postscript interpreter although user agent call external postscript interpreter display incoming postscript file without danger postscript fullblown programming language given enough time sufficiently masochistic person could write c compiler database management system postscript displaying incoming postscript message done executing postscript program contained addition displaying text program read modify delete user s file nasty side effect message type allows one message fully encapsulated inside another scheme useful forwarding email example complete rfc  message encapsulated inside outer message rfc subtype used partial subtype make possible break encapsulated message piece send separately example encapsulated message long parameter make possible reassemble part destination correct order finally externalbody subtype used long message eg video film instead including mpeg file message ftp address given receiver s user agent fetch network time needed facility especially useful sending movie mailing list people expected view think electronic junk mail containing advertising video final type multipart allows message contain one part beginning end part clearly delimited mixed subtype allows part different additional structure imposed many email program allow user  provide one attachment text message attachment sent using multipart type contrast multipart alternative subtype allows message included multiple time expressed two different medium example message could sent plain ascii enriched text postscript properlydesigned user agent getting message would display postscript possible second choice would enriched text neither possible flat ascii text would displayed part ordered simplest complex help recipient premime user agent make sense message eg even premime user read flat ascii text alternative subtype also used multiple language context rosetta stone thought early multipartalternative message multimedia example shown fig  birthday greeting transmitted text song receiver audio capability user agent fetch sound file birthdaysnd play lyric displayed screen stony silence part delimited two hyphen followed softwaregenerated string specified boundary parameter figure  multipart message containing enriched audio alternative note contenttype header occurs three position within example top level indicates message multiple part within part give type subtype part finally within body second part required tell user agent kind external file fetch indicate slight difference usage used lower case letter although header case insensitive contenttransferencoding similarly required external body encoded bit ascii  getting back subtypes multipart message two possibility exist parallel subtype used part must viewed simultaneously example movie often audio channel video channel movie effective two channel played back parallel instead consecutively finally digest subtype used many message packed together composite message example discussion group internet collect message subscriber send group single multipartdigest message  message transfer message transfer system concerned relaying message originator recipient simplest way establish transport connection source machine destination machine transfer message examining normally done examine situation work done smtp—the simple mail transfer protocol within internet email delivered source machine establish tcp connection port  destination machine listening port email daemon speaks smtp simple mail transfer protocol daemon accepts incoming connection copy message appropriate mailbox message delivered error report containing first part undeliverable message returned sender smtp simple ascii protocol establishing tcp connection port  sending machine operating client wait receiving machine operating server talk first server start sending line text giving identity telling whether prepared receive mail client release connection try later server willing accept email client announces email coming going recipient exists destination server give client goahead send message client sends message server acknowledges checksum needed tcp provides reliable byte stream email sent email exchanged direction connection released sample dialog sending message fig  including numerical code used smtp shown fig  line sent client marked c sent server marked figure  transferring message elinor abcdcom carolyn xyzcom  comment fig  may helpful first command client indeed helo various fourcharacter abbreviation hello one numerous advantage biggest competitor command four character lost mist time fig  message sent one recipient one rcpt command used command allowed send single message multiple receiver one individually acknowledged rejected even recipient rejected exist destination message sent one finally although syntax fourcharacter command client rigidly specified syntax reply le rigid numerical code really count implementation put whatever string want code get better feel smtp protocol described chapter work try case first go machine connected internet unix system shell type  telnet mailispcom  substituting dns name isp s mail server mailispcom window system click start run type command dialog box command establish telnet ie tcp connection port  machine port  smtp port see fig   common port probably get response something like trying  connected mailispcom escape character  mailispcom smail  ready thu  sept    first three line telnet telling last line smtp server remote machine announcing willingness talk accept email find command accepts type help point command sequence one fig  possible starting client s helo command worth noting use line ascii text command accident internet protocol work way using ascii text make protocol easy test debug tested sending command manually saw dump message easy read even though smtp protocol completely well defined problem still arise one problem relates message length older implementation handle message exceeding  kb another problem relates timeouts client server different timeouts one may give still busy unexpectedly terminating connection finally rare situation infinite mailstorms triggered example host  hold mailing list host  hold mailing list b list contains entry one message sent either list could generate neverending amount email traffic unless somebody check get around problem extended smtp esmtp defined rfc  client wanting use send ehlo message instead helo initially rejected server regular smtp server client proceed usual way ehlo accepted new command parameter allowed  final delivery assumed user work machine capable sending receiving email saw email delivered sender establish tcp connection receiver ship email model worked fine decade arpanet later internet host fact online time accept tcp connection however advent people access internet calling isp modem break problem happens elinor want send carolyn email carolyn currently online elinor establish tcp connection carolyn thus run smtp protocol one solution message transfer agent isp machine accept email customer store mailbox isp machine since agent online time email sent  hour day  pop unfortunately solution creates another problem user get email isp s message transfer agent solution problem create another protocol allows user transfer agent client pc contact message transfer agent isp s machine allow email copied isp user one protocol pop post office protocol version  described rfc  situation used hold sender receiver permanent connection internet illustrated fig  situation sender currently online receiver illustrated fig  b figure  sending reading mail receiver permanent internet connection user agent run machine message transfer agent b reading email receiver dialup connection isp pop begin user start mail reader mail reader call isp unless already connection establishes tcp connection message transfer agent port  connection established pop protocol go three state sequence  authorization  transaction  update authorization state deal user log transaction state deal user collecting email marking deletion mailbox update state actually cause email deleted behavior observed typing something like telnet mailispcom  mailispcom represents dns name isp s mail server telnet establishes tcp connection port  pop server listens upon accepting tcp connection server sends ascii message announcing present usually begin ok followed comment example scenario shown fig  starting tcp connection established line marked c  client user marked server message transfer agent isp s machine figure  using pop fetch three message authorization state client sends user name password successful login client send list com mand cause server list content mailbox one message per line giving length message list terminated period client retrieve message using retr command mark deletion dele message retrieved possibly marked deletion client give quit command terminate transaction state enter update state server deleted message sends reply break tcp connection true pop protocol support ability download specific message set message leave server email program download everything empty mailbox behavior mean practice copy user s hard disk crash email may lost permanently let u briefly summarize email work isp customer elinor creates message carolyn using email program ie user agent click icon send email program hand message message transfer agent elinor s host message transfer agent see directed carolyn xyzcom us dns look mx record xyzcom xyzcom carolyn s isp query return dns name xyzcom s mail server message transfer agent look ip address machine using dns example using gethostbyname establishes tcp connection smtp server port  machine using smtp command sequence analogous fig  transfer message carolyn s mailbox break tcp connection due course time carolyn boot pc connects isp start email program email program establishes tcp connection pop server port  isp s mail server machine dns name ip address machine typically configured email program installed subscription isp made  tcp connection established carolyn s email program run pop protocol fetch content mailbox hard disk using command similar fig   email transferred tcp connection released fact connection isp also broken since email carolyn s hard disk course send reply connection isp needed generally broken right fetching email imap user one email account one isp always accessed one pc pop work fine widely used due simplicity robustness however computerindustry truism soon something work well somebody start demanding feature getting bug happened email example many people single email account work school want access work home pc laptop business trip cybercafe socalled vacation pop allows since normally downloads stored message contact result user s email quickly get spread multiple machine le random even user s disadvantage gave rise alternative final delivery protocol imap internet message access protocol defined rfc  unlike pop basically assumes user clear mailbox every contact work offline imap assumes email remain server indefinitely multiple mailbox imap provides extensive mechanism reading message even part message feature useful using slow modem read text part multipart message large audio video attachment since working assumption message transferred user s computer permanent storage imap provides mechanism creating destroying manipulating multiple mailbox server way user maintain mailbox correspondent move message inbox read imap many feature ability address mail arrival number done fig  using attribute eg give first message bobbie unlike pop imap also accept outgoing email shipment destination well deliver incoming email general style imap protocol similar pop shown fig  except dozen command imap server listens port  comparison pop imap given fig  noted however every isp support protocol every email program support protocol thus choosing email program important find protocol support make sure isp support least one figure  comparison pop imap  delivery feature independently whether pop imap used many system provide hook additional processing incoming email especially valuable feature many email user ability set filter rule checked email come user agent started rule specifies condition action example rule could say message received bos go mailbox number  message select group friend go mailbox number  message containing certain objectionable word subject line discarded without comment isps provide filter automatically categorizes incoming email either important spam junk email store message corresponding mailbox filter typically work first checking see source known spammer usually examine subject line hundred user received message subject line probably spam technique also used spam detection another delivery feature often provided ability temporarily forward incoming email different address address even computer operated commercial paging service page user radio satellite displaying subject line pager still another common feature final delivery ability install vacation daemon program examines incoming message sends sender insipid reply hi m vacation ll back th august nice summer reply also specify handle urgent matter interim people contact specific problem etc vacation daemon keep track sent canned reply refrain sending person second reply good one also check see incoming message sent mailing list send canned reply people send message large mailing list summer probably want get hundred reply detailing everyone s vacation plan author ran extreme form delivery processing sent email message person claim get  message day identity disclosed lest half reader book also send email let u call john  john installed email robot check every incoming message see new correspondent sends back canned reply explaining john longer personally read email instead produced personal faq frequently asked question document answer many question commonly asked normally newsgroups faq people john s faq give address fax telephone number tell contact company explains get speaker describes get paper document also provides pointer software written conference running standard editor perhaps approach necessary maybe personal faq ultimate status symbol webmail one final topic worth mentioning webmail web site example hotmail yahoo provide email service anyone want work follows normal message transfer agent listening port  incoming smtp connection contact say hotmail acquire dns mx record example typing host –a –v hotmailcom unix system suppose mail server called mxhotmailcom typing telnet mxhotmailcom  establish tcp connection smtp command sent usual way far nothing unusual except big server often busy may take several attempt get tcp connection accepted interesting part email delivered basically user go email web page form presented user asked login name password user click sign login name password sent server validates login successful server find user s mailbox build listing similar fig  formatted web page html web page sent browser display many item page clickable message read deleted  world wide web world wide web architectural framework accessing linked document spread million machine internet  year went way distribute highenergy physic data application million people think the internet enormous popularity stem fact colorful graphical interface easy beginner use provides enormous wealth information almost every conceivable subject aardvark zulu web also known www began  cern european center nuclear research cern several accelerator large team scientist participating european country carry research particle physic team often member half dozen country experiment highly complex require year advance planning equipment construction web grew need large team internationally dispersed researcher collaborate using constantly changing collection report blueprint drawing photo document  initial proposal web linked document came cern physicist tim bernerslee march  first textbased prototype operational  month later december  public demonstration given hypertext  conference san antonio texas demonstration attendant publicity caught attention researcher led marc andreessen university illinois start developing first graphical browser mosaic released february  mosaic popular year later andreessen left form company netscape communication corp whose goal develop client server web software netscape went public  investor apparently thinking next microsoft paid  billion stock record surprising company one product operating deeply red announced prospectus expect make profit foreseeable future next three year netscape navigator microsoft s internet explorer engaged browser war one trying frantically add feature thus bug one  america online bought netscape communication corp  billion thus ending netscape s brief life independent company  cern mit signed agreement setting world wide web consortium sometimes abbreviated wc organization devoted developing web standardizing protocol encouraging interoperability site bernerslee became director since several hundred university company joined consortium although book web shake stick best place get uptodate information web naturally web consortium s home page wwwworg interested reader referred link page covering consortium s numerous document activity  architectural overview user point view web consists vast worldwide collection document web page often called page short page may contain link page anywhere world user follow link clicking take page pointed process repeated indefinitely idea one page point another called hypertext invented visionary mit professor electrical engineering vannevar bush  long internet invented page viewed program called browser internet explorer netscape navigator two popular one browser fetch page requested interprets text formatting command display page properly formatted screen example given fig  like many web page one start title contains information end email address page s maintainer string text link page called hyperlink often highlighted underlining displaying special color follow link user place mouse cursor highlighted area cause cursor change click although nongraphical browser lynx exist popular graphical browser concentrate latter voicebased browser also developed figure  web page b page reached clicking department animal psychology  user curious department animal psychology learn clicking underlined name browser fetch page name linked display shown fig  b underlined item also clicked fetch page new page machine first one machine halfway around globe user tell page fetching done browser without help user user ever return main page link already followed may shown dotted underline possibly different color distinguish link followed note clicking campus information line main page nothing underlined mean text linked another page basic model web work shown fig  browser displaying web page client machine user click line text linked page abcdcom server browser follows hyperlink sending message abcdcom server asking page page arrives displayed page contains hyperlink page xyzcom server clicked browser sends request machine page indefinitely figure  part web model  client side let u examine client side fig  detail essence browser program display web page catch mouse click item displayed page item selected browser follows hyperlink fetch page selected therefore embedded hyperlink need way name page web page named using url uniform resource locator typical url http wwwabcdcomproductshtml explain url later chapter moment sufficient know url three part name protocol http dns name machine page located wwwabcdcom usually name file containing page productshtml user click hyperlink browser carry series step order fetch page pointed suppose user browsing web find link internet telephony point itu s home page http wwwituorghomeindexhtml let u trace step occur link selected  browser determines url seeing selected  browser asks dns ip address wwwituorg  dns reply   browser make tcp connection port    sends request asking file homeindexhtml  wwwituorg server sends file homeindexhtml  tcp connection released  browser display text homeindexhtml  browser fetch display image file many browser display step currently executing status line bottom screen way performance poor user see due dns responding server responding simply network congestion page transmission able display new page page browser understand format allow browser understand web page web page written standardized  language called html describes web page discus detail later chapter although browser basically html interpreter browser numerous button feature make easier navigate web button going back previous page button going forward next page operative user gone back button going straight user s start page browser button menu item set bookmark given page another one display list bookmark making possible revisit mouse click page also saved disk printed numerous option generally available controlling screen layout setting various user preference addition ordinary text underlined hypertext underlined web page also contain icon line drawing map photograph optionally linked another page clicking one element cause browser fetch linked page display screen clicking text image photo map page fetched next may depend part image clicked page contain html page may consist formatted document pdf format icon gif format photograph jpeg format song mp format video mpeg format one hundred file type since standard html page may link browser problem encounter page interpret rather making browser larger larger building interpreter rapidly growing collection file type browser chosen general solution server return page also return additional information page information includes mime type page see fig  page type texthtml displayed directly page builtin type mime type one builtin one browser consults table mime type tell display page table associate mime type viewer two possibility plugins helper application plugin code module browser fetch special directory disk installs extension illustrated fig  plugins run inside browser access current page modify appearance plugin done job usually user moved different web page plugin removed browser s memory figure  browser plugin b helper application browser set procedure plugins must implement browser call plugin example typically procedure browser s base code call supply plugin data display set procedure plugin s interface browser specific  addition browser make set procedure available plugin provide service plugins typical procedure browser interface allocating freeing memory displaying message browser s status line querying browser parameter plugin used must installed usual installation procedure user go plugin s web site download installation file window typically selfextracting zip file extension exe zip file double clicked little program attached front zip file executed program unzips plugin copy browser s plugin directory make appropriate call register plugin s mime type associate plugin unix installer often shell script handle copying registration way extend browser use helper application complete program running separate process illustrated fig  b since helper separate program offer interface browser make use browser service instead usually accepts name scratch file content file stored open file display content typically helper large program exist independently browser adobe s acrobat reader displaying pdf file microsoft word program acrobat plugin invokes helper many helper application use mime type application considerable number subtypes defined example applicationpdf pdf file applicationmsword word file way url point directly pdf word file user click acrobat word automatically started handed name scratch file containing content displayed consequently browser configured handle virtually unlimited number document type change browser modern web server often configured hundred typesubtype combination new one often added every time new program installed helper application restricted using application mime type adobe photoshop us imagexphotoshop realone player capable handling audiomp example window program installed computer register mime type want handle mechanism lead conflict multiple viewer available subtype videompg happens last program register overwrites existing mime type helper application association capturing type consequence installing new program may change way browser handle existing type unix registration process generally automatic user must manually update certain configuration file approach lead work fewer surprise browser also open local file rather fetching remote web server since local file mime type browser need way determine plugin helper use type builtin type texthtml imagejpeg handle local file helper associated file extension well mime type standard configuration opening foopdf open acrobat opening bardoc open word browser use mime type file extension even information taken file guess mime type particular internet explorer relies heavily file extension mime type conflict arise since many program willing fact eager handle say mpg installation program intended professional often display checkboxes mime type extension prepared handle allow user select appropriate one thus overwrite existing association accident program aimed consumer market assume user clue mime type  simply grab everything without regard previously installed program done ability extend browser large number new type convenient also lead trouble internet explorer fetch file extension exe realizes file executable program therefore helper obvious action run program however could enormous security hole malicious web site produce web page picture say movie star sport hero linked virus single click picture cause unknown potentially hostile executable program fetched run user s machine prevent unwanted guest like internet explorer configured selective running unknown program automatically user understand manage configuration unix analogous problem exist shell script requires user consciously install shell helper fortunately installation sufficiently complicated nobody could possibly accident people even intentionally server side much client side let u take look server side saw user type url click line hypertext browser par url interprets part http next slash dns name look armed ip address server browser establishes tcp connection port  server sends command containing rest url name file server server return file browser display first approximation web server similar server fig  server like real web server given name file look return case step server performs main loop  accept tcp connection client browser  get name file requested  get file disk  return file client  release tcp connection modern web server feature essence web server problem design every request requires making disk access get file result web server serve request per second make disk access highend scsi disk average access time around  msec limit server  requestssec le large file read often major web site figure low one obvious improvement used web server maintain cache memory n recently used file going disk get file server check cache file served directly memory thus eliminating disk access although effective caching requires large amount main memory extra processing time check cache manage content saving time nearly always worth overhead expense next step building faster server make server multithreaded one design server consists frontend module accepts incoming request k processing module shown fig  k  thread belong process processing module access cache within process address space request come front end accepts build short record describing hand  record one processing module another possible design front end eliminated processing module try acquire request locking protocol required prevent conflict figure  multithreaded web server front end processing module processing module first check cache see file needed update record include pointer file record processing module start disk operation read cache possibly discarding cached file make room file come disk put cache also sent back client advantage scheme one processing module blocked waiting disk operation complete thus consuming cpu time module actively working request course get real improvement singlethreaded model necessary multiple disk one disk busy time k processing module k disk throughput much k time higher singlethreaded server one disk theory singlethreaded server k disk could also gain factor k code administration far complicated since normal blocking read system call used access disk multithreaded server used since read block thread made call entire process modern web server accept file name return file fact actual processing request get quite complicated reason many server processing module performs series step front end pass incoming request first available module carry using subset following step depending one needed particular request  resolve name web page requested  authenticate client  perform access control client  perform access control web page  check cache  fetch requested page disk  determine mime type include response  take care miscellaneous odds end  return reply client  make entry server log  step  needed incoming request may contain actual name file literal string example consider url http wwwcsvunl empty file name expanded default file name also modern browser specify user s default language eg italian english make possible server select web page language available general name expansion quite trivial might first appear due variety convention file naming step  consists verifying client s identity step needed page available general public discus one way later chapter step  check see restriction whether request may satisfied given client s identity location step  check see access restriction associated page certain file eg htaccess present directory desired page located may restrict access file particular domain example user inside company step   involve getting page step  need able handle multiple disk read time step  determining mime type file extension first word file configuration file possibly source step  variety miscellaneous task building user profile gathering certain statistic step  result sent back step  make entry system log administrative purpose log later mined valuable information user behavior example order people access page many request come second cpu able handle processing load matter many disk used parallel solution add node computer possibly replicated disk avoid disk become next bottleneck lead server farm model fig  front end still accepts incoming request spray multiple cpu rather multiple thread reduce load computer individual machine may multithreaded pipelined figure  server farm one problem server farm longer shared cache processing node memory—unless expensive sharedmemory multiprocessor used one way counter performance loss front end keep track sends request send subsequent request page node make node specialist certain page cache space wasted every file every cache another problem server farm client s tcp connection terminates front end reply must go front end situation depicted fig  incoming request  outgoing reply  pas front end  sometimes trick called tcp handoff used get around problem trick tcp end point passed processing node reply directly client shown  fig  b handoff done way transparent client figure  normal requestreply message sequence b sequence tcp handoff used urls—uniform resource locator repeatedly said web page may contain pointer web page time see bit detail pointer implemented web first created immediately apparent one page point another web page required mechanism naming locating page particular three question answered selected page could displayed  page called  page located  page accessed every page somehow assigned unique name would ambiguity identifying page nevertheless problem would solved consider parallel people page united state almost everyone social security number unique identifier two people supposed one nevertheless armed social security number way find owner s address certainly way tell whether write person english spanish chinese web basically problem solution chosen identifies page way solves three problem page assigned url uniform resource locator effectively serf page s worldwide name url three part protocol also known scheme dns name machine page located local name uniquely indicating specific page usually file name machine resides example example web site author s department contains several video university city amsterdam url video page http wwwcsvunlvideoindexenhtml url consists three part protocol http dns name host wwwcsvunl file name videoindexenhtml certain punctuation separating piece file name path relative default web directory csvunl many site builtin shortcut file name many site null file name default organization s main home page typically file named directory implies file  named indexhtml finally user might mapped onto user s www directory onto file indexhtml directory thus author s home page reached http wwwcsvunlast even though actual file name indexhtml certain default directory see hypertext work make piece text clickable page writer must provide two item information clickable text displayed url page go text selected explain command syntax later chapter text selected browser look host name using dns know host s ip address browser establishes tcp connection host connection sends file name using specified protocol bingo back come page url scheme openended sense straightforward browser use multiple protocol get different kind resource fact url various common protocol defined slightly simplified form common one listed fig  figure  common url let u briefly go list http protocol web s native language one spoken web server http stand hypertext transfer protocol examine detail later chapter ftp protocol used access file ftp internet s file transfer protocol ftp around two decade well entrenched numerous ftp server world allow people anywhere internet log download whatever file placed ftp server web change make obtaining file ftp easier ftp somewhat arcane interface powerful http example allows user machine transfer file machine b machine c possible access local file web page either using file protocol simply naming approach similar using ftp require server course work local file remote one long internet usenet news system consists  newsgroups million people discus wide variety topic posting reading article related topic newsgroup news protocol used call news article though web page mean web browser simultaneously news reader fact many browser button menu item make reading usenet news even easier using standard news reader  two format supported news protocol first format specifies newsgroup used get list article preconfigured news site second one requires identifier specific news article given case aa csutahedu browser fetch given article preconfigured news site using nntp network news transfer protocol study nntp book loosely based smtp similar style gopher protocol used gopher system designed university minnesota named school s athletic team golden gopher well slang expression meaning go ie go fetch gopher predates web several year information retrieval scheme conceptually similar web supporting text image essentially obsolete rarely used last two protocol really flavor fetching web page useful anyway mailto protocol allows user send email web browser way click open button specify url consisting mailto followed recipient s email address browser respond starting email program address header field already filled telnet protocol used establish online connection remote machine used way telnet program surprising since browser call telnet program helper application short url designed allow user navigate web deal ftp news gopher email telnet well making specialized user interface program service unnecessary thus integrating nearly internet access single program web browser fact idea thought physic researcher could easily pas output software company s advertising department despite nice property growing use web turned inherent weakness url scheme url point one specific host page heavily referenced desirable multiple copy far apart reduce network traffic trouble url provide way reference page without simultaneously telling way say want page xyz care get solve problem make possible replicate page ietf working system urn universal resource name urn thought generalized url topic still subject research although proposed syntax given rfc  statelessness cooky seen repeatedly web basically stateless concept login session browser sends request server get back file server forgets ever seen particular client first web used retrieving publicly available document model perfectly adequate web started acquire function caused problem example web site require client register possibly pay money use raise question server distinguish request registered user everyone else second example ecommerce user wanders around electronic store tossing item shopping cart time time server keep track content cart third example customized web portal yahoo user set detailed initial page information want eg stock favorite sport team server display correct page know user  first glance one might think server could track user observing ip address however idea work first many user work shared computer especially company ip address merely identifies computer user second even worse many isps use nat outgoing packet user bear ip address server s point view isp s thousand customer use ip address solve problem netscape devised muchcriticized technique called cooky name derives ancient programmer slang program call procedure get something back may need present later get work done sense unix file descriptor window object handle considered cookie cooky later formalized rfc  client request web page server supply additional information along requested page information may include cookie small  kb file string browser store offered cooky cookie directory client s hard disk unless user disabled cooky cooky file string executable program principle cookie could contain virus since cooky treated data official way virus actually run damage however always possible hacker exploit browser bug cause activation cookie may contain five field shown fig  domain tell cookie came browser supposed check server lying domain domain may store  cooky per client path path server s directory structure identifies part server s file tree may use cookie often mean whole tree figure  example cooky content field take form name value name value anything server want field cookie s content stored expires field specifies cookie expires field absent browser discard cookie exit cookie called nonpersistent cookie time date supplied cookie said persistent kept expires expiration time given greenwich mean time remove cookie client s hard disk server sends expiration time past finally secure field set indicate browser may return cookie secure server feature used ecommerce banking secure application seen cooky acquired used browser sends request page web site check cookie directory see cooky placed domain request going cooky placed domain included request message server get interpret way want let u examine possible us cooky fig  first cookie set tomscasinocom used identify customer client log next week throw away money browser sends cookie server know  armed customer id server look customer s record database use information build appropriate web page display depending customer s known gambling habit page might consist poker hand listing today s horse race slot machine second cookie came joesstorecom scenario client wandering around store looking good thing buy find bargain click server build cookie containing number item product code sends back client client continues wander around store cookie returned every new page request purchase accumulate server add cookie figure cart contains three item last desired duplicate finally client click proceed checkout cookie containing full list purchase sent along request way server know exactly purchased third cookie web portal customer click link portal browser sends cookie tell portal build page containing stock price sun microsystems oracle new york jet football result since cookie  kb plenty room detailed preference concerning newspaper headline local weather special offer etc cooky also used server s benefit example suppose server want keep track many unique visitor many page one looked leaving site first request come accompanying cookie server sends back cookie containing counter  subsequent click site send cookie back server time counter incremented sent back client keeping track counter server see many people give seeing first page many look two page cooky also misused theory cooky supposed go back originating site hacker exploited numerous bug browser capture cooky intended since ecommerce site put credit card number cooky potential abuse clear controversial use cooky secretly collect information user web browsing habit work like advertising agency say sneaky ad contact major web site place banner ad corporate client product page pay site owner fee instead giving site gif jpeg file place page give url add page url hand contains unique number file part http wwwsneakycomgif user first visit page p containing ad browser fetch html file browser inspects html file see link image file wwwsneakycom sends request image gif file containing ad returned along cookie containing unique user id  fig  sneaky record fact user id visited page p easy since file requested gif referenced page p course actual ad may appear thousand page time different file name sneaky probably collect couple penny product manufacturer time ship ad later user visit another web page containing sneaky s ad browser fetched html file server see link say http wwwsneakycomgif request file since already cookie domain sneakycom browser includes sneaky s cookie containing user id sneaky know second page user visited  due course time sneaky build complete profile user s browsing habit even though user never clicked ad course yet user s name although ip address may enough deduce name database however user ever supply name site cooperating sneaky complete profile along name available sale anyone want buy sale information may profitable enough sneaky place ad web site thus collect information insidious part whole business user completely unaware information collection may even think safe click ad sneaky want supersneaky ad need classical banner ad ad consisting single pixel background color thus invisible exactly effect banner ad requires browser go fetch  x pixel gif image send cooky originating pixel s domain maintain semblance privacy user configure browser reject cooky however give problem legitimate web site use cooky solve problem user sometimes install cookieeating software special program inspect incoming cookie upon arrival accept discard depending choice user given eg web site trusted give user finegrained control cooky accepted rejected modern browser mozilla wwwmozillaorg elaborate usercontrols cooky built  static web document basis web transferring web page server client simplest form web page static file sitting server waiting retrieved context even video static web page file section look static web page detail next one examine dynamic content html—the hypertext markup language web page currently written language called html hypertext markup language html allows user produce web page include text graphic pointer web page html markup language language describing document formatted term markup come old day copyeditors actually marked document tell printer—in day human being—which font use markup language thus contain explicit command formatting example html b mean start boldface mode b mean leave boldface mode advantage markup language one explicit markup writing browser straightforward browser simply understand markup command tex troff wellknown example markup language embedding markup command within html file standardizing becomes possible web browser read reformat web page able reformat web page receiving crucial page may produced  x  window bit color may displayed  x  window configured bit color give brief introduction html give idea like certainly possible write html document standard editor many people also possible use special html editor word processor work correspondingly give user le control detail final result web page consists head body enclosed html html tag formatting command although browser complain tag missing  seen fig  head bracketed head head tag body bracketed body body tag string inside tag called directive html tag format use something mark beginning something something mark end browser menu item view source something like selecting item display current page s html source instead formatted output figure  html sample web page b formatted page  tag either lower case upper case thus head head mean thing newer version standard require lower case actual layout html document irrelevant html parser ignore extra space carriage return since reformat text make fit current display area consequently white space added make html document readable something badly need another consequence blank line used separate paragraph simply ignored explicit tag required tag named parameter called attribute example img src abc alt foobar tag img parameter src set equal abc parameter alt set equal foobar tag html standard give list permitted parameter mean parameter named order parameter given significant technically html document written iso  latin character set user whose keyboard support ascii escape sequence present special character è list special character given standard begin ampersand end semicolon example nbsp produce space egrave produce è eacute produce é since special meaning expressed escape sequence lt gt amp respectively main item head title delimited title title certain kind metainformation may also present title displayed page browser use label page s window let u take look feature illustrated fig  tag used fig  others shown fig  heading generated h n tag n digit range   thus h important heading h least important one browser render appropriately screen typically lower numbered heading displayed larger heavier font browser may also choose use different color level heading typically h heading large boldface least one blank line contrast h heading smaller font le space figure  selection common html tag additional parameter  tag b used enter boldface italic mode respectively browser capable displaying boldface italic must use method rendering example using different color perhaps reverse video html provides various mechanism making list including nested list list started ul ol li used mark start item case ul tag start unordered list individual item marked li tag source appear bullet • front variant mechanism ol ordered list tag used li item numbered browser use different starting ending tag ul ol syntax similar result br p hr tag indicate boundary section text precise format determined style sheet see associated page br tag force line break typically browser insert blank line br contrast p start paragraph might example insert blank line possibly indentation theoretically p exists mark end paragraph rarely used html author even know exists finally hr force break draw horizontal line across screen html allows image included inline web page img tag specifies image displayed current position page several parameter src parameter give url image html standard specify graphic format permitted practice browser support gif amd jpeg file browser free support format extension twoedged sword user accustomed browser support say bmp file may include web page later surprised browser ignore wonderful art parameter img align control alignment image respect text baseline top middle bottom alt provides text use instead image user disabled image ismap flag indicating image active map ie clickable picture finally come hyperlink use anchor a tag like img various parameter including href url name hyperlink s name text  a displayed selected hyperlink followed new page also permitted put img image case clicking image also activates hyperlink example consider following html fragment href http wwwnasagov nasa s home page a page fragment displayed appears screen nasa s home page user subsequently click text browser immediately fetch page whose url http wwwnasagov display second example consider href http wwwnasagov img src shuttlegif alt nasa a displayed page show picture eg space shuttle clicking picture switch nasa s home page clicking underlined text previous example user disabled automatic image display text nasa displayed picture belongs tag take parameter name plant hyperlink allow hyperlink point middle page example web page start clickable table content clicking item table content user jump corresponding section page html keep evolving html  html  table added html  html table consists one row consisting one cell cell contain wide range material including text figure icon photograph even table cell merged example heading span multiple column page author limited control layout including alignment border style cell margin browser final say rendering table html table definition listed fig  possible rendition shown fig   b example show basic feature html table table started table tag additional information provided describe general property table figure  html table b possible rendition table  caption tag used provide figure caption row begin tr table row tag individual cell marked th table header td table data distinction made allow browser use different rendition done example numerous attribute also allowed table include way specify horizontal vertical cell alignment justification within cell border grouping cell unit html  new feature added include accessibility feature handicapped user object embedding generalization img tag object also embedded page support scripting language allow dynamic content web site complex consisting many page produced multiple author working company often desirable way prevent different page  different appearance problem solved using style sheet used individual page longer use physical style boldface italic instead page author use logical style dn define em weak emphasis strong strong emphasis var program variable logical style defined style sheet referred start page way page style webmaster decides change strong point italic blue point boldface shocking pink requires changing one definition convert entire web site style sheet compared include file c program changing one macro definition change program file include header form html  basically oneway user could call page information provider difficult send information back way commercial organization began using web large demand twoway traffic example many company wanted able take order product via web page software vendor wanted distribute software via web customer fill registration card electronically company offering web searching wanted customer able type search keywords demand led inclusion form starting html  form contain box button allow user fill information make choice send information back page s owner use input tag purpose variety parameter determining size nature usage box displayed common form blank field accepting user text box checked active map submit button example fig  illustrates choice figure  html order form b formatted page  let u start discussion form going example like form one enclosed form form tag text enclosed tag displayed usual tag eg b allowed form three kind input box used form first kind input box follows text name box  character wide expects user type string stored variable customer later processing p tag instructs browser display subsequent text box next line even room current line using p layout tag author page control look form screen next line form asks user s street address  column wide also line come line asking city state country p tag used field browser display one line fit far browser concerned paragraph contains six item three string alternating three box display linearly left right going new line whenever current line hold next item thus conceivable  x  screen  three string corresponding box appear line  x  screen might split two line worst scenario word country end one line box beginning next line next line asks credit card number expiration date transmitting credit card number internet done adequate security measure taken discus chap  following expiration date encounter new feature radio button used choice must made among two alternative intellectual model car radio half dozen button choosing station browser display box form allows user select deselect clicking using keyboard clicking one turn one group visual presentation browser widget size also us two radio button two group distinguished name field static scoping using something like radiobutton radiobutton value parameter used indicate radio button pushed depending credit card option user chosen variable cc set either string mastercard string visacard two set radio button come shipping option represented box type checkbox either unlike radio button exactly one set must chosen box type checkbox independently others example ordering pizza via electropizza s web page user choose sardine onion pineapple stand choose small medium large pizza pizza topping would represented three separate box type checkbox whereas pizza size would set radio button aside long list choice must made radio button somewhat inconvenient therefore select select tag provided bracket list alternative semantics radio button unless multiple parameter given case semantics checkable box browser render item located select select dropdown menu seen two builtin type input tag radio checkbox fact already seen third one well text type default bother include parameter type text could two type password textarea password box text box except character displayed typed textarea box also text box except contain multiple line getting back example fig  come across example submit button clicked user information form sent back machine provided form like type submit reserved word browser understands value string label button displayed box value needed feature text box content value field displayed along form user edit erase checkbox radio box also initialized field called checked value give text indicate preferred choice user click submit button browser package collected information single long line sends back server processing used separate field used represent space example form line might look like content fig  broken three line page wide enough  figure  possible response browser server information string would sent back server one line three checkbox selected omitted string server make sense string discus could done later chapter xml xsl html without form provide structure web page also mix content formatting ecommerce application become common increasing need structuring web page separating content formatting example program search web best price book cd need analyze many web page looking item s title price web page html difficult program figure title price reason wc developed enhancement html allow web page structured automated processing two new language developed purpose first xml extensible markup language describes web content structured way second xsl extensible style language describes formatting independently content large complicated topic brief introduction scratch surface give idea work consider example xml document fig  defines structure called book list list book s book three field title author year publication structure extremely simple permitted structure repeated field eg multiple author optional field eg title included cdrom alternative field eg url bookstore print url auction site print figure  simple web page xml  example three field indivisible entity also permitted subdivide field example author field could done follows give finergrained control searching formatting author firstname andrew firstname lastname tanenbaum lastname author field subdivided subfields subsubfields arbitrarily deep file fig  define book list containing three book say nothing display web page screen provide formatting information need second file book listxsl containing xsl definition file style sheet tell display page alternative style sheet way convert xml html alternative beyond scope book sample xsl file formatting fig  given fig  necessary declaration including url xsl standard file contains tag starting html body define start web page figure  style sheet xsl usual come table definition including heading three column note addition th tag th tag well something bother far xml xsl specification much stricter html specification state rejecting syntactically incorrect file mandatory even browser determine web designer meant browser accepts syntactically incorrect xml xsl file repair error conformant rejected conformance test browser allowed pinpoint error however somewhat draconian measure needed deal immense number sloppy web page currently  statement xsl foreach select booklistbook analogous statement c cause browser iterate loop body ended xsl foreach one iteration book iteration output five line tr title author year tr loop closing tag body html output result browser s interpreting style sheet web page contained table inline however format program analyze xml file easily find book published  example worth emphasizing even though xsl file contained kind loop web page xml xsl still static since simply contain instruction browser display page html page course use xml xsl browser able interpret xml xsl already capability yet clear whether xsl take traditional style sheet shown xml allows web site designer make definition file structure defined advance definition file included making possible use build complex web page additional information many feature xml xsl see one many book subject two example livingston  williamson  ending discussion xml xsl worth commenting ideological battle going within www consortium web designer community original goal html specify structure document appearance example h deborah s photo h instructs browser emphasize heading say anything typeface point size color left browser know property display eg many pixel however many web page designer wanted absolute control page appeared new tag added html control appearance font face helvetica size  color red deborah s photo font also way added control positioning screen accurately trouble approach portable although page may render perfectly browser developed another browser another release browser different screen resolution may complete mess xml part attempt go back original goal specifying structure appearance document however xsl also provided manage appearance format misused however count xml used purpose describing web page one growing use language communication application program particular soap simple object access protocol way performing rpcs application language systemindependent way client construct request xml message sends server using http protocol described server sends back reply xml formatted message way application heterogeneous platform communicate xhtml—the extended hypertext markup language  html keep evolving meet new demand many people industry feel future majority webenabled device pc wireless handheld pdatype device device limited memory large browser full heuristic try somehow deal syntactically incorrect web page thus next step html  language picky called xhtml extended hypertext markup language rather html  essentially html  reformulated xml mean tag h intrinsic meaning get html  effect definition needed xsl file xhtml new web standard used new web page achieve maximum portability across platform browser six major difference variety minor difference xhtml html  let u go major difference first xhtml page browser must strictly conform standard shoddy web page property inherited xml second tag attribute must lower case tag like html valid xhtml use tag like html mandatory similarly img src picjpg also forbidden contains uppercase attribute third closing tag required even p tag natural closing tag br hr img slash must precede closing example img src picjpg fourth attribute must contained within quotation mark example img src picjpg height longer allowed  enclosed quotation mark like name jpeg file even though  number fifth tag must nest properly past proper nesting required long final state achieved correct example center b vacation picture center b used legal xhtml tag must closed inverse order opened sixth every document must specify document type saw fig  example discussion change major minor see wwwworg  dynamic web document far model used fig  client sends file name server return file early day web content fact static like file however recent year content become dynamic generated demand rather stored disk content generation take place either server side client side let u examine case turn serverside dynamic web page generation see serverside content generation needed consider use form described earlier user fill form click submit button message sent server indicating contains content form along field user filled message name file return needed message given  program script process usually processing involves using usersupplied information look record database server s disk generate custom html page send back client example ecommerce application user click proceed checkout browser return cookie containing content shopping cart program script server invoked process cookie generate html page response html page might display form containing list item cart user s lastknown shipping address along request verify information specify method payment step required process information html form illustrated fig  figure  step processing information html form traditional way handle form interactive web page system called cgi common gateway interface standardized interface allow web server talk backend program script accept input eg form generate html page response usually backends script written perl scripting language perl script easier faster write program least know program perl convention live directory called cgibin visible url sometimes another scripting language python used instead perl example cgi often work consider case product truly great product company come without warranty registration card instead customer told go wwwtgpccom register online page hyperlink say click register product link point perl script say wwwtgpccomcgibinregperl script invoked parameter sends back html page containing registration form user fill form click submit message sent back script containing value filled using style fig  perl script par parameter make entry database new customer sends back html page providing registration number telephone number help desk way handle form common way many book making cgi script programming perl example hanegan  lash  meltzer michalski  cgi script way generate dynamic content server side another common way embed little script inside html page executed server generate page popular language writing script php php hypertext preprocessor use server understand php browser understand xml interpret web page written xml usually server expect web page containing php file extension php rather html htm tiny php script illustrated fig  work server php installed contains normal html except php script inside php tag generate web page telling know browser invoking browser normally send information along request applicable cooky information put variable httpuseragent listing put  file testphp www directory abcd company typing url wwwabcdcomtestphp produce web page telling user browser language operating system using figure  sample html page embedded php php especially good handling form simpler using cgi script example work form consider example fig  figure contains normal html page form unusual thing first line specifies file actionphp invoked handle parameter user filled submitted form page display two text box one request name one request age two box filled form submitted server par fig  type string sent back putting name name variable age age variable start process actionphp file shown fig   b reply processing file php command executed user filled barbara  box html file sent back one given fig  c thus handling form becomes extremely simple using php figure  web page containing form b php script handling output form c output php script input barbara  respectively  although php easy use actually powerful programming language oriented toward interfacing web server database variable string array control structure found c much powerful io printf php open source code freely available designed specifically work well apache also open source world s widely used web server information php see valade  seen two different way generate dynamic html page cgi script embedded php also third technique called jsp javaserver page similar php except dynamic part written java programming language instead php page using technique file extension jsp fourth technique asp active server page microsoft s version php javaserver page us microsoft s proprietary scripting language visual basic script generating dynamic content page using technique extension asp choice among php jsp asp usually politics open source v sun v microsoft technology since three language roughly comparable collection technology generating content fly sometimes called dynamic html clientside dynamic web page generation cgi php jsp asp script solve problem handling form interaction database server accept incoming information form look information one database generate html page result none respond mouse movement interact user directly purpose necessary script embedded html page executed client machine rather server machine starting html  script  permitted using tag script popular scripting language client side javascript take quick look javascript scripting language loosely inspired idea java programming language definitely java like scripting language high level language example single line javascript possible pop dialog box wait text input store resulting string variable highlevel feature like make javascript ideal designing interactive web page hand fact standardized mutating faster fruit fly trapped xray machine make extremely difficult write javascript program work platform maybe day stabilize example program javascript consider fig  like fig  display form asking name age predicts old person next year body almost php example main difference declaration submit button assignment statement assignment statement tell browser invoke response script button click pas form parameter figure  use javascript processing form completely new declaration javascript function response head html file area normally reserved title background color function extract value name field form store variable person string also extract value age field convert integer using eval function add  store result year open document output four writes using writeln method close document document html file seen various html tag browser display document screen  important understand fig  fig  look similar processed totally differently fig  user clicked submit button browser collect information long string style fig  sends server sent page server see name php file executes php script produce new html page page sent back browser display fig  submit button clicked browser interprets javascript function contained page work done locally inside browser contact server consequence result displayed virtually instantaneously whereas php delay several second resulting html arrives client difference serverside scripting clientside scripting illustrated fig  including step involved case numbered step start form displayed step  consists accepting user input come processing input differs two case figure  serverside scripting php b clientside scripting javascript difference mean javascript better php us completely different php implication jsp asp used interaction remote database needed javascript used interaction user client computer certainly possible common html page use php javascript although work button course javascript fullblown programming language power c java variable string array object function usual control structure also large number facility specific web page including ability manage window frame set get cooky deal form handle hyperlink example javascript program us recursive function given fig  figure  javascript program computing printing factorial  javascript also track mouse motion object screen many javascript web page property mouse cursor moved text image something happens often image change menu suddenly appears kind behavior easy program javascript lead lively web page example given fig  figure  interactive web page responds mouse movement javascript way make web page highly interactive another popular method use applet small java program compiled machine instruction virtual computer called jvm java virtual machine applet embedded html page applet applet interpreted jvmcapable browser java applet interpreted rather directly executed java interpreter prevent bad thing least theory practice applet writer found nearly endless stream bug java io library exploit  microsoft s answer sun s java applet allowing web page hold activex control program compiled pentium machine language executed bare hardware feature make vastly faster flexible interpreted java applet anything program internet explorer see activex control web page downloads verifies identity executes however downloading running foreign program raise security issue address chap  since nearly browser interpret java program javascript designer want make highlyinteractive web page choice least two technique portability multiple platform issue activex addition general rule javascript program easier write java applet execute faster activex control run fastest also since browers implement exactly jvm two browser implement version javascript java applet portable javascript program information javascript many book many often  page example easttom  harris  mcfedries  leaving subject dynamic web content let u briefly summarize covered far complete web page generated onthefly various script server machine received browser treated normal html page displayed script written perl php jsp asp shown fig  figure  various way generate display content dynamic content generation also possible client side web page written xml converted html according xsl file javascript program perform arbitrary computation finally plugins helper application used display content variety format  http—the hypertext transfer protocol transfer protocol used throughout world wide web http hypertext transfer protocol specifies message client may send server response get back return interaction consists one ascii request followed one rfc  mimelike response client server must obey protocol defined rfc  section look important property connection usual way browser contact server establish tcp connection port  server s machine although procedure formally required value using tcp neither browser server worry lost message duplicate message  long message acknowledgement matter handled tcp implementation http  connection established single request sent single response sent back tcp connection released world typical web page consisted entirely html text method adequate within year average web page contained large number icon image eye candy establishing tcp connection transport single icon became expensive way operate observation led http  support persistent connection possible establish tcp connection send request get response send additional request get additional response amortizing tcp setup release multiple request relative overhead due tcp much le per request also possible pipeline request send request  response request  arrived method although http designed use web intentionally made general necessary eye future objectoriented application reason operation called method requesting web page supported generality permitted soap come existence request consists one line ascii text first word first line name method requested builtin method listed fig  accessing general object additional objectspecific method may also available name case sensitive get legal method get figure  builtin http request method get method request server send page mean object general case practice normally file page suitably encoded mime vast majority request web server get s usual form get get filename http filename name resource file fetched  protocol version used head method asks message header without actual page method used get page s time last modification collect information indexing purpose test url validity put method reverse get instead reading page writes page method make possible build collection web page remote server body  request contains page may encoded using mime case line following put might include contenttype authentication header prove caller indeed permission perform requested operation somewhat similar put post method bear url instead replacing existing data new data appended generalized sense posting message newsgroup adding file bulletin board system example appending context practice neither put post used much delete might expect remove page put authentication permission play major role guarantee delete succeeds since even remote http server willing delete page underlying file may mode forbids http server modifying removing trace method debugging instructs server send back request method useful request processed correctly client want know request server actually got connect method currently used reserved future use option method provides way client query server property specific file every request get response consisting status line possibly additional information eg part web page status line contains threedigit status code telling whether request satisfied first digit used divide response five major group shown fig  xx code rarely used practice xx code mean request handled successfully content returned xx code tell client look elsewhere either using different url cache discussed later xx code mean request failed due client error invalid request nonexistent page finally xx error mean server problem either due error code temporary overload figure  status code response group message header request line eg line get method may followed additional line information called request header information compared parameter procedure call response may also response header header used either direction selection important one given fig  figure  http message header  useragent header allows client inform server browser operating system property fig  saw server magically information could produce demand php script header used client provide server information four accept header tell server client willing accept event limited repertoire acceptable first header specifies mime type welcome eg texthtml second give character set eg iso unicode third deal compression method eg gzip fourth indicates natural language eg spanish server choice page use information supply one client looking unable satisfy request error code returned request fails host header name server taken url header mandatory used ip address may serve multiple dns name server need way tell host hand request authorization header needed page protected case client may prove right see page requested header used case although cooky dealt rfc  rather rfc  also two header cookie header used client return server cookie previously sent machine server s domain date header used direction contains time date message sent upgrade header used make easier make transition future possibly incompatible version http protocol allows client announce support server assert using come header used exclusively server response request first one server allows server tell property wish  next four header starting content allow server describe property page sending lastmodified header tell page last modified header play important role page caching location header used server inform client try different url used page moved allow multiple url refer page possibly different server also used company main web page com domain redirect client national regional page based ip address preferred language page large small client may want server accept request byte range page fetched multiple small unit acceptranges header announces server s willingness handle type partial page request second cookie header setcookie server send cooky client client expected save cookie return subsequent request server example http usage http ascii protocol quite easy person terminal opposed browser directly talk web server needed tcp connection port  server reader encouraged try scenario personally preferably unix system system return connection status following command sequence telnet wwwietforg  log get rfchtml http host wwwietforg close sequence command start telnet ie tcp connection port  ietf s web server wwwietforg result session redirected file log later inspection come get command naming file protocol next line mandatory host header blank line also required signal server request header close command instructs telnet program break connection log inspected using editor start similarly listing fig   unless ietf changed recently figure  start output wwwietforgrfchtml  first three line output telnet program remote site line beginning http ietf s response saying willing talk http come number header content seen header already except etag unique page identifier related caching xpad nonstandard probably workaround buggy browser  performance enhancement popularity web almost undoing server router line frequently overloaded many people begun calling www world wide wait consequence endless delay researcher developed various technique improving performance examine three caching server replication content delivery network caching fairly simple way improve performance save page requested case used technique especially effective page visited great deal wwwyahoocom wwwcnncom squirreling away page subsequent use called caching usual procedure process called proxy maintain cache use caching browser configured make page request proxy instead page s real server proxy page return page immediately fetch page fromthe server add cache future use return client requested two important question related caching follows  caching   long page cached several answer first question individual pc often run proxy quickly look page previously visited company lan proxy often machine shared machine lan one user look certain page another one lan want page fetched proxy s cache many isps also run proxy order speed access customer often cache operate time request first go local proxy fails local proxy query lan proxy fails lan proxy try isp proxy latter must succeed either cache higherlevel cache server scheme involving multiple cache tried sequence called hierarchical caching possible implementation illustrated fig  figure  hierarchical caching three proxy long page cached bit trickier page cached example page containing price  active stock change every second cached user getting copy cache would get stale ie obsolete data hand stock exchange closed day page remain valid hour day next trading session start thus cacheability page may vary wildly time key issue determining evict page cache much staleness user willing put since cached page kept disk amount storage consumed rarely issue proxy throw page quickly rarely return stale page also effective ie low hit rate keep page long may high hit rate expense often returning stale page two approach dealing problem first one us heuristic guess long keep page common one base holding time lastmodified header see fig  page modified hour ago held cache hour modified year ago obviously stable page say list god greek roman mythology cached year reasonable expectation changing year heuristic often work well practice return stale page time time approach expensive eliminates possibility stale page using special feature rfc  deal cache management one useful feature ifmodifiedsince request header proxy send server specifies page proxy want time cached page last modified lastmodified header page modified since server sends back short modified message status code  fig  instructs proxy use cached page page modified since new page returned approach always requires request message reply message reply message short cache entry still valid two approach easily combined first fetching page proxy return client asking page around  proxy us ifmodifiedsince message check freshness choosing invariably involves kind heuristic depending long ago page last modified web page containing dynamic content eg generated php script never cached since parameter may different next time handle case general mechanism server instruct proxy along path back client use current page without verifying freshness mechanism also used page expected change quickly variety cache control mechanism also defined rfc  yet another approach improving performance proactive caching proxy fetch page server inspect page see hyperlink issue request relevant server preload cache page pointed case needed technique may reduce access time subsequent request may also flood communication line page never needed clearly web caching far trivial lot said fact entire book written example rabinovich spatscheck  wessels  time u move next topic server replication caching clientside technique improving performance serverside technique also exist common approach server take improve performance replicate content multiple widelyseparated location technique sometimes called mirroring typical use mirroring company s main web page contain image along link say company s eastern western northern southern regional web site user click nearest one get server request go server selected mirrored site generally completely static company decides want place mirror arranges server region put le full content location possibly omitting snow blower miami site beach blanket anchorage site choice site generally remains stable month year unfortunately web phenomenon known flash crowd web site previously unknown unvisited backwater sudden becomes center known universe example nov   florida secretary state s web site wwwdosstateflus quietly providing minute meeting florida state cabinet instruction become notary florida nov   u presidency suddenly hinged thousand disputed vote handful florida county became one top five web site world needle say could handle load nearly died trying needed way web site suddenly notice massive increase traffic automatically clone many location needed keep site operational storm pass time shuts many ability site need agreement advance company owns many hosting site saying create replica demand pay capacity actually us even flexible strategy create dynamic replica perpage basis depending traffic coming research topic reported pierre et al  pierre et al   content delivery network brilliance capitalism somebody figured make money world wide wait work like company called cdn content delivery network talk content provider music site newspaper others want content easily rapidly available offer deliver content end user efficiently fee contract signed content owner give cdn content web site preprocessing discussed shortly distribution cdn talk large number isps offer pay well permission place remotelymanaged server bulging valuable content lan source income also provides isp s customer excellent response time getting cdn s content thereby giving isp competitive advantage isps taken free money cdn condition signing cdn kind nobrainer isp consequence largest cdns  server deployed world content replicated thousand site worldwide clearly great potential improving performance however make work way redirect client s request nearest cdn server preferably one colocated client s isp also redirection must done without modifying dns part internet s standard infrastructure slightly simplified description akamai largest cdn follows whole process start content provider hand cdn web site cdn run page preprocessor replaces url modified one working model behind strategy content provider s web site consists many page tiny html text page often link large file image audio video modified html page stored content provider s server fetched usual way image audio video go cdn s server see scheme actually work consider furry video s web page fig  preprocessing transformed fig  b placed furry video s server wwwfurryvideocomindexhtml figure  original web page b page transformation  user type url wwwfurryvideocom dns return ip address furry video s web site allowing main html page fetched normal way hyperlink clicked browser asks dns look cdnservercom browser sends http request ip address expecting get back mpeg file happen cdnservercom host content instead cdn s fake http server examines file name server name find page content provider needed also examines ip address incoming request look database determine user likely armed information determines cdn s content server give user best service decision difficult closest one geographically may closest one term network topology closest one term network topology may busy moment making choice cdnservercom sends back response status code  location header giving file s url cdn content server nearest client example let u assume url wwwcdncomfurryvideobearsmpg browser process url usual way get actual mpeg file step involved illustrated fig  first step looking wwwfurryvideocom get ip address html page fetched displayed usual way page contains three hyperlink cdnserver see fig  b say first one selected dns address looked step  returned step  request bearsmpg sent cdnserver step  client told go cdncom instead step  instructed step  given file proxy s cache step  property make whole mechanism work step  fake http server redirecting client cdn proxy close client figure  step looking url cdn used  cdn server client redirected typically proxy large cache preloaded important content however someone asks file cache fetched true server placed cache subsequent use making content server proxy rather complete replica cdn ability trade disk size preload time various performance parameter content delivery network see hull  rabinovich spatscheck   wireless web considerable interest small portable device capable accessing web via wireless link fact first tentative step direction already taken doubt great deal change area coming year still worth examining current idea relating wireless web see might heading focus first two wide area wireless web system hit market wap imode wap—the wireless application protocol internet mobile phone become commonplace take long somebody got idea combine mobile phone builtin screen wireless access email web somebody case consortium initially led nokia ericsson motorola phonecom formerly unwired planet boasting hundred member system called wap wireless application protocol wap device may enhanced mobile phone pda notebook computer without voice capability specification allows basic idea use existing digital wireless infrastructure user literally call wap gateway wireless link send web page request gateway check cache page requested present sends absent fetch wired internet essence mean wap  circuitswitched system fairly high perminute connect charge make long story short people like accessing internet tiny screen paying minute wap something flop although problem well however wap competitor imode discussed appear converging similar technology wap  may yet big success since wap  first attempt wireless internet worth describing least briefly wap essentially protocol stack accessing web optimized lowbandwidth connection using wireless device slow cpu little memory small screen requirement obviously different standard desktop pc scenario lead protocol difference layer shown fig   figure  wap protocol stack lowest layer support existing mobile phone system including gsm damp cdma wap  data rate  bps top datagram protocol wdp wireless datagram protocol essentially udp come layer security obviously needed wireless system wtls subset netscape s ssl look chap  transaction layer manages request response either reliably unreliably layer replaces tcp used air link efficiency reason come session layer similar http restriction extension optimization purpose top microbrowser wae besides cost aspect doubt hurt wap s acceptance fact use html instead wae layer us markup language called wml wireless markup language application xml consequence principle wap device access page converted wml however since greatly restricts value wap architecture call onthefly filter html wml increase set page available architecture illustrated fig  figure  wap architecture fairness wap probably little ahead time wap first started xml hardly known outside wc press reported launch wap use html accurate headline would wap already us new html standard damage done hard repair wap  never caught revisit wap first looking major competitor imode multiindustry consortium telecom vendor computer company busy hammering open standard using advanced version html available development going japan japanese woman mari matsunaga invented  different approach wireless web called imode informationmode convinced wireless subsidiary former japanese telephone monopoly approach right feb  ntt docomo literally japanese telephone telegraph company everywhere go launched service japan within  year  million japanese subscriber could access  special imode web site also world s telecom company drooling financial success especially light fact wap appeared going nowhere let u take look imode work imode system three major component new transmission system new handset new language web page design transmission system consists two separate network existing circuitswitched mobile phone network somewhat comparable damp new packetswitched network constructed specifically imode service voice mode us circuit switched network billed per minute connection time imode us packetswitched network always like adsl cable billing connect time instead charge packet sent currently possible use network handset look like mobile phone addition small screen ntt docomo heavily advertises imode device better mobile phone rather wireless web terminal even though precisely fact probably customer even aware internet think imode device mobile phone enhanced service keeping model imode service handset user programmable although contain equivalent  pc could probably run window  unix imode handset switched user presented list category officiallyapproved service well  service divided  category service actually small imode web site run independent company major category official menu include email news weather sport game shopping map horoscope entertainment travel regional guide ringing tone recipe gambling home banking stock price service somewhat targeted teenager people  tend love electronic gadget especially come fashionable color mere fact  company selling ringing tone say something popular application email allows byte message thus seen big improvement sm short message service byte message game also popular also  imode web site accessed typing url rather selecting menu sense official list like internet portal allows web site accessed clicking rather typing url ntt docomo tightly control official service allowed list service must meet variety published criterion example service must bad influence society japaneseenglish dictionary must enough word service ringing tone must add new tone frequently site may inflame faddish behavior reflect badly ntt docomo frengle   internet site whatever want imode business model different conventional internet worth explaining basic imode subscription fee dollar per month since charge packet received basic subscription includes small number packet alternatively customer choose subscription free packet perpacket charge dropping sharply go  mb per month  mb per month free packet used halfway month additional packet purchased online  use service subscribe something accomplished clicking entering pin code official service cost around –  per month ntt docomo add charge phone bill pass  onto service provider keeping  unofficial service  million customer send  million bill  every month service becomes official ntt docomo handle billing transfer  service s bank account every month handle billing huge incentive service provider become official generates revenue ntt docomo also official get initial menu make site much easier find user s phone bill includes phone call imode subscription charge service subscription charge extra packet despite massive success japan far clear whether catch u europe way japanese circumstance different west first potential customer west eg teenager college student businessperson already largescreen pc home almost assuredly internet connection speed least  kbps often much japan people internetconnected pc home part due lack space also due ntt s exorbitant charge local telephone service something like  installing line  per hour local call user imode internet connection second people west used paying  month access cnn s web site  month access yahoo s web site  month access google s web site mention dollar per mb downloaded internet provider west charge fixed monthly fee independent actual usage largely response customer demand third many japanese people prime imode time commuting work school train subway europe fewer people commute train japan u hardly anyone using imode home next computer inch monitor mbps adsl connection free megabyte want make lot sense nevertheless nobody predicted immense popularity mobile phone imode may yet find niche west mentioned imode handset use existing circuitswitched network voice new packetswitched network data data network based cdma transmits byte packet  bps diagram network given fig  handset talk ltp lightweight transport protocol air link protocol conversion gateway gateway wideband fiberoptic connection imode server connected service user selects service official menu request sent imode server cache page improve performance request site official menu bypass imode server go directly internet figure  structure imode data network showing transport protocol  current handset cpu run  mhz several megabyte flash rom perhaps  mb ram small builtin screen imode requires screen least  x  pixel highend device many  x  pixel screen usually bit color allows  color enough photograph adequate line drawing simple cartoon since mouse onscreen navigation done arrow key software structure shown fig  bottom layer consists simple realtime operating system controlling hardware come module network communication using ntt docomo s proprietary ltp protocol simple window manager handle text simple graphic gif file screen  x  pixel best much manage figure  structure imode software fourth layer contains web page interpreter ie browser imode use full html subset called chtml compact html based loosely html  layer also allows helper application plugins pc browser one standard helper application interpreter slightly modified version jvm top user interaction module manages communication user let u take closer look chtml mentioned approximately html  omission extension use mobile handset submitted wc standardization wc showed little interest likely remain proprietary product basic html tag allowed including html head title body hn center ul ol menu li br p hr img form input b tag permitted  tag allowed linking page additional scheme tel dialing telephone number sense tel analogous mailto hyperlink using mailto scheme selected browser pop form send email destination named link hyperlink using tel scheme selected browser dial telephone number example address book could simple picture various people selecting one handset would call rfc  discus telephone url chtml browser limited way support javascript frame style sheet background color background image also support jpeg image take much time decompress java applet allowed currently limited  kb due slow transmission speed air link although ntt docomo removed html tag also added new one blink tag make text turn may seem inconsistent forbid b ground web site handle appearance add blink relates appearance another new tag marquee scroll content screen manner stock ticker one new feature align attribute br tag needed screen typically  row  character great danger word broken middle shown fig  align help reduce problem make possible get something like fig  b interesting note japanese suffer word broken line kanji text screen broken rectangular grid cell size  x  pixel  x  pixel depending font supported cell hold exactly one kanji character equivalent word english line break word always allowed japanese figure  lewis carroll meet  x  screen although japanese language ten thousand kanji ntt docomo invented  brand new one called emoji higher cuteness factor— essentially pictograms like smiley fig  include symbol astrological sign beer hamburger amusement park birthday mobile phone dog cat christmas broken heart kiss mood sleepy course one meaning cute another new attribute ability allowing user select hyperlink using keyboard clearly important property mouseless computer example attribute used shown chtml file fig  figure  example chtml file  although client side somewhat limited imode server fullblown computer usual bell whistle support cgi perl php jsp asp everything else web server normally support brief comparison wap imode actually implemented firstgeneration system given fig  difference may seem small often important example yearolds credit card able buy thing via ecommerce charged phone bill make big difference interest system figure  comparison firstgeneration wap imode additional information imode see frengle  vacca  secondgeneration wireless web wap  based recognized international standard supposed serious tool people business move failed imode electronic toy japanese teenager using proprietary everything huge success happens next side learned something first generation wireless web wap consortium learned content matter large number web site speak markup language fatal ntt docomo learned closed proprietary system closely tied tiny handset japanese culture good export product conclusion side drew convince large number web site put content format necessary open stable markup language universally accepted format war good business service enter second generation wireless web technology wap  came first use example wap  got thing right  continued one thing wap carried variety different network first generation used circuitswitched network packetswitched network always option still secondgeneration system likely use packet switching example gprs another wap initially aimed supporting wide variety device mobile phone powerful notebook computer still wap  also new feature significant one  push model well pull model  support integrating telephony application  multimedia messaging  inclusion  pictograms  interface storage device  support plugins browser pull model well known client asks page get push model support data arriving without asked continuous feed stock price traffic alert voice data starting merge wap  support variety way saw one example earlier imode s ability hyperlink icon text screen telephone number called along email telephony multimedia messaging supported huge popularity imode s emoji stimulated wap consortium invent  emoji category include animal appliance dress emotion food human body gender map music plant sport time tool vehicle weapon weather interesting enough standard name pictogram give actual bit map probably fear culture s representation sleepy hug might insulting another culture imode problem since intended single country providing storage interface mean every wap  phone come large hard disk flash rom also storage device wapenabled wireless camera could use flash rom temporary image storage beaming best picture internet finally plugins extend browser s capability scripting language also provided various technical difference also present wap  two biggest one concern protocol stack markup language wap  continues support old protocol stack fig  also support standard internet stack tcp http well however four minor compatible change tcp made simplify code  use fixed kb window  slow start  maximum mtu  byte  slightly different retransmission algorithm tl transportlayer security protocol standardized ietf examine chap  many initial device probably contain stack shown fig  figure  wap  support two protocol stack  technical difference wap  markup language wap  support xhtml basic intended small wireless device since ntt docomo also agreed support subset web site designer use format know page work fixed internet wireless device decision end markup language format war impeding growth wireless web industry word xhtml basic perhaps order intended mobile phone television pda vending machine pager car game machine even watch reason support style sheet script frame standard tag grouped  module required optional defined xml module example tag listed fig  gone example tag information found wwwworg figure  xhtml basic module tag despite agreement use xhtml basic threat wap imode lurking air  secondgeneration wireless web supposed run  kbps far better  bps first generation far worse  mbps  mbps offered  course  everywhere restaurant hotel store company airport bus station museum university hospital organization decide install base station employee customer may enough coverage urban area people willing walk block sit enabled fast food restaurant cup coffee email business may routinely put  logo next logo show credit card accept reason attract customer city map downloadable naturally may show covered area green silent area red people wander base station base station like nomad trekking oasis oasis desert although fast food restaurant may quick install  base station farmer probably coverage spotty limited downtown area city due  limited range  hundred meter best may lead dualmode wireless device use  pick signal fall back wap  multimedia wireless web exciting new development one many people multimedia holy grail networking word mentioned propeller head suit begin salivating cue former see immense technical challenge providing interactive video demand every home latter see equally immense profit since multimedia requires high bandwidth getting work fixed connection hard enough even vhsquality video wireless year away treatment focus wired system literally multimedia two medium publisher book wanted join current hype multimedia could advertise book using multimedia technology contains two medium text graphic figure nevertheless people refer multimedia generally mean combination two continuous medium medium played welldefined time interval usually user interaction practice two medium normally audio video sound plus moving picture however many people often refer pure audio internet telephony internet radio multimedia well clearly actually better term streaming medium follow herd consider realtime audio multimedia well following section examine computer process audio video compressed network application technology comprehensive three volume treatment networked multimedia see steinmetz nahrstedt  steinmetz nahrstedt a steinmetz nahrstedt b  introduction digital audio audio sound wave onedimensional acoustic pressure wave acoustic wave enters ear eardrum vibrates causing tiny bone inner ear vibrate along sending nerve pulse brain pulse perceived sound listener similar way acoustic wave strike microphone microphone generates electrical signal representing sound amplitude function time representation processing storage transmission audio signal major part study multimedia system frequency range human ear run  hz  hz animal notably dog hear higher frequency ear hears logarithmically ratio two sound power b conventionally expressed db decibel according formula define lower limit audibility pressure  dynecm  khz sine wave  db ordinary conversation  db pain threshold  db dynamic range factor  million ear surprisingly sensitive sound variation lasting millisecond eye contrast notice change light level last millisecond result observation jitter millisecond multimedia transmission affect perceived sound quality affect perceived image quality  audio wave converted digital form adc analog digital converter adc take electrical voltage input generates binary number output fig   see example sine wave represent signal digitally sample every second shown bar height fig  b sound wave pure sine wave linear superposition sine wave highest frequency component present f nyquist theorem see chap  state sufficient make sample frequency  f sampling often value since higher frequency sampling could detect present figure  sine wave b sampling sine wave c quantizing sample  bit digital sample never exact sample fig  c allow nine value   step  bit sample would allow  distinct value bit sample would allow  distinct value error introduced finite number bit per sample called quantization noise large ear detects two wellknown example sampled sound used telephone audio compact disc pulse code modulation used within telephone system us bit sample made  time per second north america japan  bit data  control europe  bit data system give data rate  bps  bps  samplessec frequency  khz lost audio cd digital sampling rate  samplessec enough capture frequency  hz good enough people bad canine music lover sample  bit linear range amplitude note bit sample allow  distinct value even though dynamic range ear  million measured step smallest audible sound thus using  bit per sample introduces quantization noise although full dynamic range covered—cds supposed hurt  samplessec  bit audio cd need bandwidth  kbps monaural  mbps stereo lower video need see still take almost full t channel transmit uncompressed cd quality stereo sound real time digitized sound easily processed computer software dozen program exist personal computer allow user record display edit mix store sound wave multiple source virtually professional sound recording editing digital nowadays music course special case general audio important one another important special case speech human speech tends hz hz range speech made vowel consonant different property vowel produced vocal tract unobstructed producing resonance whose fundamental frequency depends size shape vocal system position speaker s tongue jaw sound almost periodic interval  msec consonant  produced vocal tract partially blocked sound le regular vowel speech generation transmission system make use model vocal system reduce speech parameter eg size shape various cavity rather sampling speech waveform vocoders work beyond scope book however  audio compression cdquality audio requires transmission bandwidth  mbps saw clearly substantial compression needed make transmission internet practical reason various audio compression algorithm developed probably popular one mpeg audio three layer variant mp mpeg audio layer  powerful best known large amount music mp format available internet legal resulted numerous lawsuit artist copyright owner mp belongs audio portion mpeg video compression standard discus video compression later chapter let u look audio compression audio compression done one two way waveform coding signal transformed mathematically fourier transform frequency component figure   show example function time fourier amplitude amplitude component encoded minimal way goal reproduce waveform accurately end bit possible way perceptual coding exploit certain flaw human auditory system encode signal way sound human listener even look quite different oscilloscope perceptual coding based science psychoacoustics —how people perceive sound mp based perceptual coding key property perceptual coding sound mask sound imagine broadcasting live flute concert warm summer day sudden crew workman nearby turn jackhammer start tearing street one hear flute sound masked jackhammer transmission purpose sufficient encode frequency band used jackhammer listener hear flute anyway called frequency masking —the ability loud sound one frequency band hide softer sound another frequency band would audible absence loud sound fact even jackhammer stop flute inaudible short period time ear turn gain start take finite time turn effect called temporal masking make effect quantitative imagine experiment  person quiet room put headphone connected computer s sound card computer generates pure sine wave  hz low gradually increasing power person instructed strike key hears tone computer record current power level repeat experiment  hz  hz frequency limit human hearing averaged many people loglog graph much power take tone audible look like fig  direct consequence curve never necessary encode frequency whose power fall threshold audibility example power  hz  db fig  could omitted output perceptible loss quality  db  hz fall level audibility  figure  threshold audibility function frequency b masking effect consider experiment  computer run experiment  time constantamplitude sine wave say  hz superimposed test frequency discover threshold audibility frequency near  hz raised shown fig  b consequence new observation keeping track signal masked powerful signal nearby frequency band omit frequency encoded signal saving bit fig  hz signal completely omitted output one able hear difference even powerful signal stop frequency band knowledge temporal masking property allow u continue omit masked frequency time interval ear recovers essence mp fouriertransform sound get power frequency transmit unmasked frequency encoding bit possible information background see encoding done audio compression done sampling waveform  khz  khz  khz sampling done one two channel four configuration  monophonic single input stream  dual monophonic eg english japanese soundtrack  disjoint stereo channel compressed separately  joint stereo interchannel redundancy fully exploited first output bit rate chosen mp compress stereo rock n roll cd  kbps little perceptible loss quality even rock n roll fan hearing loss piano concert least  kbps needed differ signaltonoise ratio rock n roll much higher piano concert engineering sense anyway also possible choose lower output rate accept loss quality sample processed group   msec worth group first passed  digital filter get  frequency band time input fed psychoacoustic model order determine masked frequency next  frequency band transformed provide finer spectral resolution next phase available bit budget divided among band bit allocated band unmasked spectral power fewer bit allocated unmasked band le spectral power bit allocated masked band finally bit encoded using huffman encoding assigns short code number appear frequently long code occur infrequently  actually story various technique also used noise reduction antialiasing exploiting interchannel redundancy possible beyond scope book formal mathematical introduction process given pan   streaming audio let u move technology digital audio three network application first one streaming audio listening sound internet also called music demand next two look internet radio voice ip respectively internet full music web site many list song title user click play song free site eg new band looking publicity others require payment return music although often offer free sample well eg first  second song straightforward way make music play illustrated fig  figure  straightforward way implement clickable music web page process start user click song browser go action step  establish tcp connection web server song hyperlinked step  send get request http request song next step   server fetch song file mp format disk sends back browser file larger server s memory may fetch send music block time using mime type example audiomp file extension browser look supposed display file normally helper application realone player window medium player winamp associated type file since usual way browser communicate helper write content scratch file save entire music file scratch file disk step  first start medium player pas name scratch file step  medium player start fetching playing music block block principle approach completely correct play music trouble entire song must transmitted network music start song  mb typical size mp song modem  kbps user greeted almost  minute silence song downloaded music lover like idea especially since next song also start  minute download time one well get around problem without changing browser work music site come following scheme file linked song title actual music file instead called metafile short file naming music typical metafile might one line ascii text look like  rtsp joesaudioserversongmp browser get line file writes disk scratch file start medium player helper hand name scratch file usual medium player read file see contains url contact joesaudioserver asks song note browser loop case server named metafile web server fact generally even http server specialized medium server example medium server us rtsp real time streaming protocol indicated scheme name rtsp described rfc  medium player four major job  manage user interface  handle transmission error  decompress music  eliminate jitter medium player nowadays glitzy user interface sometimes simulating stereo unit button knob slider visual display often interchangeable front panel called skin user drop onto player medium player manage interact user second job dealing error realtime music transmission rarely us tcp error retransmission might introduce unacceptably long gap music instead actual transmission usually done protocol like rtp studied chap  like realtime protocol rtp layered top udp packet may lost player deal case music interleaved make error handling easier example packet might contain  stereo sample containing pair bit number normally good  msec music protocol might send odd sample msec interval one packet even sample next one lost packet represent  msec gap music loss every sample  msec loss handled easily medium player interpolate using previous succeeding sample estimate missing value use interleaving achieve error recovery illustrated fig  packet hold alternate time sample interval  msec consequently losing packet  shown create gap music lower temporal resolution interval missing value interpolated provide continuous music particular scheme work uncompressed sampling show clever coding convert lost packet lower quality rather time gap however rfc  give scheme work compressed audio figure  packet carry alternate sample loss packet reduces temporal resolution rather creating gap time  medium player s third job decompressing music although task computationally intensive fairly straightforward fourth job eliminate jitter bane realtime system streaming audio system start buffering – sec worth music starting play shown fig  ideally server continue fill buffer exact rate drained medium player reality may happen feedback loop may helpful figure  medium player buffer input medium server play buffer rather directly network two approach used keep buffer filled pull server long room buffer another block medium player keep sending request additional block server goal keep buffer full possible disadvantage pull server unnecessary data request server know sent whole file player keep asking reason rarely used push server medium player sends play request server keep pushing data two possibility medium server run normal playback speed run faster case data buffered playback begin server run normal playback speed data arriving appended end buffer player remove data front buffer playing long everything work perfectly amount data buffer remains constant time scheme simple control message required either direction push scheme server pump data faster needed advantage server guaranteed run regular rate opportunity catch ever get behind problem however potential buffer overrun server pump data faster consumed able avoid gap solution medium player define lowwater mark highwater mark buffer basically server pump data buffer filled highwater  mark medium player tell pause since data continue pour server gotten pause request distance highwater mark end buffer greater bandwidthdelay product network server stopped buffer begin empty hit lowwater mark medium player tell medium server start lowwater mark positioned buffer underrun occur operate push server medium player need remote control rtsp provides defined rfc  provides mechanism player control server provide data stream usually rtp main command provided rtsp listed fig  figure  rtsp command player server  internet radio became possible stream audio internet commercial radio station got idea broadcasting content internet well air long college radio station started putting signal internet college student started radio station current technology virtually anyone start radio station whole area internet radio new state flux worth saying little bit two general approach internet radio first one program prerecorded stored disk listener connect radio station s archive pull program download listening fact exactly streaming audio discussed also possible store program broadcast live archive running say half hour le behind live feed advantage approach easy technique discussed work listener pick choose among program archive approach broadcast live internet station broadcast air internet simultaneously increasingly many radio station internet technique applicable streaming audio also applicable live internet radio also key difference one point need buffering user side smooth jitter collecting   second worth radio starting playback audio kept going smoothly even face substantial jitter network long packet arrive needed matter arrived one key difference streaming audio pushed rate greater playback rate since receiver stop highwater mark hit potentially give time retransmit lost packet although strategy commonly used contrast live radio always broadcast exactly rate generated played back  another difference live radio station usually hundred thousand simultaneous listener whereas streaming audio point point circumstance internet radio use multicasting rtprtsp protocol clearly efficient way operate current practice internet radio work like actually happens user establishes tcp connection station feed sent tcp connection course creates various problem flow stopping window full lost packet timing retransmitted reason tcp unicasting used instead rtp multicasting threefold first isps support multicasting practical option second rtp le well known tcp radio station often small little computer expertise easier use protocol widely understood supported software package third many people listen internet radio work practice often mean behind firewall system administrator configure firewall protect lan unwelcome visitor usually allow tcp connection remote port  smtp email udp packet remote port  dns tcp connection remote port  http web almost everything else may blocked including rtp thus way get radio signal firewall web site pretend http server least firewall use http server speak tcp severe measure providing minimal security often force multimedia application drastically le efficient mode operation since internet radio new medium format war full bloom realaudio window medium audio mp aggressively competing market become dominant format internet radio newcomer vorbis technically similar mp open source different enough use patent mp based typical internet radio station web page listing schedule information dj announcer many ad also one icon listing audio format support listen one format supported icon listen linked metafiles type discussed user click one icon short metafile sent browser us mime type file extension determine appropriate helper ie medium player metafile writes metafile scratch file disk start medium player hand name scratch file medium player read scratch file see url contained usually scheme http rather rtsp get around firewall problem popular multimedia application work way contact server start acting like radio aside audio one stream http work video least two stream http fails something like rtsp really needed another interesting development area internet radio arrangement anybody even student set operate radio station main component illustrated fig  basis station ordinary pc sound card microphone software consists medium player winamp freeamp plugin audio capture codec selected output format example mp vorbis figure  student radio station  audio stream generated station fed internet large server handle distributing large number tcp connection server typically support many small station also maintains directory station currently air one potential listener go server select station get tcp feed commercial software package managing piece well open source package icecast also server willing handle distribution fee  voice ip upon time public switched telephone system primarily used voice traffic little bit data traffic data traffic grew grew  number data bit moved equaled number voice bit since voice pcm trunk measured bitssec  volume data traffic order magnitude volume voice traffic still growing exponentially voice traffic almost flat  growth per year consequence number many packetswitching network operator suddenly became interested carrying voice data network amount additional bandwidth required voice minuscule since packet network dimensioned data traffic however average person s phone bill probably larger internet bill data network operator saw internet telephony way earn large amount additional money without put new fiber ground thus internet telephony also known voice ip born h one thing clear everyone start vendor designed protocol stack system would never work avoid problem number interested party got together itu auspex work standard  itu issued recommendation h entitled visual telephone system equipment local area network provide nonguaranteed quality service telephone industry would think name recommendation revised  revised h basis first widespread internet telephony system h architectural overview internet telephony specific protocol reference large number specific protocol speech coding call setup signaling data transport area rather specifying thing general model depicted fig  center gateway connects internet telephone network speaks h protocol internet side pstn protocol telephone side communicating device called terminal lan may gatekeeper control end point jurisdiction called zone figure  h architectural model internet telephony  telephone network need number protocol start protocol encoding decoding speech pcm system studied chap  defined itu recommendation g encodes single voice channel sampling  time per second bit sample give uncompressed speech  kbps h system must support g however speech compression protocol also permitted required use different compression algorithm make different tradeoff quality bandwidth example g take block  sample  msec speech us predictive coding reduce either  byte  byte algorithm give output rate either  kbps  kbps compression factor   respectively little loss perceived quality codecs also allowed since multiple compression algorithm permitted protocol needed allow terminal negotiate one going use protocol called h also negotiates aspect connection bit rate rtcp need control rtp channel also required protocol establishing releasing connection providing dial tone making ringing sound rest standard telephony itu q used terminal need protocol talking gatekeeper present purpose h used pctogatekeeper channel manages called ra registrationadmissionstatus channel channel allows terminal join leave zone request return bandwidth provide status update among thing finally protocol needed actual data transmission rtp used purpose managed rtcp usual positioning protocol shown fig  figure  h protocol stack see protocol fit together consider case pc terminal lan gatekeeper calling remote telephone pc first discover gatekeeper broadcast udp gatekeeper discovery packet port  gatekeeper responds pc learns gatekeeper s ip address pc register gatekeeper sending ra message udp packet accepted pc sends gatekeeper ra admission message requesting bandwidth bandwidth granted may call setup begin idea requesting bandwidth advance allow gatekeeper limit number call avoid oversubscribing outgoing line order help provide necessary quality service  pc establishes tcp connection gatekeeper begin call setup call setup us existing telephone network protocol connection oriented tcp needed contrast telephone system nothing like ra allow telephone announce presence h designer free use either udp tcp ra chose loweroverhead udp bandwidth allocated pc send q setup message tcp connection message specifies number telephone called ip address port computer called gatekeeper responds q call proceeding message acknowledge correct receipt request gatekeeper forward setup message gateway gateway half computer half telephone switch make ordinary telephone call desired ordinary telephone end office telephone attached ring called telephone also sends back q alert message tell calling pc ringing begun person end pick telephone end office sends back q connect message signal pc connection connection established gatekeeper longer loop although gateway course subsequent packet bypass gatekeeper go directly gateway s ip address point bare tube running two party physical layer connection moving bit neither side know anything one h protocol used negotiate parameter call us h control channel always open side start announcing capability example whether handle video h handle video conference call codecs support etc side know one handle two unidirectional data channel set codec parameter assigned one since side may different equipment entirely possible codecs forward reverse channel different negotiation complete data flow begin using rtp managed using rtcp play role congestion control video present rtcp handle audiovideo synchronization various channel shown fig  either party hang q call signaling channel used tear connection figure  logical channel caller callee call call terminated calling pc contact gatekeeper ra message release bandwidth assigned alternatively make another call said anything quality service even though essential making voice ip success reason qos fall outside scope h underlying network capable producing stable jitterfree connection calling pc  eg using technique discussed chap  gateway qos call good otherwise telephone part us pcm always jitter free sip—the session initiation protocol h designed itu many people internet community saw typical telco product large complex inflexible consequently ietf set committee design simpler modular way voice ip major result date sip session initiation protocol described rfc  protocol describes set internet telephone call video conference multimedia connection unlike h complete protocol suite sip single module designed interwork well existing internet application example defines telephone number url web page contain allowing click link initiate telephone call way mailto scheme allows click link bring program send email message sip establish twoparty session ordinary telephone call multiparty session everyone hear speak multicast session one sender many receiver session may contain audio video data latter useful multiplayer realtime game example sip handle setup management termination session protocol rtprtcp used data transport sip applicationlayer protocol run udp tcp sip support variety service including locating callee may home machine determining callee s capability well handling mechanic call setup termination simplest case sip set session caller s computer callee s computer examine case first telephone number sip represented url using sip scheme example sip ilse csuniversityedu user named ilse host specified dns name csuniversityedu sip url may also contain ipv address ipv address actual telephone number sip protocol textbased protocol modeled http one party sends message ascii text consisting method name first line followed additional line containing header passing parameter many header taken mime allow sip interwork existing internet application six method defined core specification listed fig  figure  sip method defined core specification establish session caller either creates tcp connection callee sends invite message sends invite message udp packet case header second subsequent line describe structure message body contains caller s capability medium type format callee accepts call responds httptype reply code threedigit number using group fig    acceptance following replycode line callee also may supply information capability medium type format connection done using threeway handshake caller responds ack message finish protocol confirm receipt  message either party may request termination session sending message containing bye method side acknowledges session terminated option method used query machine capability typically used session initiated find machine even capable voice ip whatever type session contemplated register method relates sip s ability track connect user away home message sent sip location server keep track server later queried find user s current location operation redirection illustrated fig  caller sends invite message proxy server hide possible redirection proxy look user sends invite message act relay subsequent message threeway handshake lookup reply message part sip convenient protocol used depending kind location server used figure  use proxy redirection server sip sip variety feature describe including call waiting call screening encryption authentication also ability place call computer ordinary telephone suitable gateway internet telephone system available comparison h sip h sip many similarity also difference allow twoparty multiparty call using computer telephone end point support parameter negotiation encryption rtprtcp protocol summary similarity difference given fig  figure  comparison h sip  although feature set similar two protocol differ widely philosophy h typical heavyweight telephoneindustry standard specifying complete protocol stack defining precisely allowed forbidden approach lead well defined protocol layer easing task interoperability price paid large complex rigid standard difficult adapt future application contrast sip typical internet protocol work exchanging short line ascii text lightweight module interworks well internet protocol le well existing telephone system signaling protocol ietf model voice ip highly modular flexible adapted new application easily downside potential interoperability problem although addressed frequent meeting different implementers get together test system voice ip upandcoming topic consequently several book subject already example collins  davidson peter  kumar et al  wright  mayjune  issue internet computing several article topic  introduction video discussed ear length time move eye section followed one nose human eye property image appears retina image retained number millisecond decaying sequence image drawn line line  imagessec eye notice looking discrete image video ie television system exploit principle produce moving picture analog system understand video best start simple oldfashioned blackandwhite television represent twodimensional image front onedimensional voltage function time camera scan electron beam rapidly across image slowly recording light intensity go end scan called frame beam  retraces intensity function time broadcast receiver repeat scanning process reconstruct image scanning pattern used camera receiver shown fig  aside ccd camera integrate rather scan camera monitor scan figure  scanning pattern used ntsc video television exact scanning parameter vary country country system used north south america japan  scan line horizontaltovertical aspect ratio   framessec european system  scan line aspect ratio   framessec system top bottom line displayed approximate rectangular image original round crt   ntsc scan line   palsecam scan line displayed beam turned vertical retrace many station especially europe use time broadcast teletext text page containing news weather sport stock price etc  framessec enough capture smooth motion frame rate many people especially older one perceive image flicker old image faded retina new one appears rather increase frame rate would require using scarce bandwidth different approach taken instead scan line displayed order first odd scan line displayed even one displayed half frame called field experiment shown although people notice flicker  framessec notice  fieldssec technique called interlacing noninterlaced television video called progressive note movie run  fps frame fully visible  sec color video us scanning pattern monochrome black white except instead displaying image one moving beam us three beam moving unison one beam used three additive primary color red green blue rgb technique work color constructed linear superposition red green blue appropriate intensity however transmission single channel three color signal must combined single composite signal color television invented various method displaying color technically possible different country made different choice leading system still incompatible note choice nothing vhs versus betamax versus p recording method country political requirement program transmitted color receivable existing blackandwhite television set  consequently simplest scheme encoding rgb signal separately acceptable rgb also efficient scheme first color system standardized united state national television standard committee lent acronym standard ntsc color television introduced europe several year later time technology improved substantially leading system greater noise immunity better color system called secam sequentiel couleur avec memoire used france eastern europe pal phase alternating line used rest europe difference color quality ntsc palsecam led industry joke ntsc really stand never twice color allow color transmission viewed blackandwhite receiver three system linearly combine rgb signal luminance brightness signal two chrominance color signal although use different coefficient constructing signal rgb signal oddly enough eye much sensitive luminance signal chrominance signal latter need transmitted accurately consequently luminance signal broadcast frequency old blackandwhite signal received blackandwhite television set two chrominance signal broadcast narrow band higher frequency television set control labeled brightness hue saturation brightness tint color controlling three signal separately understanding luminance chrominance necessary understanding video compression work past year considerable interest hdtv high definition television produce sharper image roughly doubling number scan line united state europe japan developed hdtv system different mutually incompatible expect otherwise basic principle hdtv term scanning luminance chrominance similar existing system however three format common aspect ratio  instead  match better format used movie recorded  mm film aspect ratio  digital system simplest representation digital video sequence frame consisting rectangular grid picture element pixel pixel single bit represent either black white quality system similar get sending color photograph fax—awful try otherwise photocopy color photograph copying machine rasterize next step use  bit per pixel represent  gray level scheme give highquality blackandwhite video color video good system use  bit rgb color although nearly system mix composite video transmission using  bit per pixel limit number color  million human eye even distinguish many color let alone digital color image produced using three scanning beam one per color geometry analog system fig  except continuous scan line replaced neat row discrete pixel produce smooth motion digital video like analog video must display least  framessec however since goodquality computer monitor often rescan screen image stored memory  time per second interlacing needed consequently normally used repainting ie redrawing frame three time row enough eliminate flicker word smoothness motion determined number different image per second whereas flicker determined number time screen painted per  second two parameter different still image painted  framessec show jerky motion flicker one frame decay retina next one appears movie  different frame per second painted four time row flicker motion appear jerky significance two parameter becomes clear consider bandwidth required transmitting digital video network current computer monitor use  aspect ratio use inexpensive massproduced picture tube designed consumer television market common configuration  x   x   x  even smallest  bit per pixel  framessec need fed  mbps would take sonet oc carrier manage running oc sonet carrier everyone s house exactly agenda doubling rate avoid flicker even le attractive better solution transmit  framessec computer store one paint twice broadcast television use strategy television set memory even memory analog signal stored ram without conversion digital form first requires extra hardware consequence interlacing needed broadcast television digital video  video compression obvious transmitting uncompressed video completely question hope massive compression possible fortunately large body research past decade led many compression technique algorithm make video transmission feasible section study video compression accomplished compression system require two algorithm one compressing data source another decompressing destination literature algorithm referred encoding decoding algorithm respectively use terminology algorithm exhibit certain asymmetry important understand first many application multimedia document say movie encoded stored multimedia server decoded thousand time viewed customer asymmetry mean acceptable encoding algorithm slow require expensive hardware provided decoding algorithm fast require expensive hardware operator multimedia server might quite willing rent parallel supercomputer week encode entire video library requiring consumer rent supercomputer  hour view video likely big success many practical compression system go great length make decoding fast simple even price making encoding slow complicated hand realtime multimedia video conferencing slow encoding unacceptable encoding must happen onthefly real time consequently realtime multimedia us different algorithm parameter storing video disk often appreciably le compression second asymmetry encodedecode process need invertible compressing file transmitting decompressing user expects get original back accurate last bit multimedia requirement exist usually acceptable video signal encoding decoding slightly different original decoded output exactly equal original input system said lossy input output identical system lossless lossy system important accepting small amount information loss give huge payoff term compression ratio possible  jpeg standard video sequence image plus sound could find good algorithm encoding single image algorithm could applied image succession achieve video compression good still image compression algorithm exist let u start study video compression jpeg joint photographic expert group standard compressing continuoustone still picture eg photograph developed photographic expert working joint auspex itu iso iec another standard body important multimedia first approximation multimedia standard moving picture mpeg jpeg encoding frame separately plus extra feature interframe compression motion detection jpeg defined international standard  jpeg four mode many option like shopping list single algorithm purpose though lossy sequential mode relevant one illustrated fig  furthermore concentrate way jpeg normally used encode bit rgb video image leave minor detail sake simplicity figure  operation jpeg lossy sequential mode step  encoding image jpeg block preparation sake specificity let u assume jpeg input  x  rgb image  bitspixel shown fig   since using luminance chrominance give better compression first compute luminance two chrominances q ntsc according following formula figure  rgb input data b block preparation pal chrominances called u v coefficient different idea secam different ntsc pal  separate matrix constructed q element range   next square block four pixel averaged q matrix reduce  x  reduction lossy eye barely notice since eye responds luminance chrominance nevertheless compress total amount data factor two  subtracted element three matrix put  middle range finally matrix divided  x  block matrix  block two  block shown fig  b step  jpeg apply dct discrete cosine transformation  block separately output dct  x  matrix dct coefficient dct element   average value block element tell much spectral power present spatial frequency theory dct lossless practice using floatingpoint number transcendental function always introduces roundoff error result little information loss normally element decay rapidly distance origin   suggested fig  figure  one block matrix b dct coefficient dct complete jpeg move step  called quantization le important dct coefficient wiped lossy transformation done dividing coefficient  x  dct matrix weight taken table weight  transformation nothing however weight increase sharply origin higher spatial frequency dropped quickly example step given fig  see initial dct matrix quantization table result obtained dividing dct element corresponding quantization table element value quantization table part jpeg standard application must supply allowing control losscompression tradeoff figure  computation quantized dct coefficient step  reduces   value block one upperleft corner replacing amount differs corresponding element previous block since  element average respective block change slowly taking differential value reduce small value differential computed value   value referred dc component value ac component step  linearizes  element applies runlength encoding list scanning block left right top bottom concentrate zero together zigzag scanning pattern used shown fig  example zig zag pattern produce  consecutive  end matrix string reduced single count saying  zero technique known runlength encoding figure  order quantized value transmitted list number represent image transform space step  huffmanencodes number storage transmission assigning common number shorter code uncommon one jpeg may seem complicated complicated still since often produce  compression better widely used decoding jpeg image requires running algorithm backward jpeg roughly symmetric decoding take long encoding property true compression algorithm shall see mpeg standard finally come heart matter mpeg motion picture expert group standard main algorithm used compress video international standard since  movie contain image sound mpeg compress audio video already examined audio compression still image compression let u examine video compression first standard finalized mpeg international standard  goal produce videorecorderquality output  x  ntsc using bit rate  mbps  x  image  bitspixel  framessec requires  mbps getting  mbps entirely trivial factor  compression needed mpeg transmitted twisted pair transmission line modest distance mpeg also used storing movie cdrom next standard mpeg family mpeg international standard  originally designed compressing broadcastquality video   mbps could fit ntsc pal broadcast channel later mpeg expanded support higher resolution including hdtv common form basis dvd digital satellite television  basic principle mpeg mpeg similar detail different first approximation mpeg superset mpeg additional feature frame format encoding option first discus mpeg mpeg mpeg three part audio video system integrates two shown fig  audio video encoders work independently raise issue two stream get synchronized receiver problem solved khz system clock output current time value encoders value  bit allow film run  hour without wrapping around timestamps included encoded output propagated way receiver use synchronize audio video stream figure  synchronization audio video stream mpeg let u consider mpeg video compression two kind redundancy exist movie spatial temporal mpeg us spatial redundancy utilized simply coding frame separately jpeg approach occasionally used especially random access frame needed editing video production mode compressed bandwidth  mbps range achievable additional compression achieved taking advantage fact consecutive frame often almost identical effect smaller might first appear since many moviemakers cut scene every   second time movie count scene nevertheless even run  highly similar frame offer potential major reduction simply encoding frame separately jpeg scene camera background stationary one two actor moving around slowly nearly pixel identical frame frame subtracting frame previous one running jpeg difference would fine however scene camera panning zooming technique fails badly needed way compensate motion precisely mpeg main difference mpeg jpeg mpeg output consists four kind frame  intracoded frame selfcontained jpegencoded still picture  p predictive frame blockbyblock difference last frame  b bidirectional frame difference last next frame  dccoded frame block average used fast forward iframes still picture coded using variant jpeg also using fullresolution luminance halfresolution chrominance along axis necessary iframes appear output stream periodically three reason first mpeg used multicast transmission viewer tuning frame depended predecessor going back first frame anybody missed first frame could never decode subsequent frame second frame received error  decoding would possible third without iframes fast forward rewind decoder would calculate every frame passed would know full value one stopped reason iframes inserted output twice per second pframes contrast code interframe difference based idea macroblocks cover  x  pixel luminance space  x  pixel chrominance space macroblock encoded searching previous frame something slightly different example pframes would useful given fig  see three consecutive frame background differ position one person macroblocks containing background scene match exactly macroblocks containing person offset position unknown amount tracked figure  three consecutive frame mpeg standard specify search far search good match count implementation example implementation might search macroblock current position previous frame position offset ± x x direction ± direction position number match luminance matrix could computed position highest score would declared winner provided predefined threshold otherwise macroblock would said missing much sophisticated algorithm also possible course macroblock found encoded taking difference value previous frame luminance chrominances difference matrix subject discrete cosine transformation quantization runlength encoding huffman encoding jpeg value macroblock output stream motion vector far macroblock moved previous position direction followed huffmanencoded list number macroblock located previous frame current value encoded jpeg iframe clearly algorithm highly asymmetric implementation free try every plausible position previous frame want desperate attempt locate every last macroblock matter moved approach minimize encoded mpeg stream expense slow encoding approach might fine onetime encoding film library would terrible realtime videoconferencing similarly implementation free decide constitutes found macroblock freedom allows implementers compete quality speed algorithm always produce compliant mpeg matter search algorithm used final output either jpeg encoding current macroblock jpeg encoding difference current macroblock one previous frame specified offset current one  far decoding mpeg straightforward decoding iframes decoding jpeg image decoding pframes requires decoder buffer previous frame build new one second buffer based fully encoded macroblocks macroblocks containing difference previous frame new frame assembled macroblock macroblock bframes similar pframes except allow reference macroblock either previous frame succeeding frame additional freedom allows improved motion compensation also useful object pas front behind object bframe encoding encoder need hold three decoded frame memory past one current one future one although bframes give best compression implementation support dframes used make possible display lowresolution image rewind fast forward normal mpeg decoding real time difficult enough expecting decoder slewing video ten time normal speed asking bit much instead dframes used produce lowresolution image dframe entry average value one block encoding making easy display real time facility important allow people scan video high speed search particular scene dframes generally placed corresponding iframes fast forwarding stopped possible start viewing normal speed finished treatment mpeg let u move mpeg mpeg encoding fundamentally similar mpeg encoding iframes pframes bframes dframes supported however also discrete cosine transformation us  x  block instead  x  block give  percent coefficient hence better quality since mpeg targeted broadcast television well dvd support progressive interlaced image contrast mpeg support progressive image minor detail also differ two standard instead supporting one resolution level mpeg support four low  x  main  x  high  x  high  x  low resolution vcr backward compatibility mpeg main normal one ntsc broadcasting two hdtv highquality output mpeg usually run – mbps  video demand video demand sometimes compared electronic video rental store user customer selects one large number available video take home view video demand selection made home using television set s remote control video start immediately trip store needed needle say implementing video demand wee bit complicated describing section give overview basic idea implementation video demand really like renting video like picking movie watch channel cable system answer important technical implication particular video rental user used idea able stop video make quick trip kitchen bathroom resume video stopped television viewer expect put program pause video demand going compete successfully video rental store may necessary allow user stop start rewind video giving user ability virtually force video provider transmit separate copy one hand video demand seen advanced television may sufficient video provider start popular video say every  minute run  nonstop user wanting see popular video may wait  minute start although pauseresume possible viewer returning living room short break switch another channel showing video  minute behind material repeated nothing missed scheme called near video demand offer potential much lower cost feed video server go many user difference video demand near video demand similar difference driving car taking bus watching movie near demand one vast array potential new service possible wideband networking available general model many people use illustrated fig  see highbandwidth national international wide area backbone network center system connected thousand local distribution network cable tv telephone company distribution system local distribution system reach people s house terminate settop box fact powerful specialized personal computer figure  overview videoondemand system attached backbone highbandwidth optical fiber numerous information provider offer payperview video payperhear audio cd others offer specialized service home shopping letting viewer rotate soup zoom list ingredient view video clip drive gasolinepowered lawn mower sport news rerun i love lucy www access innumerable possibility doubt quickly become available also included system local spooling server allow video placed closer user advance save bandwidth peak hour piece fit together matter vigorous debate within industry examine design main piece system video server distribution network video server near video demand need video server capable storing outputting large number movie simultaneously total number movie ever made estimated   minoli  compressed mpeg normal movie occupies roughly  gb storage  would require something like  terabyte add old television program ever made sport film newsreel talking shopping catalog etc clear industrialstrength storage problem hand cheapest way store large volume information magnetic tape always case probably always ultrium tape store  gb  movie cost –  per movie large mechanical tape server hold thousand tape robot arm fetching tape inserting tape drive commercially available problem system access time especially th movie tape transfer rate limited number tape drive serve n movie unit would need n drive fortunately experience video rental store public library organization show item equally popular experimentally n movie available fraction request k th popular one approximately ck c computed normalize sum  namely thus popular movie seven time popular number seven movie result known zipf s law zipf  fact movie much popular others suggests possible solution form storage hierarchy shown fig  performance increase one move hierarchy figure  video server storage hierarchy alternative tape optical storage current dvd hold  gb good one movie next generation hold two movie although seek time slow compared magnetic disk  msec versus  msec low cost high reliability make optical juke box containing thousand dvd good alternative tape heavily used movie next come magnetic disk short access time  msec high transfer rate  mbsec scsi  substantial capacity  gb make well suited holding movie actually transmitted opposed stored case somebody ever want main drawback high cost storing movie rarely accessed top pyramid fig  ram ram fastest storage medium also expensive ram price drop gb gb movie occupy  dollar worth ram  movie ram cost   gb memory still video server feeding  movie keeping movie ram beginning look feasible video server  customer collectively watching  different movie begin look feasible good design  since video server really massive realtime io device need different hardware software architecture pc unix workstation hardware architecture typical video server illustrated fig  server one highperformance cpu local memory shared main memory massive ram cache popular movie variety storage device holding movie networking hardware normally optical interface sonet atm backbone oc higher subsystem connected extremely high speed bus least  gbsec figure  hardware architecture typical video server let u take brief look video server software cpu used accepting user request locating movie moving data device customer billing many function time critical many others cpu run realtime operating system realtime microkernel system normally break work small task known deadline scheduler run algorithm nearest deadline next rate monotonic algorithm liu layland  cpu software also defines nature interface server present client spooling server settop box two design popular first one traditional file system client open read write close file complication introduced storage hierarchy realtime consideration server file system modeled unix second kind interface based video recorder model command server request open play pause fast forward rewind file difference unix model play command given server keep pumping data constant rate new command required heart video server software disk management software two main job placing movie magnetic disk pulled optical tape storage handling disk request many output stream movie placement important greatly affect performance two possible way organizing disk storage disk farm disk array disk farm drive hold number entire movie performance reliability reason movie present least two drive maybe storage organization disk array raid redundant array inexpensive disk movie spread multiple drive example block  drive  block   drive  block n  drive n  cycle repeat block n drive  forth organizing called striping striped disk array several advantage disk farm first n drive running parallel increasing performance factor n second made redundant adding extra drive group n redundant drive contains blockbyblock exclusive drive allow full data recovery event one drive fails finally problem load balancing solved manual placement needed avoid popular movie drive hand disk array organization complicated disk farm highly sensitive multiple failure also illsuited video recorder operation rewinding fast forwarding movie job disk software service realtime output stream meet timing constraint year ago required complex disk scheduling algorithm memory price low much simpler approach beginning possible stream served buffer say  sec worth video  mb kept ram filled disk process emptied network process  mb ram  stream fed directly ram course disk subsystem must sustained data rate  mbsec keep buffer full raid built highend scsi disk handle requirement easily distribution network distribution network set switch line source destination saw fig  consists backbone connected local distribution network usually backbone switched local distribution network main requirement imposed backbone high bandwidth used low jitter also requirement even smallest pc able buffer  sec highquality mpeg video low jitter requirement anymore local distribution highly chaotic different company trying different network different region telephone company cable tv company new entrant power company convinced whoever get first big winner consequently seeing proliferation technology installed japan sewer company internet business arguing biggest pipe everyone s house run optical fiber careful precisely emerges four main local distribution scheme video demand go acronym adsl fttc ftth hfc explain turn adsl first telephone industry s entrant local distribution sweepstakes studied adsl chap  repeat material idea virtually every house united state europe japan already copper twisted pair going analog telephone service wire could used video demand telephone company could clean problem course wire support even mpeg typical km length let alone mpeg highresolution fullcolor full motion video need – mbps depending quality desired adsl really fast enough except short local loop second telephone company design fttc fiber curb fttc telephone company run optical fiber end office residential neighborhood terminating device called onu optical network unit order  copper local loop terminate onu loop short possible run fullduplex t t allowing mpeg mpeg movie respectively addition  videoconferencing home worker small business possible fttc symmetric third telephone company solution run fiber everyone s house called ftth fiber home scheme everyone oc oc even higher carrier required ftth expensive happen year clearly open vast range new possibility finally happens fig  saw everybody could operate radio station think member family operating personal television station adsl fttc ftth pointtopoint local distribution network surprising given current telephone system organized completely different approach hfc hybrid fiber coax preferred solution currently installed cable tv provider illustrated fig  story go something like current  mhz coax cable replaced mhz coax cable upgrading capacity   mhz channel  mhz channel seventyfive  channel used transmitting analog television  new channel modulated using qam provides  mbps per channel giving total  gbps new bandwidth headends moved deeper neighborhood cable run past  house simple division show house allocated dedicated mbps channel handle mpeg movie sound wonderful require cable provider replace existing cable mhz coax install new headends remove oneway amplifiers—in short replace entire cable tv system consequently amount new infrastructure comparable telephone company need fttc case local network provider run fiber residential neighborhood case fiber terminates optoelectrical converter fttc final segment pointtopoint local loop using twisted pair hfc final segment shared coaxial cable technically two system really different respective proponent often make nevertheless one real difference worth pointing hfc us shared medium without switching routing information put onto cable removed subscriber without ado fttc fully switched property result hfc operator want video server send encrypted stream customer paid movie see fttc operator especially want encryption add complexity lower performance provides additional security system point view company running video server good idea encrypt server operated telephone company one subsidiary partner might intentionally decide encrypt video claiming efficiency reason really cause economic loss hfc competitor local distribution network possible neighborhood outfitted one spooling server fact smaller version video server discussed big advantage local server move load backbone preloaded movie reservation people tell provider movie want well advance downloaded local server offpeak hour observation likely lead network operator lure away airline executive pricing one envision tariff movie ordered   hour advance viewing tuesday thursday evening  pm  pm get  percent discount movie ordered first sunday month  am viewing wednesday afternoon day whose date prime number get  percent discount   mbone—the multicast backbone industry making great—and highly publicized—plans future inter national digital video demand internet community quietly implementing digital multimedia system mbone multicast backbone section give brief overview work mbone thought internet television unlike video demand emphasis calling viewing precompressed movie stored server mbone used broadcasting live video digital form world via internet operational since early  many scientific conference especially ietf meeting broadcast well newsworthy scientific event space shuttle launch rolling stone concert broadcast mbone portion cannes film festival whether qualifies newsworthy scientific event arguable technically mbone virtual overlay network top internet consists multicastcapable island connected tunnel shown fig  figure mbone consists six island f connected seven tunnel island typically lan group interconnected lan support hardware multicast host tunnel propagate mbone packet island day future router capable handling multicast traffic directly superstructure longer needed moment job figure  mbone consists multicast island connected tunnel island contains one special router called mrouters multicast router actually normal router unix workstation running special userlevel software root mrouters logically connected tunnel mbone packet encapsulated within ip packet sent regular unicast packet destination mrouter s ip address tunnel configured manually usually tunnel run path physical connection exists requirement accident physical path underlying tunnel go mrouters using tunnel even notice since internet automatically reroute ip traffic via line new island appears wish join mbone g fig  administrator sends message announcing existence mbone mailing list administrator nearby site contact arrange set tunnel sometimes existing tunnel reshuffled take advantage new island optimize topology tunnel physical existence defined table mrouters added deleted  moved simply changing table typically country mbone backbone regional island attached normally mbone configured one two tunnel crossing atlantic pacific ocean making mbone global scale thus instant mbone consists specific topology consisting island tunnel independent number multicast address currently use listening watching situation similar normal physical subnet normal routing algorithm apply consequently mbone initially used routing algorithm dvmrp distance vector multicast routing protocol based bellmanford distance vector algorithm example fig  island c route either via b via e conceivably via make choice taking value node give respective distance adding distance way every island determines best route every island route actually used way however see shortly let u consider multicasting actually happens multicast audio video program source must first acquire class multicast address act like station frequency channel number class address reserved program look database free multicast address many multicasts may going host tune one interested listening appropriate multicast address periodically mrouter sends igmp broadcast packet limited island asking interested channel host wishing continue receive one channel send another igmp packet back response response staggered time avoid overloading local lan mrouter keep table channel must put onto lan avoid wasting bandwidth multicasting channel nobody want multicasts propagate mbone follows audio video source generates new packet multicasts local island using hardware multicast facility packet picked local mrouter copy tunnel connected mrouter getting packet via tunnel check see packet came along best route route table say use reach source destination packet came along best route mrouter copy packet tunnel packet arrived via suboptimal route discarded thus example fig  c s table tell use b get multicast packet reach c via b packet copied e however multicast packet reach c via e best path simply discarded algorithm reverse path forwarding algorithm saw chap  perfect fairly good simple implement addition using reverse path forwarding prevent flooding internet ip time live field also used limit scope multicasting packet start value determined source tunnel assigned weight packet passed tunnel enough weight otherwise discarded example transoceanic tunnel normally configured weight  packet limited continent origin given initial time live  le passing tunnel time live field decremented tunnel s weight mbone routing algorithm work much research devoted improving one proposal keep idea distance vector routing make algorithm hierarchical grouping mbone site region first routing thyagarajan deering  another proposal use modified form link state routing instead distance vector routing particular ietf working group modified ospf make suitable  multicasting within single autonomous system resulting multicast ospf called mospf moy  modification full map built mospf keep track multicast island tunnel addition usual routing information armed complete topology straightforward compute best path every island every island using tunnel dijkstra s algorithm used example second area research interas routing algorithm called pim protocol independent multicast developed another ietf working group pim come two version depending whether island dense almost everyone want watch sparse almost nobody want watch version use standard unicast routing table instead creating overlay topology dvmrp mospf pimdm dense mode idea prune useless path pruning work follows multicast packet arrives via wrong tunnel prune packet sent back tunnel telling sender stop sending packet source question packet arrives via right tunnel copied tunnel previously pruned tunnel pruned interest channel within local island mrouter sends prune message back right channel way multicast adapts automatically go wanted pimsm spare mode described rfc  work differently idea prevent saturating internet three people berkeley want hold conference call class address pimsm work setting rendezvous point source pimsm multicast group send packet rendezvous point site interested joining asks one rendezvous point set tunnel way pimsm traffic transported unicast instead multicast pimsm becoming popular mbone migrating toward use pimsm becomes widely used mospf gradually disappearing hand mbone seems somewhat stagnant probably never catch big way nevertheless networked multimedia still exciting rapidly moving field even mbone become huge success new technology application announced daily increasingly multicasting quality service coming together discussed striegel manimaran  another hot topic wireless multicast gossain et al  whole area multicasting everything related likely remain important year come  summary naming internet us hierarchical scheme called domain name system dns top level wellknown generic domain including com edu well  country domain dns implemented distributed database system server world dns hold record ip address mail exchange information querying dns server process map internet domain name onto ip address used communicate domain email one two killer apps internet everyone small child grandparent use email system world use mail system defined rfcs   message sent system use system ascii header define message property many kind content sent using mime message sent using smtp work making tcp connection source host destination host directly delivering email tcp connection killer app internet world wide web web system linking hypertext document originally document page written html hyperlink  document nowadays xml gradually starting take html also large amount content dynamically generated using serverside script php jsp asp well clientside script notably javascript browser display document establishing tcp connection server asking document closing connection request message contain variety header providing additional information caching replication content delivery network widely used enhance web performance wireless web getting started first system wap imode small screen limited bandwidth next generation powerful multimedia also rising star networking firmament allows audio video digitized transported electronically display audio requires le bandwidth along streaming audio internet radio voice ip reality new application coming along time video demand upandcoming area great interest finally mbone experimental worldwide digital live television service sent internet problem  many business computer three distinct worldwide unique identifier  according information given fig  littlesistercsvunl class b c network  fig  period rowboat  make guess smiley x sometimes written might mean  dns us udp instead tcp dns packet lost automatic recovery cause problem solved  addition subject loss udp packet maximum length potentially low  byte happens dns name looked exceeds length sent two packet  machine single dns name multiple ip address could occur  computer two dns name fall different toplevel domain give plausible example explain  number company web site grown explosively recent year result thousand company registered com domain causing heavy load toplevel server domain suggest way alleviate problem without changing naming scheme ie without introducing new toplevel domain name permitted solution requires change client code  email system support header field content return specifies whether body message returned event nondelivery field belong envelope header  electronic mail system need directory people s email address looked build directory name broken standard component eg first name last name make searching possible discus problem must solved worldwide standard acceptable  person s email address login name name dns domain mx record login name first name last name initial kind name suppose large company decided much email getting lost people know login name recipient way fix problem without changing dns give proposal explain work explain impossible  binary file  byte long long encoded using base encoding crlf pair inserted every  byte sent end  consider quotedprintable mime encoding scheme mention problem discussed text propose solution   name five mime type listed book check browser internet information  suppose want send mp file friend friend s isp limit amount incoming mail  mb mp file  mb way handle situation using rfc  mime  suppose someone set vacation daemon sends message logging unfortunately recipient vacation week also vacation daemon place happens next canned reply go back forth somebody return  standard rfc  precise grammar allowed needed different implementation interwork even simple item defined carefully smtp header allow white space token give two plausible alternative definition white space token  vacation daemon part user agent message transfer agent course set using user agent user agent actually send reply explain answer  pop allows user fetch download email remote mailbox mean internal format mailbox standardized pop program client side read mailbox mail server discus answer  isp s point view pop imap differ important way pop user generally empty mailbox every day imap user keep mail server indefinitely imagine called advise isp protocol support consideration would bring  webmail use pop imap neither one one chosen neither one closer spirit  web page sent prefixed mime header  external viewer needed browser know one use  possible user click link netscape particular helper started clicking link internet explorer cause completely different helper started even though mime type returned case identical explain answer  multithreaded web server organized shown fig  take  µsec accept request check cache half time file found cache returned immediately half time module block  msec disk request queued processed many module server keep cpu busy time assuming disk bottleneck  standard http url assumes web server listening port  however possible web server listen port devise reasonable syntax url accessing file nonstandard port  although mentioned text alternative form url use ip address instead dns name example using ip address http indexhtml browser know whether name following scheme dns name ip address  imagine someone c department stanford written new program want distribute ftp put program ftp directory ftppubfreebiesnewprogc url program likely  fig  wwwaportalcom keep track user preference cookie disadvantage scheme cooky limited  kb preference extensive example many stock sport team type news story weather multiple city special numerous product category kb limit may reached design alternative way keep track preference problem  sloth bank want make online banking easy lazy customer customer sign authenticated password bank return cookie containing customer id number way customer identify type password future visit online bank think idea work good idea   fig  alt parameter set img tag condition browser use  make image clickable html give example  show tag needed make string acm hyperlink http wwwacmorg  design form new company interburger allows hamburger ordered via internet form include customer s name address city well choice size either gigantic immense cheese option burger paid cash upon delivery credit card information needed  design form request user type two number user click submit button server return sum write server side php script  following application tell whether would  possible  better use php script javascript displaying calendar requested month since september  b b displaying schedule flight amsterdam new york c c graphing polynomial usersupplied coefficient  write program javascript accepts integer greater  tell whether prime number note javascript statement syntax c java modulo operator need square root x use mathsqrt x  html page follows  html body  href wwwinfosourcecomwelcomehtml click info a body html user click hyperlink tcp connection opened series line sent server list line sent  ifmodifiedsince header used check whether cached page still valid request made page containing image sound video well html think effectiveness technique better worse jpeg image compared html think carefully effectiveness mean explain answer  day major sporting event championship game popular sport many people go official web site flash crowd sense florida election   make sense single isp function cdn would work wrong idea  condition using cdn bad idea  wireless web terminal low bandwidth make efficient coding important devise scheme transmitting english text efficiently wireless link wap device may assume terminal several megabyte rom moderately powerful cpu hint think transmit japanese symbol word  compact disc hold  mb data compression used audio cd explain reasoning  fig  c quantization noise occurs due use bit sample represent nine signal value first sample  exact next percent error sample    period  could psychoacoustic model used reduce bandwidth needed internet telephony condition would met make work  audio streaming server oneway distance  msec medium player output  mbps medium player mb buffer say position lowwater mark highwater mark  interleaving algorithm fig  advantage able survive occasional lost packet without introducing gap playback however used internet telephony also small disadvantage   voice ip problem firewall streaming audio discus answer  bit rate transmitting uncompressed  x  pixel color frame  bitspixel  framessec  bit error mpeg frame affect frame error occurs explain answer  consider customer video server customer watch two movie per month half movie served  pm many movie server transmit time period movie requires  mbps many oc connection server need network  suppose zipf s law hold access movie video server server hold popular  movie magnetic disk remaining  optical disk give expression fraction reference magnetic disk write little program evaluate expression numerically  cybersquatters registered domain name misspelling common corporate site example wwwmicrosfotcom make list least five domain  numerous people registered dns name consist wwwwordcom word common word following category list five web site briefly summarize eg wwwstomachcom gastroenterologist long island list category animal food household object body part last category please stick body part waist  design emoji using  x  bit map include boyfriend girlfriend professor politician  write pop server accepts following command user pas list retr dele quit  rewrite server fig  true web server using get command http  also accept host message server maintain cache file recently fetched disk serve request cache possible  chapter  network security first decade existence computer network primarily used university researcher sending email corporate employee sharing printer condition security get lot attention million ordinary citizen using network banking shopping filing tax return network security looming horizon potentially massive problem chapter study network security several angle point numerous pitfall discus many algorithm protocol making network secure security broad topic cover multitude sin simplest form concerned making sure nosy people read worse yet secretly modify message intended recipient concerned people trying access remote service authorized use also deal way tell whether message purportedly irs saying pay friday else really irs mafia security also deal problem legitimate message captured replayed people trying deny sent certain message security problem intentionally caused malicious people trying gain benefit get attention harm someone common perpetrator listed fig  clear list making network secure involves lot keeping free programming error involves outsmarting often intelligent dedicated sometimes wellfunded adversary also clear measure thwart casual adversary little impact serious one police record show attack perpetrated outsider tapping phone line insider grudge consequently security system designed fact mind figure  people cause security problem network security problem divided roughly four closely intertwined area secrecy authentication nonrepudiation integrity control secrecy also called confidentiality keeping information hand unauthorized user usually come mind people think network security authentication deal determining talking revealing sensitive information entering business deal nonrepudiation deal signature prove customer really placed electronic order ten million lefthanded doohickey  cent later claim price  cent maybe claim never placed order finally sure message received really one sent something malicious adversary modified transit concocted  issue secrecy authentication nonrepudiation integrity control occur traditional system significant difference integrity secrecy achieved using registered mail locking document robbing mail train harder jesse james day also people usually tell difference original paper document photocopy often matter test make photocopy valid check try cashing original check bank monday try cashing photocopy check tuesday observe difference bank s behavior electronic check original copy indistinguishable may take bank learn handle people authenticate people recognizing face voice handwriting proof signing handled signature letterhead paper raised seal tampering usually detected handwriting ink paper expert none option available electronically clearly solution needed getting solution worth spending moment considering protocol stack network security belongs probably one single place every layer something contribute physical layer wiretapping foiled enclosing transmission line sealed tube containing gas high pressure attempt drill tube release gas reducing pressure triggering alarm military system use technique data link layer packet pointtopoint line encrypted leave one machine decrypted enter another detail handled data link layer higher layer oblivious going solution break packet traverse multiple router however packet decrypted router leaving vulnerable attack within router also allow session protected eg involving online purchase credit card others nevertheless link encryption method called added network easily often useful network layer firewall installed keep good packet bad packet ip security also function layer transport layer entire connection encrypted end end process process maximum security endtoend security required finally issue user authentication nonrepudiation handled application layer since security fit neatly layer fit chapter book reason rate chapter chapter long technical essential also quasiirrelevant moment well documented security failure bank example due incompetent employee lax security procedure insider fraud rather clever criminal tapping phone line decoding encrypted message person walk random branch bank atm slip found street claiming forgotten pin get new one spot name good customer relation cryptography world prevent abuse respect ross anderson s book real eyeopener document hundred example security failure numerous industry nearly due might politely called sloppy business practice inattention security anderson  nevertheless optimistic ecommerce becomes widespread company eventually debug operational procedure eliminating loophole bringing technical aspect security center stage  except physical layer security nearly security based cryptographic principle reason begin study security examining cryptography detail sec  look basic principle sec  sec  examine fundamental algorithm data structure used cryptography examine detail concept used achieve security network conclude brief thought technology society starting one last thought order covered tried focus networking issue rather operating system application issue although line often hard draw example nothing user authentication using biometrics password security buffer overflow attack trojan horse login spoofing logic bomb virus worm like topic covered great length chap  modern operating system tanenbaum  interested reader referred book system aspect security let u begin journey  cryptography cryptography come greek word secret writing long colorful history going back thousand year section sketch highlight background information follows complete history cryptography kahn s  book recommended reading comprehensive treatment current stateoftheart security cryptographic algorithm protocol application see kaufman et al  mathematical approach see stinson  le mathematical approach see burnett paine  professional make distinction cipher code cipher characterforcharacter bitforbit transformation without regard linguistic structure message contrast code replaces one word another word symbol code used although glorious history successful code ever devised used u armed force world war ii pacific simply navajo indian talking using specific navajo word military term example chaydagahinailtsaidi literally tortoise killer antitank weapon navajo language highly tonal exceedingly complex written form single person japan knew anything september  san diego union described code saying for three year wherever marine landed japanese got earful strange gurgling noise interspersed sound resembling call tibetan monk sound hot water bottle emptied japanese never broke code many navajo code talker awarded high military honor extraordinary service bravery fact u broke japanese code japanese never broke navajo code played crucial role american victory pacific  introduction cryptography historically four group people used contributed art cryptography military diplomatic corp diarist lover military important role shaped field century within military organization message encrypted traditionally given poorlypaid lowlevel code clerk encryption transmission sheer volume message prevented work done elite specialist advent computer one main constraint cryptography ability code clerk perform necessary transformation often battlefield  little equipment additional constraint difficulty switching quickly one cryptographic method another one since entail retraining large number people however danger code clerk captured enemy made essential able change cryptographic method instantly need conflicting requirement given rise model fig  figure  encryption model symmetrickey cipher message encrypted known plaintext transformed function parameterized key output encryption process known ciphertext transmitted often messenger radio assume enemy intruder hears accurately copy complete ciphertext however unlike intended recipient know decryption key decrypt ciphertext easily sometimes intruder listen communication channel passive intruder also record message play back later inject message modify legitimate message get receiver active intruder art breaking cipher called cryptanalysis art devising cryptography collectively known cryptology often useful notation relating plaintext ciphertext key use c e k p mean encryption plaintext p using key k give ciphertext c similarly p k c represents decryption c get plaintext follows notation suggests e mathematical function tricky part function two parameter written one parameter key subscript rather argument distinguish message fundamental rule cryptography one must assume cryptanalyst know method used encryption decryption word cryptanalyst know encryption method e decryption fig  work detail amount effort necessary invent test install new algorithm every time old method compromised thought compromised always made impractical keep encryption algorithm secret thinking secret harm good key enters key consists relatively short string selects one many potential encryption contrast general method may changed  every year key changed often required thus basic model stable publiclyknown general method parameterized secret easily changed key idea cryptanalyst know algorithm secrecy lie exclusively key called kerckhoff s principle named flemish military cryptographer auguste kerckhoff first stated  kerckhoff  thus kerckhoff s principle algorithm must public key secret nonsecrecy algorithm emphasized enough trying keep algorithm secret known trade security obscurity never work also publicizing algorithm cryptographer get free consulting large number academic cryptologist eager break system publish paper demonstrating smart many expert tried break algorithm  year publication one succeeded probably pretty solid since real secrecy key length major design issue consider simple combination lock general principle enter digit sequence everyone know key secret key length two digit mean  possibility key length three digit mean  possibility key length six digit mean million longer key higher work factor cryptanalyst deal work factor breaking system exhaustive search key space exponential key length secrecy come strong public algorithm long key prevent kid brother reading email bit key routine commercial use least  bit used keep major government bay key least  bit preferably needed cryptanalyst s point view cryptanalysis problem three principal variation quantity ciphertext plaintext confronted ciphertextonly problem cryptogram appear puzzle section newspaper pose kind problem cryptanalyst matched ciphertext plaintext problem called known plaintext problem finally cryptanalyst ability encrypt piece plaintext choosing chosen plaintext problem newspaper cryptogram could broken trivially cryptanalyst allowed ask question encryption abcdefghijkl novice cryptography business often assume cipher withstand ciphertextonly attack secure assumption naive many case cryptanalyst make good guess part plaintext example first thing many computer say call login equipped matched plaintextciphertext pair cryptanalyst s job becomes much easier achieve security cryptographer conservative make sure system unbreakable even opponent encrypt arbitrary amount chosen plaintext encryption method historically divided two category substitution cipher transposition cipher deal briefly background information modern cryptography  substitution cipher substitution cipher letter group letter replaced another letter group letter disguise one oldest known cipher caesar cipher attributed julius caesar method becomes b becomes e c becomes f z becomes c example attack becomes dwwdfn example plaintext given lower case letter ciphertext upper case letter slight generalization caesar cipher allows ciphertext alphabet shifted k letter instead always  case k becomes key general method circularly  shifted alphabet caesar cipher may fooled pompey fooled anyone since next improvement symbol plaintext say  letter simplicity map onto letter example plaintext b c e f g h j k l n p q r u v w x z ciphertext q w e r u p f g h j k l z x c v b n general system symbolforsymbol substitution called monoalphabetic substitution key letter string corresponding full alphabet key plaintext attack would transformed ciphertext qzzqea first glance might appear safe system although cryptanalyst know general system letterforletter substitution know   x   possible key use contrast caesar cipher trying promising approach even  nsec per solution computer would take   year try key nevertheless given surprisingly small amount ciphertext cipher broken easily basic attack take advantage statistical property natural language english example e common letter followed n etc common twoletter combination digram th er common threeletter combination trigram ing ion cryptanalyst trying break monoalphabetic cipher would start counting relative frequency letter ciphertext might tentatively assign common one e next common one would look trigram find common one form txe strongly suggests x h similarly pattern thyt occurs frequently probably stand information look frequently occurring trigram form azw likely making guess common letter digram trigram knowing likely pattern vowel consonant cryptanalyst build tentative plaintext letter letter another approach guess probable word phrase example consider following ciphertext accounting firm blocked group five character ctbmn byctc btjds qxbns gstjc btswx ctqtz cqvuj qjsgs tjqzz mnqjs vlnsx vszju jdsts jquus jubxj dsksu jsntk bgaqj zbgyq tlctz bnybn qjsw likely word message accounting firm financial using knowledge financial repeated letter four letter occurrence look repeated letter ciphertext spacing find  hit position             however two   next letter corresponding n plaintext repeated proper place two  also correctly positioned know financial begin position  point deducing key easy using frequency statistic english text  transposition cipher substitution cipher preserve order plaintext symbol disguise transposition cipher contrast reorder letter disguise figure  depicts common transposition cipher columnar transposition cipher keyed word phrase containing repeated letter example megabuck key  purpose key number column column  key letter closest start alphabet plaintext written horizontally row padded fill matrix need ciphertext read column starting column whose key letter lowest figure  transposition cipher break transposition cipher cryptanalyst must first aware dealing transposition cipher looking frequency e n etc easy see fit normal pattern plaintext cipher clearly transposition cipher cipher every letter represents keeping frequency distribution intact next step make guess number column many case probable word phrase may guessed context example suppose cryptanalyst suspect plaintext phrase milliondollars occurs somewhere message observe digram mo il la ir o occur ciphertext result phrase wrapping around ciphertext letter follows ciphertext letter ie vertically adjacent column  separated probable phrase distance equal key length key length seven used digram md io ia n would occurred instead fact key length different set digram produced ciphertext hunting various possibility cryptanalyst often easily determine key length remaining step order column number column k small k k  column pair examined see digram frequency match english plaintext pair best match assumed correctly positioned remaining column tentatively tried successor pair column whose digram trigram frequency give best match tentatively assumed correct predecessor column found way entire process continued potential ordering found chance plaintext recognizable point eg milloin occurs clear error transposition cipher accept fixedlength block input produce fixedlength block output cipher completely described giving list telling order character output example cipher fig  seen  character block cipher output            word fourth input character first output followed twelfth f  onetime pad constructing unbreakable cipher actually quite easy technique known decade first choose random bit string key convert plaintext bit string example using ascii representation finally compute xor exclusive  two string bit bit resulting ciphertext broken sufficiently large sample ciphertext letter occur equally often every digram every trigram method known onetime pad immune present future attack matter much computational power intruder reason derives information theory simply information message possible plaintexts given length equally likely example onetime pad used given fig  first message  i love converted bit ascii onetime pad pad  chosen xored message get ciphertext cryptanalyst could try possible onetime pad see plaintext came one example onetime pad listed pad  figure could tried resulting plaintext  elvis life may may plausible subject beyond scope book fact every character ascii plaintext onetime pad generates mean saying information ciphertext get message correct length figure  use onetime pad encryption possibility getting possible plaintext ciphertext use pad onetime pad great theory number disadvantage practice start key memorized sender receiver must carry written copy either one subject capture written key clearly undesirable additionally total amount data transmitted limited amount key available spy strike rich discovers wealth data may find unable transmit back headquarters key used another problem sensitivity method lost inserted character sender receiver get synchronization data appear garbled advent computer onetime pad might potentially become practical application source key could special dvd contains several gigabyte information transported dvd movie box prefixed minute video would even suspicious course gigabit network speed insert new dvd every  sec could become tedious dvd must personally carried sender receiver message sent greatly reduces practical utility quantum cryptography interestingly may solution problem transmit onetime pad network come unlikely source quantum mechanic area still experimental initial test promising perfected made efficient virtually cryptography eventually done using onetime pad since provably secure briefly explain method quantum cryptography work particular describe protocol called bb author publication year bennet brassard  user alice want establish onetime pad second user bob alice bob called principal main character story example bob banker alice would like business name alice bob used principal  virtually every paper book cryptography past decade cryptographer love tradition use andy barbara principal one would believe anything chapter alice bob could establish onetime pad could use communicate securely question establish without previously exchanging dvd assume alice bob opposite end optical fiber send receive light pulse however intrepid intruder trudy cut fiber splice active tap trudy read bit direction also send false message direction situation might seem hopeless alice bob quantum cryptography shed new light subject quantum cryptography based fact light come little packet called photon peculiar property furthermore light polarized passed polarizing filter fact well known sunglass wearer photographer beam light ie stream photon passed polarizing filter photon emerging polarized direction filter s axis eg vertical beam passed second polarizing filter intensity light emerging second filter proportional square cosine angle ax two ax perpendicular photon get absolute orientation two filter matter angle ax count generate onetime pad alice need two set polarizing filter set one consists vertical filter horizontal filter choice called rectilinear basis basis plural base coordinate system second set filter except rotated  degree one filter run lower left upper right filter run upper left lower right choice called diagonal basis thus alice two base rapidly insert beam reality alice four separate filter crystal whose polarization switched electrically four allowed direction great speed bob equipment alice fact alice bob two base available essential quantum cryptography basis alice assigns one direction   example presented assume chooses vertical  horizontal  independently also chooses lower left upper right  upper left lower right  sends choice bob plaintext alice pick onetime pad example based random number generator complex subject transfer bit bit bob choosing one two base random bit send bit photon gun emits one photon polarized appropriately basis using bit example might choose base diagonal rectilinear rectilinear diagonal rectilinear etc send onetime pad  base would send photon shown fig  given onetime pad sequence base polarization use bit uniquely determined bit sent one photon time called qubits figure  example quantum cryptography  bob know base use pick one random arriving photon us shown fig  b pick correct basis get correct bit pick incorrect basis get random bit photon hit filter polarized  degree polarization randomly jump polarization filter polarization perpendicular filter equal probability property photon fundamental quantum mechanic thus bit correct random bob know bob s result depicted fig  c bob find base got right got wrong simply tell alice basis used bit plaintext tell right wrong plaintext shown fig  information build bit string correct guess shown fig  e average bit string half length original bit string since party know use onetime pad alice transmit bit string slightly twice desired length bob onetime pad desired length problem solved wait minute forgot trudy suppose curious alice say cut fiber inserting detector transmitter unfortunately know basis use photon either best pick one random photon bob example choice shown fig  f bob later report plaintext base used alice tell plaintext one correct trudy know got right got wrong fig   got right bit          know alice s reply fig  bit         part onetime pad four bit     guessed right captured correct bit four     guessed wrong know bit transmitted thus bob know onetime pad start  fig  e trudy    fig  g course alice bob aware trudy may captured part onetime pad would like reduce information trudy performing transformation example could divide onetime pad block  bit square one form bit number use concatenation bit number onetime pad partial knowledge bit string transmitted trudy way generate square nothing transformation original onetime pad different one reduces trudy s knowledge called privacy  amplification practice complex transformation every output bit depends every input bit used instead squaring poor trudy idea onetime pad presence secret either must relay received bit bob trick thinking talking alice trouble best transmit qubit received using polarization used receive half time wrong causing many error bob s onetime pad alice finally start sending data encodes using heavy forwarderrorcorrecting code bob s point view bit error onetime pad bit transmission error either way get wrong bit enough forward error correction recover original message despite error easily count many error corrected number far expected error rate equipment know trudy tapped line act accordingly eg tell alice switch radio channel call police etc trudy way clone photon one photon inspect identical photon send bob could avoid detection present way clone photon perfectly known even trudy could clone photon value quantum cryptography establish onetime pad would reduced although quantum cryptography shown operate distance  km fiber equipment complex expensive still idea promise information quantum cryptography see mullins   two fundamental cryptographic principle although study many different cryptographic system page ahead two principle underlying important understand redundancy first principle encrypted message must contain redundancy information needed understand message example may make clear needed consider mailorder company couch potato tcp  product thinking efficient tcp s programmer decide ordering message consist byte customer name followed byte data field  byte quantity  byte product number last  byte encrypted using long key known customer tcp first might seem secure sense passive intruder decrypt message unfortunately also fatal flaw render useless suppose recentlyfired employee want punish tcp firing leaving take customer list work night writing program generate fictitious order using real customer name since list key put random number last  byte sends hundred order tcp message arrive tcp s computer us customer s name locate key decrypt message unfortunately tcp almost every byte message valid computer begin printing shipping instruction might seem odd customer order  set child s swing  sandbox computer know customer might planning open chain franchised playground way active intruder exemployee cause massive amount trouble even though understand message computer generating problem solved addition redundancy message example order message extended  byte first  must zero attack  longer work exemployee longer generate large stream valid message moral story message must contain considerable redundancy active intruder send random junk interpreted valid message however adding redundancy also make easier cryptanalyst break message suppose mail order business highly competitive couch potato s main competitor sofa tuber would dearly love know many sandbox tcp selling consequently tapped tcp s telephone line original scheme byte message cryptanalysis nearly impossible guessing key cryptanalyst way telling whether guess right almost every message technically legal new byte scheme easy cryptanalyst tell valid message invalid one thus cryptographic principle  message must contain redundancy word upon decrypting message recipient must able tell whether valid simply inspecting perhaps performing simple computation redundancy needed prevent active intruder sending garbage tricking receiver decrypting garbage acting plaintext however redundancy make much easier passive intruder break system tension furthermore redundancy never form n zero start end message since running message cryptographic algorithm give predictable result making cryptanalyst job easier crc polynomial much better run  since receiver easily verify generates work cryptanalyst even better use cryptographic hash concept explore later getting back quantum cryptography moment also see redundancy play role due trudy s interception photon bit bob s onetime pad wrong bob need redundancy incoming message determine error present one crude form redundancy repeating message two time two copy identical bob know either fiber noisy someone tampering transmission course sending everything twice overkill hamming reedsolomon code efficient way error detection correction clear redundancy needed distinguish valid message invalid message especially face active intruder freshness second cryptographic principle measure must taken ensure message received verified fresh sent recently measure needed prevent active intruder playing back old message measure taken exemployee could tap tcp s phone line keep repeating previously sent valid message restating idea get cryptographic principle  method needed foil replay attack one measure including every message timestamp valid say  second receiver keep message around  second compare newly arrived message previous one filter duplicate message older  second thrown since replay sent  second later rejected old measure timestamps discussed later   symmetrickey algorithm modern cryptography us basic idea traditional cryptography transposition substitution emphasis different traditionally cryptographer used simple algorithm nowadays reverse true object make encryption algorithm complex involuted even cryptanalyst acquires vast mound enciphered text ofhis choosing able make sense without key first class encryption algorithm study chapter called symmetrickey algorithm used key encryption decryption fig  illustratesthe use symmetrickey algorithm particular focus block cipher take n bit block plaintext input transform using key n bit block ciphertext cryptographic algorithm implemented either hardware speed software flexibility although treatment concern algorithm protocol independent actual implementation word building cryptographic hardware may interest transposition substitution implemented simple electrical circuit figure  show device known pbox p stand permutation used effect transposition bit input  bit designated top bottom  output particular pbox  appropriate internal wiring pbox made perform transposition practically speed light sinceno computation involved signal propagation design follows kerckhoff s principle attacker know general method permuting bit know bit go key figure  basic element product cipher pbox b sbox c product substitution performed sboxes shown fig  b example bit plaintext entered bit ciphertext output bit input selects one eight line exiting first stage set  line  second stage pbox third stage encodes selected input line binary wiring shown eight octal number  input one another output sequence would  word  replaced   replaced  etc appropriate wiring pbox inside sbox substitution accomplished furthermore device built hardware achieve great speed since encoders decoder one two subnanosecond gate delay thepropagation time across pbox may well le  picosecond real power basic element becomes apparent cascade whole series box form product cipher shown fig  c example  input line transposed ie permuted first stage p  theoretically would possible second stage sbox mapped bit number onto another bit number however device would need    crossed wire middle stage instead input broken four group  bit substituted  independently others although method le general still powerful inclusion sufficiently large number stage product cipher output made exceedingly complicated function input product cipher operate k bit input produce k bit output common typically k   hardware implementation usually least  physical stage instead seven fig  c software implementation programmed loop least  iteration one performing sboxtype substitution subblocks  bit data block followed permutation mix output sboxes often special initial permutation one end well literature iteration called round  des—the data encryption standard january  u government adopted product cipher developed ibm official standard unclassified information cipher de data encryption standard widely adopted industry use security product longer secure original form modified form still useful explain de work outline de shown fig  plaintext encrypted block  bit yielding  bit ciphertext algorithm parameterized bit key  distinct stage first stage keyindependent transposition bit plaintext last stage exact inverse transposition stage prior last one exchange leftmost  bit rightmost  bit remaining  stage functionally identical parameterized different function key algorithm designed allow decryption done key encryption property needed symmetrickey algorithm step run reverse order figure  data encryption standard general outline b detail one iteration circled mean exclusive operation one intermediate stage illustrated fig  b stage take two bit input produce two bit output left output simply copy right  input right output bitwise xor left input function right input key stage k complexity lie function function consists four step carried sequence first bit number e constructed expanding bit r  according fixed transposition duplication rule second e k xored together output partitioned eight group  bit fed different sbox  possible input sbox mapped onto bit output finally  x  bit passed pbox  iteration different key used algorithm start bit transposition applied key iteration key partitioned two bit unit rotated left number bit dependent iteration number k derived rotated key applying yet another bit transposition different bit subset  bit extracted permuted round technique sometimes used make de stronger called whitening consists xoring random bit key plaintext block feeding de xoring second bit key resulting ciphertext transmitting whitening easily removed running reverse operation receiver two whitening key since technique effectively add bit key length make exhaustive search key space much time consuming note whitening key used block ie one whitening key de enveloped controversy since day launched based cipher developed patented ibm called lucifer except ibm s cipher used bit key instead bit key u federal government wanted standardize one cipher unclassified use invited ibm discus matter nsa u government s codebreaking arm world s largest employer mathematician andcryptologists nsa secret industry joke go q nsa stand a agency actually nsa stand national security agency discussion took place ibm reduced key  bit  bit decided keep secret process de designed many people suspected key length reduced make sure nsa could break de organization smaller budget could point secret design supposedly hide back door could make even easier nsa break de nsa employee discreetly told ieee cancel planned conference cryptography make people comfortable nsa denied everything  two stanford cryptography researcher diffie hellman  designed machine break de estimated could built  million dollar given small piece plaintext matched ciphertext machine could find key exhaustive search   entry key space  day nowadays machine would cost well  million dollar triple de  early  ibm realized de key length short devised way effectively increase using triple encryption tuchman  method chosen since incorporated international standard  illustrated fig  two key three stage used first stage plaintext encrypted using de usual way k  second stage de run decryption mode using k  key finally another de encryption done k  figure  triple encryption using de b decryption design immediately give rise two question first two key used instead three second ede encrypt decrypt encrypt used instead eee encrypt encrypt encrypt reason two key used even paranoid cryptographer believe  bit adequate routine commercial application time among cryptographer paranoia considered feature bug going  bit would add unnecessary overhead managing transporting another key little real gain reason encrypting decrypting encrypting backward compatibility existing singlekey de system encryption decryption function mapping set bit number cryptographic point view two mapping equally strong using ede however instead eee computer using triple encryption speak one using single encryption setting k  k  property allows triple encryption phased gradually something concern academic cryptographer considerable importance ibm customer  aes—the advanced encryption standard de began approaching end useful life even triple de nist national institute standard technology agency u dept commerce charged approving standard u federal government decided government needed new cryptographic standard unclassified use nist keenly aware controversy surrounding de well knew announced new standard everyone knowing anything cryptography would automatically assume nsa built back door nsa could read everything encrypted condition probably one would use standard would likely die quiet death nist took surprisingly different approach government bureaucracy sponsored cryptographic bakeoff contest january  researcher world invited submit proposal new standard called aes advanced encryption standard bakeoff rule  algorithm must symmetric block cipher  full design must public  key length    bit must supported  software hardware implementation must possible  algorithm must public licensed nondiscriminatory term fifteen serious proposal made public conference organized presented attendee actively encouraged find flaw august  nist selected five finalist primarily basis security efficiency simplicity flexibility memory requirement important embedded system conference  held potshot taken nonbinding vote taken last conference finalist score follows  rijndael joan daemen vincent rijmen  vote  serpent ross anderson eli biham lars knudsen  vote  twofish team headed bruce schneier  vote  rc rsa laboratory  vote  mar ibm  vote october  nist announced voted rijndael november  rijndael became u government standard published federal information processing standard fips  due extraordinary openness competition technical property rijndael fact winning team consisted two young belgian cryptographer unlikely built back door please nsa expected rijndael become world s dominant cryptographic standard least decade name rijndael pronounced rhinedoll le derived last name author rijmen daemen rijndael support key length block size  bit  bit step  bit key length block length may chosen independently however aes specifies block size must  bit key length must    bit doubtful anyone ever use bit key de facto aes two variant bit block bit key bit block bit key treatment algorithm examine  case likely become commercial norm bit key give key space    x   key even nsa manages build machine  billion parallel processor able evaluate one key per picosecond would take machine   year search key space sun burned folk present read result candlelight rijndael mathematical perspective rijndael based galois field theory give provable security property however also viewed c code without getting mathematics like de rijndael us substitution permutation also us multiple round number round depends key size block size  bit key bit block moving  largest key largest block however unlike de operation involve entire byte allow efficient implementation hardware software outline code given fig  figure  outline rijndael  function rijndael three parameter plaintext array  byte containing input data ciphertext array  byte enciphered output returned key byte key calculation current state data maintained byte array state whose size nrows x ncols bit block array  x  byte  byte full bit data block stored state array initialized plaintext modified every step computation step byteforbyte substitution performed others byte permuted within array transformation also used end content state returned ciphertext code start expanding key  array size state stored rk array structs containing state array one used start calculation  used  round one per round calculation round key encryption key complicated u get suffice say round key produced repeated rotation xoring various group key bit detail see daemen rijmen  next step copy plaintext state array processed round copied column order first four byte going column  next four byte going column  column row numbered starting  although round numbered starting  initial setup  byte array size  x  illustrated fig  figure  creating state rk array  one step main computation begin rk  xored state byte byte word  byte state replaced xor corresponding byte rk  time main attraction loop executes  iteration one per round transforming state iteration content round consist four step step  byteforbyte substitution state byte turn used index sbox replace value content sbox entry step straight monoalphabetic substitution cipher unlike de multiple sboxes rijndael one sbox step  rotates four row left row  rotated  byte ie changed row  rotated  byte row  rotated  byte row  rotated  byte step diffuses content current data around block analogous permutation fig  step  mix column independently one mixing done using matrix multiplication new column product old column constant matrix multiplication done using finite galois field gf   although may sound complicated algorithm exists allows element new column computed using two table lookup three xors daemen rijmen  appendix e finally step  xors key round state array since every step reversible decryption done running algorithm backward however also trick available decryption done running encryption algorithm using different table algorithm designed great security also great speed good software implementation ghz machine able achieve encryption rate  mbps fast enough encrypt  mpeg video real time hardware implementation faster still  cipher mode despite complexity aes de block cipher matter basically monoalphabetic substitution cipher using big character bit character aes bit character de whenever plaintext block go front end ciphertext block come back end encrypt plaintext abcdefgh  time de key get ciphertext  time intruder exploit property help subvert cipher electronic code book mode see monoalphabetic substitution cipher property used partially defeat cipher use triple de easier depict bit block bit block  aes exactly problem straightforward way use de encrypt long piece plaintext break consecutive byte bit block encrypt one another key last piece plaintext padded  bit need technique known ecb mode electronic code book mode analogy oldfashioned code book plaintext word listed followed ciphertext usually fivedigit decimal number fig  start computer file listing annual bonus company decided award employee file consists consecutive byte record one per employee format shown  byte name  byte position  byte bonus sixteen byte block numbered   encrypted triple de figure  plaintext file encrypted  de block leslie fight bos expecting much bonus kim contrast bos favorite everyone know leslie get access file encrypted sent bank leslie rectify unfair situation given encrypted file problem leslie make copy th ciphertext block contains kim s bonus use replace th ciphertext block contains leslie s bonus even without knowing th block say leslie expect much merrier christmas year copying th ciphertext block also possibility likely detected besides leslie greedy person cipher block chaining mode thwart type attack block cipher chained various way replacing block way leslie cause plaintext decrypted starting replaced block garbage one way chaining cipher block chaining method shown fig   plaintext block xored previous ciphertext block encrypted consequently plaintext block longer map onto ciphertext block encryption longer big monoalphabetic substitution cipher first block xored randomly chosen iv initialization vector transmitted plaintext along ciphertext figure  cipher block chaining encryption b decryption  see cipher block chaining mode work examining example fig  start computing c  e p  xor iv compute c  e p  xor c  decryption also us xor reverse process p  iv xor c  note encryption block function plaintext block   plaintext generates different ciphertext depending occurs transformation type leslie made result nonsense two block starting leslie s bonus field astute security officer peculiarity might suggest start ensuing investigation cipher block chaining also advantage plaintext block result ciphertext block making cryptanalysis difficult fact main reason used cipher feedback mode however cipher block chaining disadvantage requiring entire bit block arrive decryption begin use interactive terminal people type line shorter eight character stop waiting response mode unsuitable bytebybyte encryption cipher feedback mode using triple de used shown fig  aes idea exactly bit shift register used figure state encryption machine shown byte   encrypted sent plaintext byte  arrives illustrated fig  de algorithm operates bit shift register generate bit ciphertext leftmost byte ciphertext extracted xored p  byte transmitted transmission line addition shift register shifted left  bit causing c  fall left end c  inserted position vacated right end c  note content shift register depend entire previous history plaintext pattern repeat multiple time plaintext encrypted differently time ciphertext cipher block chaining initialization vector needed start ball rolling figure  cipher feedback mode encryption b decryption  decryption cipher feedback mode thing encryption particular content shift register encrypted decrypted selected byte xored c  get p  one xored p  generate c  first place long two shift register remain identical decryption work correctly illustrated fig  b problem cipher feedback mode one bit ciphertext accidentally inverted transmission  byte decrypted bad byte shift register corrupted bad byte pushed shift register correct plaintext generated thus effect single inverted bit relatively localized ruin rest message ruin many bit shift register wide stream cipher mode nevertheless application exist bit transmission error mess  bit plaintext large effect application fourth option stream cipher mode exists work encrypting initialization vector using key get output block output block encrypted using key get second output block block encrypted get third block arbitrarily large sequence output block called keystream treated like onetime pad xored plaintext get ciphertext shown fig  note iv used first step output encrypted also note keystream independent data computed advance need completely insensitive transmission error decryption shown fig  b figure  stream cipher encryption b decryption decryption occurs generating keystream receiving side since keystream depends iv key affected transmission error ciphertext thus bit error transmitted ciphertext generates bit error decrypted plaintext  essential never use key iv pair twice stream cipher generate keystream time using keystream twice expose ciphertext keystream reuse attack imagine plaintext block p  encrypted keystream get p  xor k  later second plaintext block q  encrypted keystream get q  xor k  intruder capture ciphertext block simply xor together get p  xor q  eliminates key intruder xor two plaintext block one known guessed also found event xor two plaintext stream attacked using statistical property message example english text common character stream probably xor two space followed xor space letter e etc short equipped xor two plaintexts cryptanalyst excellent chance deducing counter mode one problem mode except electronic code book mode random access encrypted data impossible example suppose file transmitted network stored disk encrypted form might reasonable way operate receiving computer notebook computer might stolen storing critical file encrypted form greatly reduces damage due secret information leaking event computer fall wrong hand however disk file often accessed nonsequential order especially file database file encrypted using cipher block chaining accessing random block requires first decrypting block ahead expensive proposition reason yet another mode invented counter mode illustrated fig  plaintext encrypted directly instead initialization vector plus constant encrypted resulting ciphertext xored plaintext stepping initialization vector  new block easy decrypt block anywhere file without first decrypt predecessor figure  encryption using counter mode although counter mode useful weakness worth pointing suppose key k used future different plaintext iv attacker acquires ciphertext run keystreams case exposing cipher keystream reuse attack kind saw stream cipher cryptanalyst xor two ciphertexts together eliminate cryptographic protection get xor plaintexts weakness mean counter mode bad idea mean key initialization vector chosen independently random even key accidentally used twice iv different time plaintext safe   cipher de rijndael bestknown symmetrickey cryptographic algorithm however worth mentioning numerous symmetrickey cipher devised embedded inside various product common one listed fig  figure  common symmetrickey cryptographic algorithm  cryptanalysis leaving subject symmetrickey cryptography worth least mentioning four development cryptanalysis first development differential cryptanalysis biham shamir  technique used attack block cipher work beginning pair plaintext block differ small number bit watching carefully happens internal iteration encryption proceeds many case bit pattern much common pattern observation lead probabilistic attack second development worth noting linear cryptanalysis matsui  break de   known plaintexts work xoring certain bit plaintext ciphertext together examining result pattern done repeatedly half bit  half  often however cipher introduce bias one direction bias however small exploited reduce work factor detail see matsui s paper third development using analysis electrical power consumption find secret key computer typically use  volt represent  bit  volt represent  bit thus processing  take electrical energy processing  cryptographic algorithm consists loop key bit processed order attacker replaces main n ghz clock slow eg hz clock put alligator clip cpu s power ground pin precisely monitor power consumed machine instruction data deducing key surprisingly easy kind cryptanalysis defeated carefully coding algorithm assembly language make sure power consumption independent key also independent individual round key fourth development timing analysis cryptographic algorithm full statement test bit round key else part take different amount time slowing clock seeing long various step take may also possible deduce round key round key known original key usually computed power timing analysis also employed simultaneously make job  easier power timing analysis may seem exotic reality powerful technique break cipher specifically designed resist  publickey algorithm historically distributing key always weakest link cryptosystems matter strong cryptosystem intruder could steal key system worthless cryptologist always took granted encryption key decryption key easily derived one another key distributed user system thus seemed inherent builtin problem key protected theft also distributed could locked bank vault  two researcher stanford university diffie hellman  proposed radically new kind cryptosystem one encryption decryption key different decryption key could feasibly derived encryption key proposal keyed encryption algorithm e keyed decryption algorithm meet three requirement requirement stated simply follows  e p p  exceedingly difficult deduce e  e broken chosen plaintext attack first requirement say apply encrypted message e p get original plaintext message p back without property legitimate receiver could decrypt ciphertext second requirement speaks third requirement needed shall see moment intruder may experiment algorithm heart content condition reason encryption key made public method work like person say alice wanting receive secret message first devise two algorithm meeting requirement encryption algorithm alice s key made public hence name publickey cryptography alice might put public key home page web example use notation e mean encryption algorithm parameterized alice s public key similarly secret decryption algorithm parameterized alice s private key bob thing publicizing e b keeping b secret let u see solve problem establishing secure channel alice bob never previous contact alice s encryption key e bob s encryption key e b assumed publicly readable file alice take first message p computes e b p sends bob bob decrypts applying secret key b ie computes b e b p p one else read encrypted message e b p encryption system assumed strong difficult derive b publicly known e b send reply r bob transmits e r alice bob communicate securely note terminology perhaps useful publickey cryptography requires user two key public key used entire world encrypting message sent user private key user need decrypting message consistently refer key public private key respectively distinguish secret key used conventional symmetrickey cryptography   rsa catch need find algorithm indeed satisfy three requirement due potential advantage publickey cryptography many researcher hard work algorithm already published one good method discovered group mit rivest et al  known initial three discoverer rivest shamir adleman rsa survived attempt break quarter century considered strong much practical security based major disadvantage requires key least  bit good security versus  bit symmetrickey algorithm make quite slow rsa method based principle number theory summarize use method detail consult paper  choose two large prime p q typically  bit  compute n p x q z p  x q   choose number relatively prime z call  find e e x  mod z parameter computed advance ready begin encryption divide plaintext regarded bit string block plaintext message p fall interval  p n grouping plaintext block k bit k largest integer  k n true encrypt message p compute c p e mod n decrypt c compute p c mod n proven p specified range encryption decryption function inverse perform encryption need e n perform decryption need n therefore public key consists pair e n private key consists n security method based difficulty factoring large number cryptanalyst could factor publicly known n could find p q z equipped knowledge z e found using euclid s algorithm fortunately mathematician trying factor large number least  year accumulated evidence suggests exceedingly difficult problem according rivest colleague factoring digit number requires   year using brute force case assume best known algorithm computer µsec instruction time even computer continue get faster order magnitude per decade century factoring digit number becomes feasible time descendant simply choose p q still larger trivial pedagogical example rsa algorithm work given fig  example chosen p  q  giving n  z  suitable value  since   common factor choice e found solving equation  e  mod  yield e  ciphertext c plaintext message p given c p  mod  ciphertext decrypted receiver making use rule p c  mod  figure show encryption plaintext suzanne example figure  example rsa algorithm  prime chosen example small p must le  plaintext block contain single character result monoalphabetic substitution cipher impressive instead chosen p q   would n   block could  bit  eightbit character versus  character de  character aes pointed using rsa described similar using symmetric algorithm ecb mode—the input block give output block therefore form chaining needed data encryption however practice rsabased system use publickey cryptography primarily distributing onetime session key use symmetrickey algorithm aes triple de rsa slow actually encrypting large volume data widely used key distribution  publickey algorithm although rsa widely used mean publickey algorithm known first publickey algorithm knapsack algorithm merkle hellman  idea someone owns large number object different weight owner encodes message secretly selecting subset object placing knapsack total weight object knapsack made public list possible object list object knapsack kept secret certain additional restriction problem figuring possible list object given weight thought computationally infeasible formed basis publickey algorithm algorithm s inventor ralph merkle quite sure algorithm could broken offered  reward anyone could break adi shamir s rsa promptly broke collected reward undeterred merkle strengthened algorithm offered  reward anyone could break new one ronald rivest r rsa promptly broke new one collected reward merkle dare offer  next version a leonard adleman luck nevertheless knapsack algorithm considered secure used practice publickey scheme based difficulty computing discrete logarithm algorithm use principle invented el gamal  schnorr  scheme exist based elliptic curve menezes vanstone  two major category based difficulty factoring large number computing discrete logarithm modulo large prime problem thought genuinely difficult solve—mathematicians working many year without great breakthrough   digital signature authenticity many legal financial document determined presence absence authorized handwritten signature photocopy count computerized message system replace physical transport paper ink document method must found allow document signed unforgeable way problem devising replacement handwritten signature difficult one basically needed system one party send signed message another party way following condition hold  receiver verify claimed identity sender  sender later repudiate content message  receiver possibly concocted message first requirement needed example financial system customer s computer order bank s computer buy ton gold bank s computer need able make sure computer giving order really belongs company whose account debited word bank authenticate customer customer authenticate bank second requirement needed protect bank fraud suppose bank buy ton gold immediately thereafter price gold drop sharply dishonest customer might sue bank claiming never issued order buy gold bank produce message court customer denies sent property party contract later deny signed called nonrepudiation digital signature scheme study help provide third requirement needed protect customer event price gold shoot bank try construct signed message customer asked one bar gold instead one ton fraud scenario bank keep rest gold  symmetrickey signature one approach digital signature central authority know everything everyone trust say big brother bb user chooses secret key carry hand bb s office thus alice bb know alice s secret key k alice want send signed plaintext message p banker bob generates k b r p b bob s identity r random number chosen alice timestamp ensure freshness k b r p message encrypted key k sends depicted fig  bb see message alice decrypts sends message bob shown message bob contains plaintext alice s message also signed message k bb p bob carry alice s request figure  digital signature big brother  happens alice later denies sending message step  everyone sue everyone least united state finally case come court alice vigorously denies sending bob disputed message judge ask bob sure disputed message came alice trudy bob first point bb accept message alice unless encrypted k possibility trudy sending bb false message alice without bb detecting immediately bob dramatically produce exhibit k bb p bob say message signed bb prof alice sent p bob judge asks bb everyone trust decrypt exhibit bb testifies bob telling truth judge decides favor bob case dismissed one potential problem signature protocol fig  trudy replaying either message minimize problem timestamps used throughout furthermore bob check recent message see r used message discarded replay note based timestamp bob reject old message guard instant replay attack bob check r every incoming message see message received alice past hour bob safely assume new request  publickey signature structural problem using symmetrickey cryptography digital signature everyone agree trust big brother furthermore big brother get read signed message logical candidate running big brother server government bank accountant lawyer unfortunately none organization inspire total confidence citizen hence would nice signing document require trusted authority fortunately publickey cryptography make important contribution area let u assume publickey encryption decryption algorithm property e p p addition course usual property e p p rsa property assumption unreasonable assuming case alice send signed plaintext message p bob transmitting e b p note carefully alice know private key well bob s public key e b constructing message something alice bob receives message transforms using private key usual yielding p shown fig  store text safe place applies e get original plaintext figure  digital signature using publickey cryptography see signature property work suppose alice subsequently denies sent message p bob case come court bob produce p p judge easily verify bob indeed valid message encrypted simply applying e since bob know alice s private key way bob could  acquired message encrypted alice indeed send jail perjury fraud alice plenty time devise interesting new publickey algorithm although using publickey cryptography digital signature elegant scheme problem related environment operate rather basic algorithm one thing bob prove message sent alice long remains secret alice discloses secret key argument longer hold anyone could sent message including bob problem might arise example bob alice s stockbroker alice tell bob buy certain stock bond immediately thereafter price drop sharply repudiate message bob alice run police claiming home burglarized pc holding key stolen depending law state country may may legally liable especially claim discovered breakin getting home work several hour later another problem signature scheme happens alice decides change key clearly legal probably good idea periodically court case later arises described judge apply current e p discover produce p bob look pretty stupid point principle publickey algorithm used digital signature de facto industry standard rsa algorithm many security product use however  nist proposed using variant el gamal publickey algorithm new digital signature standard ds el gamal get security difficulty computing discrete logarithm rather difficulty factoring large number usual government try dictate cryptographic standard uproar ds criticized  secret nsa designed protocol using el gamal  slow   time slower rsa checking signature  new el gamal yet thoroughly analyzed  insecure fixed bit key subsequent revision fourth point rendered moot key  bit allowed nevertheless first two point remain valid  message digest one criticism signature method often couple two distinct function authentication secrecy often authentication needed secrecy also getting export license often easier system question provides authentication secrecy describe authentication scheme require encrypting entire message scheme based idea oneway hash function take arbitrarily long piece plaintext computes fixedlength bit string hash function md often called message digest four important property  given p easy compute md p  given md p effectively impossible find p  given p one find p md p md p  change input even  bit produce different output  meet criterion  hash least  bit long preferably meet criterion  hash must mangle bit thoroughly unlike symmetrickey encryption algorithm seen computing message digest piece plaintext much faster encrypting plaintext publickey algorithm message digest used speed digital signature algorithm see work consider signature protocol fig  instead signing p k bb p bb computes message digest applying md p yielding md p bb encloses k bb md p fifth item list encrypted k b sent bob instead k bb p dispute arises bob produce p k bb md p big brother decrypted judge bob md p guaranteed genuine alleged p however since effectively impossible bob find message give hash judge easily convinced bob telling truth using message digest way save encryption time message transport cost message digest work publickey cryptosystems shown fig  alice first computes message digest plaintext sign message digest sends signed digest plaintext bob trudy replaces p underway bob see computes md p figure  digital signature using message digest md variety message digest function proposed widely used one md rivest  sha nist  md fifth series message digest designed ronald rivest operates mangling bit sufficiently complicated way every output bit affected every input bit briefly start padding message length  bit modulo  original length message appended bit integer give total input whose length multiple  bit last precomputation step initializing bit buffer fixed value computation start round take bit block input mix thoroughly bit buffer good measure table constructed sine function also thrown point using known function like sine random random number generator avoid suspicion designer built clever back door enter remember ibm s refusal disclose principle behind design sboxes de led great deal speculation back door rivest wanted avoid suspicion four round performed per input block process continues input block consumed content bit buffer form message digest md around decade many people attacked vulnerability found certain internal step prevent broken however remaining barrier within md fall may eventually fail nevertheless time writing still standing  sha major message digest function sha secure hash algorithm  developed nsa blessed nist fips  like md sha process input data bit block unlike md generates bit message digest typical way alice send nonsecret signed message bob illustrated fig  plaintext message fed sha algorithm get bit sha hash alice sign hash rsa private key sends plaintext message signed hash bob figure  use sha rsa signing nonsecret message receving message bob computes sha hash also applies alice s public key signed hash get original hash h two agree message considered valid since way trudy modify plaintext message transit produce new one hash h bob easily detect change trudy made message message whose integrity important whose content secret scheme fig  widely used relatively small cost computation guarantee modification made plaintext message transit detected high probability let u briefly see sha work start padding message adding  bit end followed many  bit needed make length multiple  bit bit number containing message length padding ored loworder  bit fig  message shown padding right english text figure go left right ie lower right generally perceived end figure computer orientation corresponds bigendian machine sparc sha always pad end message matter endian machine used figure  message padded multiple  bit b output variable c word array computation sha maintains five bit variable h  h  hash accumulates shown fig  b initialized constant specified standard  block  n  processed turn current block  word first copied start auxiliary word array w shown fig  c  word w filled using formula b w represents left circular rotation bit word w b bit five scratch variable e initialized h  h  respectively actual calculation expressed pseudoc   i temp  f b c e w k ed dc c  b b temp k constant defined standard mixing function f defined  iteration loop completed e added h  h  respectively first bit block processed next one started w array reinitialized new block h left block finished next one started bit message block tossed soup last block finished five bit word h array output bit cryptographic hash complete c code sha given rfc  new version sha development hash    bit respectively  birthday attack world crypto nothing ever seems one might think would take order  operation subvert bit message digest fact  m  operation often using birthday attack approach published yuval  nowclassic paper how swindle rabin idea attack come technique math professor often use probability course question many student need class probability two people birthday exceeds  student expect answer way  fact probability theory say  without giving rigorous analysis intuitively  people form  x    different pair probability  hit light really surprising  generally mapping input output n input people message etc k possible output birthday message digest etc n n   input pair n n   k chance least one match pretty good thus approximately match likely result mean bit message digest probably broken generating   message looking two message digest let u look practical example department computer science state university one position tenured faculty member two candidate tom dick tom hired two year dick go review first get dick luck tom know department chairperson marilyn think highly work asks write letter recommendation dean decide tom s case sent letter become confidential marilyn tell secretary ellen write dean letter outlining want ready marilyn review compute sign bit digest send dean ellen send letter later email unfortunately tom ellen romantically involved dick would like tom writes letter  bracketed option dear dean smith letter message give honest frank opinion prof tom wilson candidate tenure year known worked prof wilson almost six year outstanding excellent researcher great talent ability known worldwide internationally brilliant creative insight many wide variety difficult challenging problem also highly greatly respected admired teacher educator student give class course rave spectacular review department popular bestloved teacher instructor addition additionally prof wilson gifted effective fund raiser grant contract brought large substantial amount money department money fund enabled permitted u pursue carry many special important program example state  program without fund would unable able continue program important essential u strongly urge grant tenure unfortunately tom soon ellen finish composing typing letter also writes second one dear dean smith letter message give honest frank opinion prof tom wilson candidate tenure year known worked tom almost six year poor weak researcher well known field area research hardly ever rarely show insight understanding key major problem day furthermore respected admired teacher educator student give class course poor bad review department least popular teacher instructor known mostly primarily within department tendency propensity ridicule embarrass student foolish imprudent enough ask question class  addition additionally tom poor marginal fund raiser grant contract brought meager insignificant amount money department unless new money fund quickly located may cancel essential program state  program unfortunately condition circumstance good conscience faith recommend tenure permanent position ellen program computer compute   message digest letter overnight chance one digest first letter match one digest second letter add option try weekend suppose find match call good letter bad one b ellen email letter marilyn approval letter b keep completely secret showing one marilyn course approves computes bit message digest sign digest email signed digest dean smith independently ellen email letter b dean letter supposed getting letter signed message digest dean run message digest algorithm letter b see agrees marilyn sent fire tom dean realize ellen managed generate two letter message digest sent different one marilyn saw approved optional ending ellen tell dick dick appalled break ellen furious confesses marilyn marilyn call dean tom get tenure md birthday attack difficult even  billion digest per second would take  year compute   digest two letter  variant even match guaranteed course  computer working parallel  year becomes  week sha better longer  management public key publickey cryptography make possible people share common key communicate securely also make signing message possible without presence trusted third party finally signed message digest make possible verify integrity received message easily however one problem glossed bit quickly alice bob know get s public key start communication process obvious solution—put public key web site—does work following reason suppose alice want look bob s public key web site start typing bob s url browser look dns address bob s home page sends get request shown fig  unfortunately trudy intercept request reply fake home page probably copy bob s home page except replacement bob s public key trudy s public key alice encrypts first message e trudy decrypts read reencrypts bob s public key sends bob none wiser trudy reading incoming message worse yet trudy could modify message reencrypting bob clearly mechanism needed make sure public key exchanged securely figure  way trudy subvert publickey encryption   certificate first attempt distributing public key securely could imagine key distribution center available online  hour day provide public key demand one many problem solution scalable key distribution center would rapidly become bottleneck also ever went internet security would suddenly grind halt reason people developed different solution one require key distribution center online time fact online instead certify public key belonging people company organization organization certifies public key called ca certification authority example suppose bob want allow alice people communicate securely go ca public key along passport driver s license ask certified ca issue certificate similar one fig  sign sha hash ca s private key bob pay ca s fee get floppy disk containing certificate signed hash figure  possible certificate signed hash fundamental job certificate bind public key name principal individual company etc certificate secret protected bob might example decide put new certificate web site link main page saying click publickey certificate resulting click would return certificate signature block signed sha hash certificate let u run scenario fig  trudy intercept alice s request bob s home page put certificate signature block fake page alice read certificate immediately see talking bob bob s name trudy modify bob s home page onthefly replacing bob s public key however alice run sha algorithm certificate get hash agree one get applies ca s wellknown public key signature block since trudy ca s private key way generating signature block contains hash modified web page public key way alice sure bob s public key trudy s someone else s promised scheme require ca online verification thus eliminating potential bottleneck standard function certificate bind public key principal certificate also used bind public key attribute example certificate could say public key belongs someone  could used prove owner private key minor thus allowed access material suitable child without disclosing owner s identity typically person holding certificate would send web site principal process cared age site principal  process would generate random number encrypt public key certificate owner able decrypt send back would proof owner indeed attribute stated certificate alternatively random number could used generate session key ensuing conversation another example certificate might contain attribute objectoriented distributed system object normally multiple method owner object could provide customer certificate giving bit map method customer allowed invoke binding bit map public key using signed certificate certificate holder prove possession corresponding private key allowed perform method bit map property owner s identity need known property useful situation privacy important  x everybody wanted something signed went ca different kind certificate managing different format would soon become problem solve problem standard certificate devised approved itu standard called x widespread use internet gone three version since initial standardization  discus v x heavily influenced osi world borrowing worst feature eg naming encoding surprisingly ietf went along x even though nearly every area machine address transport protocol email format ietf generally ignored osi tried right ietf version x described rfc  core x way describe certificate primary field certificate listed fig  description given provide general idea field additional information please consult standard rfc  figure  basic field x certificate example bob work loan department money bank x address might cusomoneybankouloancnbob c country organization ou organizational unit cn common name ca entity named similar way substantial problem x name alice trying contact bob moneybankcom given certificate  x name may obvious certificate refers bob want fortunately starting version  dns name permitted instead x name problem may eventually vanish certificate encoded using osi asn abstract syntax notation  thought like struct c except peculiar verbose notation information x found ford baum   public key infrastructure single ca issue world s certificate obviously would work would collapse load central point failure well possible solution might multiple ca run organization using private key sign certificate would solve load failure problem introduces new problem key leakage dozen server spread around world holding ca s private key chance private key stolen otherwise leaking would greatly increased since compromise key would ruin world s electronic security infrastructure single central ca risky addition organization would operate ca hard imagine authority would accepted worldwide legitimate trustworthy country people would insist government country would insist government reason different way certifying public key evolved go general name pki public key infrastructure section summarize work general although many proposal detail probably evolve time pki multiple component including user ca certificate directory pki provide way structuring component define standard various document protocol particularly simple form pki hierarchy ca depicted fig  example shown three level practice might fewer toplevel ca root certifies secondlevel ca call ra regional authority might cover geographic region country continent term standard though fact term really standard different level tree turn certify real ca issue x certificate organization individual root authorizes new ra generates x certificate stating approved ra includes new ra s public key sign hand ra similarly ra approves new ca produce sign certificate stating approval containing ca s public key figure  hierarchical pki b chain certificate  pki work like suppose alice need bob s public key order communicate look find certificate containing signed ca  alice never heard ca  know ca  might bob s yearold daughter could go ca  say prove legitimacy ca  responds certificate got ra  contains ca  s public key armed ca  s public key verify bob s certificate indeed signed ca  thus legal unless ra  bob s yearold son next step ask ra  prove legitimate response query certificate signed root containing ra  s public key alice sure bob s public key alice find root s public key magic assumed everyone know root s public key example browser might shipped root s public key built bob friendly sort guy want cause alice lot work know going check ca  ra  save trouble collect two needed certificate give two certificate along use knowledge root s public key verify toplevel certificate public key contained therein verify second one way alice need contact anyone verification certificate signed easily detect attempt tamper content chain certificate going back root like sometimes called chain trust certification path technique widely used practice course still problem going run root solution single root many root ra ca fact modern browser come preloaded public key  root sometimes referred trust anchor way single worldwide trusted authority avoided issue browser vendor decides purported trust anchor reliable sleazy come user trusting browser vendor make wise choice simply approve trust anchor willing pay inclusion fee browser allow user inspect root key usually form certificate signed root delete seem shady directory another issue pki certificate chain back known trust anchor stored one possibility user store certificate safe ie way user tamper signed certificate without detection also inconvenient one alternative proposed use dns certificate directory contacting bob alice probably look ip address using dns dns return bob s entire certificate chain along ip address people think way go others would prefer dedicated directory server whose job managing x certificate directory could provide lookup service using property x name example theory directory service could answer query give list people named alice work sale department anywhere u canada ldap might candidate holding information revocation real world full certificate passport driver license sometimes certificate revoked example driver license revoked drunken driving driving offense problem occurs digital world grantor  certificate may decide revoke person organization holding abused way also revoked subject s private key exposed worse yet ca s private key compromised thus pki need deal issue revocation first step direction ca periodically issue crl certificate revocation list giving serial number certificate revoked since certificate contain expiry time crl need contain serial number certificate yet expired expiry time passed certificate automatically invalid distinction needed timed actually revoked case used unfortunately introducing crls mean user use certificate must acquire crl see certificate revoked used however even certificate list might revoked list published thus way really sure ask ca next use certificate ca asked since certificate might revoked second ago another complication revoked certificate could conceivably reinstated example revoked nonpayment fee since paid deal revocation possibly reinstatement eliminates one best property certificate namely used without contact ca crls stored good place would place certificate stored one strategy ca actively push crls periodically directory process simply removing revoked certificate directory used storing certificate crls cached various convenient place around network since crl signed document tampered tampering easily detected certificate long lifetime crls long example credit card valid  year number revocation outstanding much longer new card issued every  month standard way deal long crls issue master list infrequently issue update often reduces bandwidth needed distributing crls  communication security finished study tool trade important technique protocol covered rest chapter technique applied practice provide network security plus thought social aspect security end chapter following four section look communication security get bit secretly without modification source destination keep unwanted bit outside door mean security issue networking certainly among important one making good place start  ipsec ietf known year security lacking internet adding easy war broke put security expert believe really secure encryption integrity check end end ie application layer source process encrypts andor integrity protects data sends destination process decrypted andor verified tampering done  two process including within either operating system detected trouble approach requires changing application make security aware view next best approach putting encryption transport layer new layer application layer transport layer making still end end requiring application changed opposite view user understand security capable using correctly nobody want modify existing program way network layer authenticate andor encrypt packet without user involved year pitched battle view enough support network layer security standard defined part argument network layer encryption prevent securityaware user right help securityunaware user extent result war design called ipsec ip security described rfcs    among others user want encryption computationally expensive rather make optional decided require encryption time permit use null algorithm null algorithm described praised simplicity ease implementation great speed rfc  complete ipsec design framework multiple service algorithm granularity reason multiple service everyone want pay price service time service available la carte major service secrecy data integrity protection replay attack intruder replay conversation based symmetrickey cryptography high performance crucial reason multiple algorithm algorithm thought secure may broken future making ipsec algorithmindependent framework survive even particular algorithm later broken reason multiple granularity make possible protect single tcp connection traffic pair host traffic pair secure router among possibility one slightly surprising aspect ipsec even though ip layer connection oriented actually surprising security key must established used period time—in essence kind connection also connection amortize setup cost many packet connection context ipsec called sa security association sa simplex connection two end point security identifier associated secure traffic needed direction two security association required security identifier carried packet traveling secure connection used look key relevant information secure packet arrives technically ipsec two principal part first part describes two new header added packet carry security identifier integrity control data information part isakmp internet security association key management protocol deal establishing key deal isakmp  extremely complex  main protocol ike internet key exchange deeply flawed need replaced perlman kaufman  ipsec used either two mode transport mode ipsec header inserted ip header protocol field ip header changed indicate ipsec header follows normal ip header tcp header ipsec header contains security information primarily sa identifier new sequence number possibly integrity check payload  tunnel mode entire ip packet header encapsulated body new ip packet completely new ip header tunnel mode useful tunnel end location final destination case end tunnel security gateway machine example company firewall mode firewall encapsulates decapsulates packet pas though firewall terminating tunnel secure machine machine company lan aware ipsec firewall know tunnel mode also useful bundle tcp connection aggregated handled one encrypted stream prevents intruder seeing sending many packet sometimes knowing much traffic going valuable information example military crisis amount traffic flowing pentagon white house drop sharply amount traffic pentagon military installation deep colorado rocky mountain increase amount intruder might able deduce useful information data studying flow pattern packet even encrypted called traffic analysis tunnel mode provides way foil extent disadvantage tunnel mode add extra ip header thus increasing packet size substantially contrast transport mode affect packet size much first new header ah authentication header provides integrity checking antireplay security secrecy ie data encryption use ah transport mode illustrated fig  ipv interposed ip header including option tcp header ipv another extension header treated fact format close standard ipv extension header payload may padded particular length authentication algorithm shown figure  ipsec authentication header transport mode ipv let u examine ah header next header field used store previous value ip protocol field replaced  indicate ah header follows case code tcp  go payload length number bit word ah header minus  security parameter index connection identifier inserted sender indicate particular record receiver s database record contains shared key used connection information connection protocol invented itu rather ietf field would called virtual circuit number sequence number field used number packet sent sa every packet get unique number even retransmissions word retransmission packet get different number original even though tcp sequence number purpose field detect replay attack sequence number may wrap around   exhausted new sa must established continue communication  finally come authentication data variablelength field contains payload s digital signature sa established two side negotiate signature algorithm going use normally publickey cryptography used packet must processed extremely rapidly known publickey algorithm slow since ipsec based symmetrickey cryptography sender receiver negotiate shared key setting sa shared key used signature computation one simple way compute hash packet plus shared key shared key transmitted course scheme like called hmac hashed message authentication code much faster compute first running sha running rsa result ah header allow encryption data mostly useful integrity checking needed secrecy needed one noteworthy feature ah integrity check cover field ip header namely change packet move router router time live field change hop example included integrity check however ip source address included check making impossible intruder falsify origin packet alternative ipsec header esp encapsulating security payload use transport mode tunnel mode shown fig  figure  esp transport mode b esp tunnel mode esp header consists two bit word security parameter index sequence number field saw ah third word generally follows technically part header initialization vector used data encryption unless null encryption used case omitted esp also provides hmac integrity check ah rather included header come payload shown fig  putting hmac end advantage hardware implementation hmac calculated bit going network interface appended end ethernet lan crcs trailer rather header ah packet buffered signature computed packet sent potentially reducing number packetssec sent given esp everything ah efficient boot question arises bother ah answer mostly historical originally ah handled integrity esp handled secrecy later integrity added esp people designed ah want let die work real argument however ah check part ip header esp weak argument another weak argument product supporting ah esp might le trouble getting export license encryption ah likely phased future   firewall ability connect computer anywhere computer anywhere mixed blessing individual home wandering around internet lot fun corporate security manager nightmare company large amount confidential information online—trade secret product development plan marketing strategy financial analysis etc disclosure information competitor could dire consequence addition danger information leaking also danger information leaking particular virus worm digital pest breach security destroy valuable data waste large amount administrator time trying clean mess leave often imported careless employee want play nifty new game consequently mechanism needed keep good bit bad bit one method use ipsec approach protects data transit secure site however ipsec nothing keep digital pest intruder getting onto company lan see accomplish goal need look firewall firewall modern adaptation old medieval security standby digging deep moat around castle design forced everyone entering leaving castle pas single drawbridge could inspected io police network trick possible company many lan connected arbitrary way traffic company forced electronic drawbridge firewall shown fig  figure  firewall consisting two packet filter application gateway firewall configuration two component two router packet filtering application gateway simpler configuration also exist advantage design every packet must transit two filter application gateway go route exists reader think one security checkpoint enough clearly made international flight scheduled airline recently packet filter standard router equipped extra functionality extra functionality allows every incoming outgoing packet inspected packet meeting criterion forwarded normally fail test dropped  fig  likely packet filter inside lan check outgoing packet one outside lan check incoming packet packet crossing first hurdle go application gateway examination point putting two packet filter different lan ensure packet get without pas application gateway path around packet filter typically driven table configured system administrator table list source destination acceptable source destination blocked default rule packet coming going machine common case tcpip setting source destination consists ip address port port indicate service desired example tcp port  telnet tcp port  finger tcp port  usenet news company could block incoming packet ip address combined one port way one outside company could log via telnet look people using finger daemon furthermore company would spared employee spend day reading usenet news blocking outgoing packet trickier although site stick standard port numbering convention forced furthermore important service ftp file transfer protocol port number assigned dynamically addition although blocking tcp connection difficult blocking udp packet even harder little known priori many packet filter configured simply ban udp traffic altogether second half firewall application gateway rather looking raw packet gateway operates application level mail gateway example set examine message going coming one gateway decides whether transmit discard message based header field message size even content eg military installation presence word like nuclear bomb might cause special action taken installation free set one application gateway specific application uncommon suspicious organization permit email perhaps permit use world wide web ban everything else dicey combined encryption packet filtering arrangement offer limited amount security cost inconvenience even firewall perfectly configured plenty security problem still exist example firewall configured allow packet specific network eg company s plant intruder outside firewall put false source address bypass check insider want ship secret document encrypt even photograph ship photo jpeg file bypass word filter even discussed fact  attack come inside firewall example disgruntled employee schneier  addition whole class attack firewall deal basic idea firewall prevent intruder getting secret data getting unfortunately people nothing better try bring certain site sending legitimate packet target great number collapse load example cripple web site intruder send tcp syn packet establish connection site allocate table slot connection send syn ack packet reply intruder respond table slot tied second time intruder sends thousand connection request table slot fill legitimate connection able get attack intruder s goal shut target rather steal data called do  denial service attack usually request packet false source address intruder traced easily even worse variant one intruder already broken hundred computer elsewhere world command attack target time approach increase intruder s firepower also reduces chance detection since packet coming large number machine belonging unsuspecting user attack called ddos distributed denial service attack attack difficult defend even attacked machine quickly recognize bogus request take time process discard request enough request per second arrive cpu spend time dealing  virtual private network many company office plant scattered many city sometimes multiple country olden day public data network common company lease line telephone company pair location company still network built company computer leased telephone line called private network example private network connecting three location shown fig  figure  leasedline private network b virtual private network private network work fine secure line available leased line traffic leak company location intruder physically wiretap line break easy problem private network leasing single t line cost thousand dollar month t line many time expensive public data network later internet appeared many company wanted move data possibly voice traffic public network without giving security private network demand soon led invention vpn virtual private network overlay network top public network property private network called virtual merely illusion virtual circuit real circuit virtual memory real memory although vpns implemented top atm frame relay increasingly popular approach build vpns directly internet common design equip office firewall create tunnel internet pair office illustrated fig  b ipsec used tunneling possible aggregate traffic two pair office onto single authenticated encrypted sa thus providing integrity control secrecy even considerable immunity traffic analysis system brought pair firewall negotiate parameter sa including service mode algorithm key many firewall vpn capability  built although ordinary router well since firewall primarily security business natural tunnel begin end firewall providing clear separation company internet thus firewall vpns ipsec esp tunnel mode natural combination widely used practice sa established traffic begin flowing router within internet packet traveling along vpn tunnel ordinary packet thing unusual presence ipsec header ip header since extra header effect forwarding process router care extra header key advantage organizing vpn way completely transparent user software firewall set manage sa person even aware setup system administrator configure manage firewall everyone else like leasedline private network vpns see brown  izzo   wireless security surprisingly easy design system logically completely secure using vpns firewall practice leak like sieve situation occur machine wireless use radio communication pass right firewall direction range  network often hundred meter anyone want spy company simply drive employee parking lot morning leave enabled notebook computer car record everything hears take day late afternoon hard disk full valuable goody theoretically leakage supposed happen theoretically people supposed rob bank either much security problem traced manufacturer wireless base station access point trying make product user friendly usually user take device box plug electrical power socket begin operating immediately—nearly always security blurting secret everyone within radio range plugged ethernet ethernet traffic suddenly appears parking lot well wireless snooper s dream come true free data without work therefore go without saying security even important wireless system wired one section look way wireless network handle security additional information found nichols lekkas   security  standard prescribes data linklevel security protocol called wep wired equivalent privacy designed make security wireless lan good wired lan since default wired lan security goal easy achieve wep achieves shall see  security enabled station secret key shared base station key distributed specified standard could preloaded manufacturer could exchanged advance wired network finally either base station user machine could pick random key send one air encrypted one s public key established key generally remain stable month year wep encryption us stream cipher based rc algorithm rc designed ronald rivest kept secret leaked posted internet  pointed nearly impossible keep algorithm secret even goal guarding intellectual property case rather security obscurity  goal rc wep rc generates keystream xored plaintext form ciphertext packet payload encrypted using method fig  first payload checksummed using crc polynomial checksum appended payload form plaintext encryption algorithm plaintext xored chunk keystream size result ciphertext iv used start rc sent along ciphertext receiver get packet extract encrypted payload generates keystream shared secret key iv got xors keystream payload recover plaintext verify checksum see packet tampered figure  packet encryption using wep approach look good first glance method breaking already published borisov et al  summarize result first surprisingly many installation use shared key user case user read user traffic certainly equivalent ethernet secure even user distinct key wep still attacked since key generally stable long period time wep standard recommends mandate iv changed every packet avoid keystream reuse attack discussed sec  unfortunately many  card notebook computer reset iv  card inserted computer increment one packet sent since people often remove reinsert card packet low iv value common trudy collect several packet sent user iv value sent plaintext along packet compute xor two plaintext value probably break cipher way even  card pick random iv packet iv  bit   packet sent reused worse yet randomly chosen iv expected number packet sent one used twice  due birthday attack described sec  thus trudy listens minute almost sure capture two packet iv key xoring ciphertexts able obtain xor plaintexts bit sequence attacked various way recover plaintexts work keystream iv also obtained trudy continue working like compile dictionary keystreams various iv iv broken packet sent future also past fully decrypted furthermore since iv used random trudy determined valid iv keystream pair use generate packet want using thus actively interfere communication theoretically receiver could notice large number packet suddenly iv  wep allows  nobody check anyway  finally crc worth much since possible trudy change payload make corresponding change crc without even remove encryption short breaking  s security fairly straightforward even listed attack borisov et al found august  month borisov et al paper presented another devastating attack wep published fluhrer et al  one found cryptographic weakness rc fluhrer et al discovered many key property possible derive key bit keystream attack performed repeatedly possible derive entire key modest amount effort somewhat theoretically inclined fluhrer et al actually try break  lan contrast summer student two researcher lab learned fluhrer et al attack decided try real stubblefield et al  within week broken first bit key production  lan week actually devoted looking cheapest  card could find getting permission buy installing testing programming took two hour announced result cnn ran story entitled offtheshelf hack break wireless encryption industry guru tried poohpooh result saying done trivial given fluhrer et al result remark technically true fact remains combined effort two team demonstrated fatal flaw wep  september   ieee responded fact wep completely broken issuing short statement making six point roughly summarized follows  told wep security better ethernet s  much bigger threat forgetting enable security  try using security eg transport layer security  next version i better security  future certification mandate use i  try figure i arrives gone story detail make point getting security right easy even expert bluetooth security bluetooth considerably shorter range  attacked parking lot security still issue example imagine alice s computer equipped wireless bluetooth keyboard absence security trudy happened adjacent office could read everything alice typed including outgoing email could also capture everything alice s computer sent bluetooth printer sitting next eg incoming email confidential report fortunately bluetooth elaborate security scheme try foil world s trudies summarize main feature bluetooth three security mode ranging nothing full data encryption integrity control  security disabled default security user security turned serious breach occurred turn agricultural world approach known locking barn door horse escaped bluetooth provides security multiple layer physical layer frequency hopping provides tiny bit security since bluetooth device move piconet told frequency hopping sequence sequence obviously secret real  security start newlyarrived slave asks channel master two device assumed share secret key set advance case hardwired manufacturer eg headset mobile phone sold unit case one device eg headset hardwired key user enter key device eg mobile phone decimal number shared key called passkey establish channel slave master check see one know passkey negotiate whether channel encrypted integrity controlled select random bit session key whose bit may public point allowing key weakening comply government restriction various country designed prevent export use key longer government break encryption us stream cipher called e  integrity control us safer traditional symmetrickey block cipher safer submitted aes bakeoff eliminated first round slower candidate bluetooth finalized aes cipher chosen otherwise would likely used rijndael actual encryption using stream cipher shown fig  plaintext xored keystream generate ciphertext unfortunately e  like rc may fatal weakness jakobsson wetzel  broken time writing similarity a cipher whose spectacular failure compromise gsm telephone traffic cause concern biryukov et al  sometimes amazes people including author perennial catandmouse game cryptographer cryptanalyst cryptanalyst often winning side another security issue bluetooth authenticates device user theft bluetooth device may give thief access user s financial account however bluetooth also implement security upper layer even event breach linklevel security security may remain especially application require pin code entered manually kind keyboard complete transaction wap  security part wap forum learned lesson nonstandard protocol stack wap  wap  largely us standard protocol layer security exception since ip based support full use ipsec network layer transport layer tcp connection protected tl ietf standard study later chapter higher still us http client authentication defined rfc  applicationlayer crypto library provide integrity control nonrepudiation since wap  based wellknown standard chance security service particular privacy authentication integrity control nonrepudiation may fare better  bluetooth security  authentication protocol authentication technique process verifies communication partner supposed imposter verifying identity remote process face malicious active intruder surprisingly difficult requires complex protocol based cryptography section study many authentication protocol used insecure computer network aside people confuse authorization authentication authentication deal question whether actually communicating specific process authorization concerned process permitted example client process contact  file server say scott s process want delete file cookbookold file server s point view two question must answered  actually scott s process authentication  scott allowed delete cookbookold authorization question unambiguously answered affirmative requested action take place former question really key one file server know talking checking authorization matter looking entry local table database reason concentrate authentication section general model authentication protocol use alice start sending message either bob trusted kdc key distribution center expected honest several message exchange follow various direction message sent trudy may intercept modify replay order trick alice bob gum work nevertheless protocol completed alice sure talking bob bob sure talking alice furthermore protocol two also established secret session key use upcoming conversation practice performance reason data traffic encrypted using symmetrickey cryptography typically aes triple de although publickey cryptography widely used authentication protocol establishing session key point using new randomlychosen session key new connection minimize amount traffic get sent user secret key public key reduce amount ciphertext intruder obtain minimize damage done process crash core dump fall wrong hand hopefully key present session key permanent key carefully zeroed session established  authentication based shared secret key first authentication protocol assume alice bob already share secret key k ab shared key might agreed upon telephone person event insecure network protocol based principle found many authentication protocol one party sends random number transforms special way return result protocol called challengeresponse protocol subsequent authentication protocol following notation used b identity alice bob r s challenge subscript identifies challenger k key indicates owner k session key message sequence first sharedkey authentication protocol illustrated fig   message  alice sends identity bob way bob understands bob course way knowing whether message came alice trudy chooses challenge large random number r b sends back alice message  plaintext random number used challengeresponse protocol like one called nonce alice encrypts message key share bob sends  ciphertext k ab r b back message  bob see message immediately know came alice trudy know k ab thus could generated furthermore since r b chosen randomly large space say bit random number unlikely trudy would seen r b response earlier session equally unlikely could guess correct response challenge figure  twoway authentication using challengeresponse protocol point bob sure talking alice alice sure anything alice know trudy might intercepted message  sent back r b response maybe bob died last night find talking alice pick random number r sends bob plaintext message  bob responds k ab r alice know talking bob wish establish session key alice pick one k send bob encrypted k ab protocol fig  contains five message let u see clever eliminate one approach illustrated fig  alice initiate challengeresponse protocol instead waiting bob similarly responding alice s challenge bob sends entire protocol reduced three message instead five figure  shortened twoway authentication protocol new protocol improvement original one one sense shorter unfortunately also wrong certain circumstance trudy defeat protocol using known reflection attack particular trudy break possible open multiple session bob situation would true example bob bank prepared accept many simultaneous connection teller machine trudy s reflection attack shown fig  start trudy claiming alice sending r bob responds usual challenge r b trudy stuck know k ab r b figure  reflection attack  open second session message  supplying r b taken message  challenge bob calmly encrypts sends back k ab r b message  shaded message second session make stand trudy missing information complete first session abort second one bob convinced trudy alice asks bank account balance give without question asks transfer secret bank account switzerland without moment s hesitation moral story designing correct authentication protocol harder look following four general rule often help  initiator prove responder case bob give away valuable information trudy give evidence  initiator responder use different key proof even mean two shared key k ab k ab  initiator responder draw challenge different set example initiator must use even number responder must use odd number  make protocol resistant attack involving second parallel session information obtained one session used different one even one rule violated protocol frequently broken four rule violated disastrous consequence let u go back take closer look fig  surely protocol subject reflection attack well depends quite subtle trudy able defeat protocol using reflection attack possible open second session bob trick answering question would happen alice generalpurpose computer also accepted multiple session rather person computer let u take look trudy see trudy s attack work see fig  alice start announcing identity message  trudy intercept message begin session message  claiming bob shaded session  message alice responds message  saying claim bob prove message  point trudy stuck prove bob figure  reflection attack protocol fig   trudy go back first session turn send challenge sends r got message  alice kindly responds message  thus supplying trudy information need send message  session  point trudy basically home free successfully responded alice s challenge session  cancel session  send old number rest session  authenticated session alice session  trudy nasty really want rub instead sending old number complete session  wait alice sends message  alice s challenge session  course trudy know respond us reflection attack sending back r a message  alice conveniently encrypts r  message  trudy switch back session  sends alice number want message  conveniently copied alice sent message  point trudy two fully authenticated session alice attack somewhat different result attack threemessage protocol shown fig  time trudy two authenticated connection alice previous example one authenticated connection bob applied general authentication protocol rule discussed attack could stopped detailed discussion kind attack thwart given bird et al  also show possible systematically construct protocol provably correct simplest protocol nevertheless bit complicated show different class protocol also work new authentication protocol shown fig  bird et al  us hmac type saw studying ipsec alice start sending bob nonce r message  bob responds selecting nonce r b sending back along hmac hmac formed building data structure consisting alice s nonce bob s nonce identity shared secret key k ab data structured hashed hmac example using sha alice receives message  r picked r b arrives plaintext two identity secret key k ab known along compute hmac agrees hmac message know talking bob trudy know k ab thus figure hmac send alice responds bob hmac containing two nonce figure  authentication using hmacs  trudy somehow subvert protocol force either party encrypt hash value choice happened fig  fig  fo hmacs include value chosen sending party something trudy control using hmacs way use idea alternative scheme often used instead computing hmac series item encrypt item sequentially using cipher block chaining  establishing shared key diffiehellman key exchange far assumed alice bob share secret key suppose far universally accepted pki signing distributing certificate establish one one way would alice call bob give key phone would probably start saying know alice trudy could try arrange meeting one bringing passport driver license three major credit card busy people might able find mutually acceptable date month fortunately incredible may sound way total stranger establish shared secret key broad daylight even trudy carefully recording every message protocol allows stranger establish shared secret key called diffiehellman key exchange diffie hellman  work follows alice bob agree two large number n g n prime n   also prime certain condition apply g number may public either one pick n g tell openly alice pick large say bit number x keep secret similarly bob pick large secret number alice initiate key exchange protocol sending bob message containing n g g x mod n shown fig  bob responds sending alice message containing g mod n alice raise number bob sent x th power modulo n get g mod n x mod n bob performs similar operation get g x mod n mod n law modular arithmetic calculation yield g xy mod n lo behold alice bob suddenly share secret key g xy mod n figure  diffiehellman key exchange  trudy course seen message know g n message  could compute x could figure secret key trouble given g x mod n find x practical algorithm computing discrete logarithm modulo large prime number known make example concrete use completely unrealistic value n  g  alice pick x  bob pick  kept secret alice s message bob      mod   bob s message alice  alice computes   mod   bob computes   mod   alice bob independently determined secret key  trudy solve equation  x mod   done exhaustive search small number like number hundred bit long currentlyknown algorithm simply take long even massively parallel supercomputer despite elegance diffiehellman algorithm problem bob get triple    know alice trudy way know unfortunately trudy exploit fact deceive alice bob illustrated fig  alice bob choosing x respectively trudy pick random number z alice sends message  intended bob trudy intercept sends message  bob using correct g n public anyway z instead x also sends message  back alice later bob sends message  alice trudy intercept keep figure  bucket brigade maninthemiddle attack everybody modular arithmetic alice computes secret key g xz mod n trudy message alice bob computes g yz mod n trudy message bob alice think talking bob establishes session key trudy bob every message alice sends encrypted session captured trudy stored modified desired optionally passed bob similarly direction trudy see everything modify message alice bob illusion secure channel one another attack known bucket brigade attack vaguely resembles oldtime volunteer fire department passing bucket along line fire truck fire also called maninthemiddle attack  authentication using key distribution center setting shared secret stranger almost worked quite hand probably worth first place sour grape attack talk n people way would need n key popular people key management would become real burden especially key stored separate plastic chip card different approach introduce trusted key distribution center kdc model user single key shared kdc authentication session key management go kdc simplest known kdc authentication protocol involving two party trusted kdc depicted fig   figure  first attempt authentication protocol using kdc idea behind protocol simple alice pick session key k tell kdc want talk bob using k message encrypted secret key alice share kdc k kdc decrypts message extracting bob s identity session key construct new message containing alice s identity session key sends message bob encryption done k b secret key bob share kdc bob decrypts message learns alice want talk key want use authentication happens free kdc know message  must come alice since one else would able encrypt alice s secret key similarly bob know message  must come kdc trust since one else know secret key unfortunately protocol serious flaw trudy need money figure legitimate service perform alice make attractive offer get job work trudy politely request alice pay bank transfer alice establishes session key banker bob sends bob message requesting money transferred trudy s account meanwhile trudy back old way snooping network copy message  fig  moneytransfer request follows later replay bob bob get think alice must hired trudy clearly good work bob transfer equal amount money alice s account trudy s time th message pair bob run office find trudy offer big loan expand obviously successful business problem called replay attack several solution replay attack possible first one include timestamp message anyone receives obsolete message discarded trouble approach clock never exactly synchronized network interval timestamp valid trudy replay message interval get away second solution put nonce message party remember previous nonce reject message containing previouslyused nonce nonce remembered forever lest trudy try replaying yearold message also machine crash loses nonce list vulnerable replay attack timestamps nonce combined limit long nonce remembered clearly protocol going get lot complicated sophisticated approach mutual authentication use multiway challengeresponse protocol wellknown example protocol needhamschroeder authentication protocol needham schroeder  one variant shown fig  figure  needhamschroeder authentication protocol  protocol begin alice telling kdc want talk bob message contains large random number r nonce kdc sends back message  containing alice s random number session key ticket send bob point random number r assure alice message  fresh replay bob s identity also enclosed case trudy get funny idea replacing b message  identity kdc encrypt ticket end message  k instead k b ticket encrypted k b included inside encrypted message prevent trudy replacing something else way back alice alice sends ticket bob along new random number r  encrypted session key k message  bob sends back k r   prove alice talking real bob sending back k r  would worked since trudy could stolen message  receiving message  alice convinced talking bob replay could used far generated r  millisecond ago purpose message  convince bob indeed alice talking replay used either party generate challenge respond one possibility kind replay attack eliminated although protocol seems pretty solid slight weakness trudy ever manages obtain old session key plaintext initiate new session bob replaying message  corresponding compromised key convince alice denning sacco  time plunder alice s bank account without perform legitimate service even needham schroeder later published protocol corrects problem needham schroeder  issue journal otway rees  also published protocol solves problem shorter way figure  show slightly modified otwayrees protocol figure  otwayrees authentication protocol slightly simplified otwayrees protocol alice start generating pair random number r used common identifier r alice use challenge bob bob  get message construct new message encrypted part alice s message analogous one part encrypted k k b identify alice bob contain common identifier contain challenge kdc check see r part might trudy tampered r message  replaced part message  two r match kdc belief request message bob valid generates session key encrypts twice alice bob message contains receiver s random number proof kdc trudy generated message point alice bob possession session key start communicating first time exchange data message one see one identical copy k authentication complete  authentication using kerberos authentication protocol used many real system including window  kerberos based variant needhamschroeder named multiheaded dog greek mythology used guard entrance hades presumably keep undesirable kerberos designed mit allow workstation user access network resource secure way biggest difference needhamschroeder assumption clock fairly well synchronized protocol gone several iteration v version widely used industry describe afterward say word successor v information see steiner et al  kerberos involves three server addition alice client workstation authentication server verifies user login ticketgranting server tgs issue proof identity ticket bob server actually work alice want performed similar kdc share secret password every user tgs s job issue ticket convince real server bearer tgs ticket really claim start session alice sits arbitrary public workstation type name workstation sends name plaintext shown fig  come back session key ticket k tgs k intended tgs item packaged together encrypted using alice s secret key alice decrypt message  arrives workstation ask alice s password password used generate k order decrypt message  obtain session key tgs ticket inside point workstation overwrites alice s password make sure inside workstation millisecond trudy try logging alice password type wrong workstation detect standard part message  incorrect figure  operation kerberos v  log alice may tell workstation want contact bob file server workstation sends message  tgs asking ticket use bob key element request k tgs k encrypted tgs s secret key used proof sender really alice tgs responds creating session key k ab alice use bob two version sent back first encrypted k alice read second encrypted bob s key k b bob read trudy copy message  try use foiled encrypted timestamp sent along trudy replace timestamp recent one know k session key alice us talk tgs even trudy replay message  quickly get another copy message  could decrypt first time able decrypt second time either alice send k ab bob establish session exchange also timestamped response proof alice actually talking bob trudy series exchange alice communicate bob cover k ab later decides need talk another server carol repeat message  tgs specifying c instead b tgs promptly respond ticket encrypted k c alice send carol carol accept proof came alice point work alice access server network secure way password never go network fact workstation millisecond however note server authorization alice present ticket bob merely prof bob sent precisely alice allowed bob since kerberos designer expect entire world trust single authentication server made provision multiple realm tgs get ticket server distant realm alice would ask tgs ticket accepted tgs distant realm distant tgs registered local tgs way local server local tgs give alice ticket valid distant tgs business getting ticket server realm note however party two realm business one must trust s tgs kerberos v fancier v overhead also us osi asn abstract syntax notation  describing data type small change protocol furthermore longer ticket lifetime allows ticket renewed issue postdated ticket addition least theory de dependent v support multiple realm delegating ticket generation multiple ticket server  authentication using publickey cryptography mutual authentication also done using publickey cryptography start alice need get bob s public key pki exists directory server hand certificate  public key alice ask bob s shown fig  message  reply message  x certificate containing bob s public key alice verifies signature correct sends bob message containing identity nonce figure  mutual authentication using publickey cryptography bob receives message idea whether came alice trudy play along asks directory server alice s public key message  soon get message  sends alice message containing alice s r nonce r b proposed session key k message  alice get message  decrypts using private key see r give warm feeling inside message must come bob since trudy way determining r furthermore must fresh replay since sent bob r alice agrees session sending back message  bob see r b encrypted session key generated know alice got message  verified r trudy try subvert protocol fabricate message  trick bob probing alice alice see r send proceed trudy forge message  back bob know r b k determine without alice s private key luck  email security email message sent two distant site generally transit dozen machine way read record message future use practice privacy nonexistent despite many people think nevertheless many people would like able send email read intended recipient one else bos even government desire stimulated several people group apply cryptographic principle studied earlier email produce secure email following section study widelyused secure email system pgp briefly mention two others pem smime additional information secure email see kaufman et al  schneier   pgp—pretty good privacy first example pgp pretty good privacy essentially brainchild one person phil zimmermann zimmermann a b zimmermann privacy advocate whose motto privacy outlawed outlaw privacy released  pgp complete email security package provides privacy authentication digital signature compression easytouse form furthermore complete package including source code distributed free charge via internet due quality price zero easy availability unix linux window mac o platform widely used today  pgp encrypts data using block cipher called idea international data encryption algorithm us bit key devised switzerland time de seen tainted aes yet invented conceptually idea similar de aes mix bit series round detail mixing function different de aes key management us rsa data integrity us md topic already discussed pgp also embroiled controversy since day  levy  zimmermann nothing stop people placing pgp internet people world could get u government claimed zimmermann violated u law prohibiting export munition u government s investigation zimmermann went  year eventually dropped probably two reason first zimmermann place pgp internet lawyer claimed never exported anything little matter whether creating web site constitutes export second government eventually came realize winning trial meant convincing jury web site containing downloadable privacy program covered armstrafficking law prohibiting export war materiel tank submarine military aircraft nuclear weapon year negative publicity probably help much either aside export rule bizarre put mildly government considered putting code web site illegal export harassed zimmermann  year hand someone published complete pgp source code c book large font checksum page make scanning easy exported book fine government book classified munition sword mightier pen least uncle sam another problem pgp ran involved patent infringement company holding rsa patent rsa security inc alleged pgp s use rsa algorithm infringed patent problem settled release starting  furthermore pgp us another patented encryption algorithm idea whose use caused problem first since pgp open source various people group modified produced number version designed get around munition law others focused avoiding use patented algorithm still others wanted turn closedsource commercial product although munition law slightly liberalized otherwise product using aes would exportable u rsa patent expired september  legacy problem several incompatible version pgp circulation various name discussion focus classic pgp oldest simplest version another popular version open pgp described rfc  yet another gnu privacy guard pgp intentionally us existing cryptographic algorithm rather inventing new one largely based algorithm withstood extensive peer review designed influenced government agency trying weaken people tend distrust government property big plus pgp support text compression secrecy digital signature also provides extensive key management facility oddly enough email facility preprocessor take plaintext input produce signed ciphertext base output output emailed course pgp implementation call user agent final step actually send message see pgp work let u consider example fig  alice want send signed plaintext message p bob secure way alice bob private x public e x rsa key let u assume one know s public key cover pgp key management shortly  figure  pgp operation sending message alice start invoking pgp program computer pgp first hash message p using md encrypts resulting hash using private rsa key bob eventually get message decrypt hash alice s public key verify hash correct even someone else eg trudy could acquire hash stage decrypt alice s known public key strength md guarantee would computationally infeasible produce another message md hash encrypted hash original message concatenated single message p compressed using zip program us zivlempel algorithm ziv lempel  call output step pz next pgp prompt alice random input content typing speed used generate bit idea message key k called session key pgp literature really misnomer since session k used encrypt pz idea cipher feedback mode addition k encrypted bob s public key e b two component concatenated converted base discussed section mime chap  resulting message contains letter digit symbol mean put rfc  body expected arrive unmodified bob get message revers base encoding decrypts idea key using private rsa key using key decrypts message get pz decompressing bob separate plaintext encrypted hash decrypts hash using alice s public key plaintext hash agrees md computation know p correct message came alice worth noting rsa used two place encrypt bit md hash encrypt bit idea key although rsa slow encrypt  bit large volume data furthermore  plaintext bit exceedingly random considerable amount work required trudy s part determine guessed key correct heavyduty encryption done idea order magnitude faster rsa thus pgp provides security compression digital signature much efficient way scheme illustrated fig  pgp support four rsa key length user select one appropriate length  casual  bit broken easily today  commercial  bit breakable threeletter organization  military  bit breakable anyone earth   alien  bit breakable anyone planet either since rsa used two small computation everyone use alien strength key time format classic pgp message shown fig  numerous format also use message three part containing idea key signature message respectively key part contains key also key identifier since user permitted multiple public key figure  pgp message signature part contains header concern u header followed timestamp identifier sender s public key used decrypt signature hash type information identifies algorithm used allow md rsa used invented encrypted hash message part also contains header default name file used receiver writes file disk message creation timestamp finally message key management received large amount attention pgp achilles heel security system key management work follows user maintains two data structure locally private key ring public key ring private key ring contains one personal privatepublic key pair reason supporting multiple pair per user permit user change public key periodically one thought compromised without invalidating message currently preparation transit pair identifier associated message sender tell recipient public key used encrypt message identifier consist loworder  bit public key user responsible avoiding conflict public key identifier private key disk encrypted using special arbitrarily long password protect sneak attack public key ring contains public key user s correspondent needed encrypt message key associated message entry public key ring contains public key also bit identifier indication strongly user trust key problem tackled following suppose public key maintained bulletin board one way trudy read bob s secret email attack bulletin board replace bob s public key one choice alice later fetch key allegedly belonging bob trudy mount bucket brigade attack bob prevent attack least minimize consequence alice need know much trust item called bob s key public key ring know bob personally handed floppy disk containing key set trust value  highest value decentralized usercontrolled approach publickey management set pgp apart centralized pki scheme nevertheless people sometimes obtain public key querying trusted key server reason x standardized pgp supported certificate well traditional pgp public key ring mechanism current version pgp x support  pem—privacy enhanced mail contrast pgp initially oneman show second example pem privacy enhanced mail developed late s official internet standard described four rfcs rfc  rfc  roughly pem cover territory pgp privacy authentication rfc based email system nevertheless also difference pgp approach technology message sent using pem first converted canonical form convention white space eg tab trailing space next message hash computed using md md concatenation hash message encrypted using de light known weakness bit key choice certainly suspect encrypted message encoded base coding transmitted recipient pgp message encrypted onetime key enclosed along message key protected either rsa triple de using ede key management structured pgp key certified x certificate issued ca arranged rigid hierarchy starting single root advantage scheme certificate revocation possible root issue crls periodically problem pem nobody ever used longsince gone big bit bin sky problem largely political would operate root condition shortage candidate many people afraid trust one company security whole system serious candidate rsa security inc wanted charge per certificate issued however organization balked idea particular u government allowed use u patent free company outside u become accustomed using rsa algorithm free company forgot patent outside u neither enthusiastic suddenly pay rsa security inc something always done free end root could found pem collapsed  smime ietf s next venture email security called smime securemime described rfcs   like pem provides authentication data integrity secrecy nonrepudiation also quite flexible supporting variety cryptographic algorithm surprisingly given name smime integrates well mime allowing kind message protected variety new mime header defined example holding digital signature ietf definitely learned something pem experience smime rigid certificate hierarchy beginning single root instead user multiple trust anchor long certificate traced back trust anchor user belief considered valid smime us standard algorithm protocol examining far discus detail please consult rfcs   web security studied two important area security needed communication email think soup appetizer time main course web security web trudies hang nowadays dirty work following section look problem issue relating web security web security roughly divided three part first object resource named securely second secure authenticated connection established third happens web site sends client piece executable code looking threat examine issue  threat one read web site security problem newspaper almost weekly situation really pretty grim let u look example already happened first home page numerous organization attacked replaced new home page cracker choosing popular press call people break computer hacker many programmer reserve term great programmer prefer call people cracker site cracked include yahoo u army cia nasa new york time case cracker put funny text site repaired within hour let u look much serious case numerous site brought denialofservice attack cracker flood site traffic rendering unable respond legitimate query often attack mounted large number machine cracker already broken ddos atacks attack common even make news cost attacked site thousand dollar lost business  swedish cracker broke microsoft s hotmail web site created mirror site allowed anyone type name hotmail user read person s current archived email another case yearold russian cracker named maxim broke ecommerce web site stole  credit card number approached site owner told pay  would post credit card number internet give blackmail indeed posted credit card number inflicting great damage many innocent victim different vein yearold california student emailed press release news agency falsely stating emulex corporation going post large quarterly loss ceo resigning immediately within hour company s stock dropped  causing stockholder lose  billion perpetrator made quarter million dollar selling stock short sending announcement event web site breakin clear putting announcement home page big corporation would similar effect could unfortunately go like many page time examine technical issue related web security information security problem kind see anderson  garfinkel spafford  schneier  searching internet also turn vast number specific case   secure naming let u start something basic alice want visit bob s web site type bob s url browser second later web page appears bob s maybe yes maybe trudy might old trick example might intercepting alice s outgoing packet examining capture http get request headed bob s web site could go bob s web site get page modify wish return fake page alice alice would none wiser worse yet trudy could slash price bob s estore make good look attractive thereby tricking alice sending credit card number bob buy merchandise one disadvantage classic maninthemiddle attack trudy position intercept alice s outgoing traffic forge incoming traffic practice tap either alice s phone line bob s since tapping fiber backbone fairly difficult active wiretapping certainly possible certain amount work trudy clever also lazy besides easier way trick alice dns spoofing example suppose trudy able crack dns system maybe dns cache alice s isp replace bob s ip address say  trudy s ip address say  lead following attack way supposed work illustrated fig   alice asks dns bob s ip address  get  asks bob home page  get trudy modified bob s dns record contain ip address instead bob s get situation fig  b alice look bob s ip address get trudy s traffic intended bob go trudy trudy mount maninthemiddle attack without go trouble tapping phone line instead break dns server change one record much easier proposition figure  normal situation b attack based breaking dns modifying bob s record might trudy fool dns turn relatively easy briefly summarized trudy trick dns server alice s isp sending query look bob s address unfortunately since dns us udp dns server real way checking supplied answer trudy exploit property forging expected reply thus injecting  false ip address dns server s cache simplicity assume alice s isp initially entry bob s web site bobcom trudy wait time try later use trick trudy start attack sending lookup request alice s isp asking ip address bobcom since entry dns name cache server query toplevel server com domain get one however trudy beat com server punch sends back false reply saying bobcom  ip address false reply get back alice s isp first one cached real reply rejected unsolicited reply query longer outstanding tricking dns server installing false ip address called dns spoofing cache hold intentionally false ip address like called poisoned cache actually thing quite simple first alice s isp check see reply bear correct ip source address toplevel server since trudy put anything want ip field defeat test easily since ip address toplevel server public second allow dns server tell reply go request request carry sequence number spoof alice s isp trudy know current sequence number easiest way learn current sequence number trudy register domain say trudytheintrudercom let u assume ip address also  also creates dns server newlyhatched domain dnstrudytheintrudercom us trudy s  ip address since trudy one computer make alice s isp aware dns server easy ask alice s isp foobartrudytheintrudercom cause alice s isp find serf trudy s new domain asking toplevel com server dnstrudytheintrudercom safely cache alice s isp real attack start trudy query alice s isp wwwtrudytheintrudercom isp naturally sends trudy s dns server query asking query bear sequence number trudy looking quick like bunny trudy asks alice s isp look bob immediately answer question sending isp forged reply allegedly toplevel com server saying bobcom  forged reply carry sequence number one higher one received also send second forgery sequence number two higher maybe dozen increasing sequence number one bound match rest thrown alice s forged reply arrives cached real reply come later rejected since query outstanding alice look bobcom told use  trudy s address trudy mounted successful maninthemiddle attack comfort living room various step attack illustrated fig  make matter worse way spoof dns many way well figure  trudy spoof alice s isp  secure dns one specific attack foiled dns server use random id query rather counting seems every time one hole plugged another one turn real problem dns designed time internet research facility hundred university neither alice bob trudy invited party security issue making internet work issue environment changed radically year  ietf set working group make dns fundamentally secure project known dnssec dns security output presented rfc  unfortunately dnssec fully deployed yet numerous dns server still vulnerable spoofing attack dnssec conceptually extremely simple based publickey cryptography every dns zone sense fig  publicprivate key pair information sent dns server signed originating zone s private key receiver verify authenticity dnssec offer three fundamental service  proof data originated  public key distribution  transaction request authentication main service first one verifies data returned approved zone s owner second one useful storing retrieving public key securely third one needed guard playback spoofing attack note secrecy offered service since information dns considered public since phasing dnssec expected take several year ability securityaware server interwork securityignorant server essential implies protocol changed let u look detail dns record grouped set called rrsets resource record set record name class type lumped together set rrset may contain multiple record example dns name resolve primary ip address secondary ip address rrsets extended several new record type discussed rrset cryptographically hashed eg using md sha hash signed zone s private key eg using rsa unit transmission client signed rrset upon receipt signed rrset client verify whether signed private key originating zone signature agrees data accepted since rrset contains signature rrsets cached anywhere even untrustworthy server without endangering security dnssec introduces several new record type first key record record hold public key zone user host principal cryptographic algorithm used  signing protocol used transmission bit public key stored naked x certificate used due bulk algorithm field hold  mdrsa signature preferred choice value combination protocol field indicate use ipsec security protocol second new record type sig record hold signed hash according algorithm specified key record signature applies record rrset including key record present excluding also hold time signature begin period validity expires well signer s name item dnssec design zone s private key kept offline twice day content zone s database manually transported eg cdrom disconnected machine private key located rrsets signed sig record thus produced conveyed back zone s primary server cdrom way private key stored cdrom locked safe except inserted disconnected machine signing day s new rrsets signing completed copy key erased memory disk cdrom returned safe procedure reduces electronic security physical security something people understand deal method presigning rrsets greatly speed process answering query since cryptography done fly tradeoff large amount disk space needed store key signature dns database record increase tenfold size due signature client process get signed rrset must apply originating zone s public key decrypt hash compute hash compare two value agree data considered valid however procedure begs question client get zone s public key one way acquire trusted server using secure connection eg using ipsec however practice expected client preconfigured public key toplevel domain alice want visit bob s web site ask dns rrset bobcom contain ip address key record containing bob s public key rrset signed toplevel com domain alice easily verify validity example rrset might contain shown fig  figure  example rrset bobcom key record bob s public key sig record toplevel com server s signed hash key record verify authenticity armed verified copy bob s public key alice ask bob s dns server run bob ip address wwwbobcom rrset signed bob s private key alice verify signature rrset bob return trudy somehow manages inject false rrset cache alice easily detect lack authenticity sig record contained incorrect however dnssec also provides cryptographic mechanism bind response specific query prevent kind spoof trudy managed pull fig  optional  antispoofing measure add response hash query message signed respondent s private key since trudy know private key toplevel com server forge response query alice s isp sent certainly get response back first rejected due invalid signature hashed query dnssec also support record type example cert record used storing eg x certificate record provided people want turn dns pki whether actually happens remains seen stop discussion dnssec detail please consult rfc  selfcertifying name secure dns possibility securing name completely different approach used secure file system mazières et al  project author designed secure scalable worldwide file system without modifying standard dns without using certificate assuming existence pki section show idea could applied web accordingly description use web terminology rather file system terminology used paper avoid possible confusion scheme could applied web achieve high security currently use would require substantial software change introduce start assuming web server publicprivate key pair essence idea url contains cryptographic hash server s name public key part url example fig  see url bob s photo start usual http scheme followed dns name server wwwbobcom come colon character hash end name file usual except hash standard url hash selfcertifying url figure  selfcertifying url containing hash server s name public key obvious question hash hash computed concatenating dns name server server s public key running result sha function get bit hash scheme hash represented sequence  digit lowercase letter exception letter l o digit   avoid confusion leaf  digit letter  character available one encode bit string string  character hold bit sha hash actually necessary use hash key could used advantage hash reduce length name simplest least convenient way see bob s photo alice type string fig  browser browser sends message bob s web site asking public key bob s public key arrives browser concatenates server name public key run hash algorithm result agrees character hash secure url browser sure bob s public key due property sha even trudy intercept request forge reply way find public key give expected hash interference thus detected bob s public key cached future use alice verify bob corresponding private key construct message containing proposed aes session key nonce timestamp encrypts message bob s public key sends since bob corresponding private key bob able decrypt message send back nonce encrypted  aes key upon receiving correct aesencrypted nonce alice know talking bob also alice bob aes session key subsequent get request reply alice bob s photo web page bookmark type full url furthermore url embedded web page also self certifying used clicking additional security knowing page returned correct one way avoid initial typing selfcertifying url get secure connection trusted server present x certificate signed ca another way get selfcertifying url would connect trusted search engine typing selfcertifying url first time going protocol described leading secure authenticated connection trusted search engine search engine could queried result appearing signed page full selfcertifying url could clicked without type long string let u see well approach stand trudy s dns spoofing trudy manages poison cache alice s isp alice s request may falsely delivered trudy rather bob protocol requires recipient initial message ie trudy return public key produce correct hash trudy return public key alice detect immediately sha hash match selfcertifying url trudy return bob s public key alice detect attack alice encrypt next message using bob s key trudy get message way decrypt extract aes key nonce either way spoofing dns provide denialofservice attack  ssl—the secure socket layer secure naming good start much web security next step secure connection look secure connection achieved web burst public view initially used distributing static page however long company got idea using financial transaction purchasing merchandise credit card online banking electronic stock trading application created demand secure connection  netscape communication corp thendominant browser vendor responded introducing security package called ssl secure socket layer meet demand software protocol widely used also internet explorer worth examining detail ssl build secure connection two socket including  parameter negotiation client server  mutual authentication client server  secret communication  data integrity protection seen item need elaborate positioning ssl usual protocol stack illustrated fig  effectively new layer interposed application layer transport layer accepting request browser sending tcp transmission server secure connection established ssl s main job handling compression encryption http used ssl called http secure http even though standard http protocol sometimes available new port  instead standard port  though aside ssl restricted used web browser common application  figure  layer protocol home user browsing ssl ssl protocol gone several version discus version  widely used version ssl support variety different algorithm option option include presence absence compression cryptographic algorithm used matter relating export restriction cryptography last mainly intended make sure serious cryptography used end connection united state case key limited  bit cryptographer regard something joke netscape forced put restriction order get export license u government ssl consists two subprotocols one establishing secure connection one using let u start seeing secure connection established connection establishment subprotocol shown fig  start message  alice sends request bob establish connection request specifies ssl version alice preference respect compression cryptographic algorithm also contains nonce r used later figure  simplified version ssl connection establishment subprotocol bob s turn message  bob make choice among various algorithm alice support sends nonce r b message  sends certificate containing public key certificate signed wellknown authority also sends chain certificate followed back one browser including alice s come preloaded  public key bob establish chain anchored one alice able verify bob s public key point bob may send  message request alice s publickey certificate bob done sends message  tell alice turn alice responds choosing random bit premaster key sending bob encrypted public key message  actual session key used encrypting data derived premaster key combined nonce complex way message  received alice bob able compute session key reason alice tell bob switch new cipher message  also finished establishment subprotocol message  bob acknowledges message   however although alice know bob bob know alice unless alice public key corresponding certificate unlikely situation individual therefore bob s first message may well request alice log using previously established login name password login protocol however outside scope ssl accomplished whatever mean data transport begin mentioned ssl support multiple cryptographic algorithm strongest one us triple de three separate key encryption sha message integrity combination relatively slow mostly used banking application highest security required ordinary ecommerce application rc used bit key encryption md used message authentication rc take bit key seed expands much larger number internal use us internal number generate keystream keystream xored plaintext provide classical stream cipher saw fig  export version also use rc bit key  bit made public make cipher easy break actual transport second subprotocol used shown fig  message browser first broken unit  kb compression enabled unit separately compressed secret key derived two nonce premaster key concatenated compressed text result hashed agreedon hashing algorithm usually md hash appended fragment mac compressed fragment plus mac encrypted agreedon symmetric encryption algorithm usually xoring rc keystream finally fragment header attached fragment transmitted tcp connection figure  data transmission using ssl word caution order however since shown rc weak key easily cryptanalyzed security ssl using rc shaky ground fluhrer et al  browser allow user choose cipher suite configured use  triple de bit key sha time even though combination slower rc md another problem ssl principal may certificate even always verify key used match  netscape communication corp turned ssl ietf standardization result tl transport layer security described rfc  change made ssl relatively small enough ssl version  tl interoperate example way session key derived premaster key nonce changed make key stronger ie harder cryptanalyze tl version also known ssl version  first implementation appeared  clear yet whether tl replace ssl practice even though slightly stronger problem weak rc key remains however  mobile code security naming connection two area concern related web security early day web page static html file contain executable code often contain small program including java applet activex control javascripts downloading executing mobile code obviously massive security risk various method devised minimize take quick peek issue raised mobile code approach dealing java applet security java applet small java program compiled stackoriented machine language called jvm java virtual machine placed web page downloading along page page loaded applet inserted jvm interpreter inside browser illustrated fig  figure  applet interpreted web browser advantage running interpreted code compiled code every instruction examined interpreter executed give interpreter opportunity check whether instruction s address valid addition system call also caught interpreted call handled matter security policy example applet trusted eg came local disk system call could carried without question however applet trusted eg came internet could encapsulated called sandbox restrict behavior trap attempt use system resource applet try use system resource call passed security monitor approval monitor examines call light local security policy make  decision allow reject way possible give applet access resource unfortunately reality security model work badly bug crop time activex activex control pentium binary program embedded web page one encountered check made see executed pass test executed interpreted sandboxed way much power user program potentially great harm thus security decision whether run activex control method microsoft chose making decision based idea code signing activex control accompanied digital signature—a hash code signed creator using public key cryptography activex control show browser first verifies signature make sure tampered transit signature correct browser check internal table see program s creator trusted chain trust back trusted creator creator trusted program executed otherwise microsoft system verifying activex control called authenticode useful contrast java activex approach java approach attempt made determine wrote applet instead runtime interpreter make sure thing machine owner said applet may contrast code signing attempt monitor mobile code s runtime behavior came trusted source modified transit run attempt made see whether code malicious original programmer intended code format hard disk erase flash rom computer never booted programmer certified trusted code run destroy computer unless activex control disabled browser many people feel trusting unknown software company scary demonstrate problem programmer seattle formed software company got certified trustworthy easy wrote activex control clean shutdown machine distributed activex control widely shut many machine could rebooted harm done trying expose problem world official response revoke certificate specific activex control ended short episode acute embarrassment underlying problem still evil programmer exploit garfinkel spafford  since way police thousand software company might write mobile code technique code signing disaster waiting happen javascript javascript formal security model long history leaky implementation vendor handle security different way example netscape navigator version  used something akin java model version  abandoned code signing model fundamental problem letting foreign code run machine asking trouble security standpoint like inviting burglar house trying watch carefully escape kitchen living room something unexpected happens distracted moment bad thing happen tension mobile code allows flashy graphic fast interaction many web site designer think much important security especially somebody else s machine risk  virus virus another form mobile code unlike example virus invited difference virus ordinary mobile code virus written reproduce virus arrives either via web page email attachment way usually start infecting executable program disk one program run control transferred virus usually try spread machine example emailing copy everyone victim s email address book virus infect boot sector hard disk machine booted virus get run virus become huge problem internet caused billion dollar worth damage obvious solution perhaps whole new generation operating system based secure microkernels tight compartmentalization user process resource might help  social issue internet security technology area social issue public policy technology meet head often huge consequence briefly examine three area privacy freedom speech copyright needle say scratch surface additional reading see anderson  garfinkel spafford  schneier  internet also full material type word privacy censorship copyright search engine also see book s web site link  privacy people right privacy good question fourth amendment u constitution prohibits government searching people s house paper effect without good reason go restrict circumstance search warrant shall issued thus privacy public agenda  year least u changed past decade ease government spy citizen ease citizen prevent spying th century government search citizen s paper send policeman horse go citizen s farm demanding see certain document cumbersome procedure nowadays telephone company internet provider readily provide wiretap presented search warrant make life much easier policeman danger falling horse cryptography change anybody go trouble downloading installing pgp us wellguarded alienstrength key fairly sure nobody known universe read email search warrant search warrant government well understand like real privacy mean much harder spy criminal stripe also much harder spy journalist political opponent consequently government restrict forbid use export cryptography france example prior  cryptography banned unless government given key france alone april  u government announced intention make hardware cryptoprocessor clipper chip standard networked communication way said citizen privacy would guaranteed also mentioned chip provided government ability decrypt traffic via scheme called key escrow allowed government access key however promised snoop valid search warrant needle say huge furor ensued privacy  advocate denouncing whole plan law enforcement official praising eventually government backed dropped idea large amount information electronic privacy available electronic frontier foundation s web site wwwefforg anonymous remailers pgp ssl technology make possible two party establish secure authenticated communication free thirdparty surveillance interference however sometimes privacy best served authentication fact making communication anonymous anonymity may desired pointtopoint message newsgroups let u consider example first political dissident living authoritarian regime often wish communicate anonymously escape jailed killed second wrongdoing many corporate educational governmental organization often exposed whistleblower frequently prefer remain anonymously avoid retribution third people unpopular social political religious view may wish communicate via email newsgroups without exposing fourth people may wish discus alcoholism mental illness sexual harassment child abuse member persecuted minority newsgroup without go public numerous example exist course let u consider specific example s critic nontraditional religious group posted view usenet newsgroup via anonymous remailer server allowed user create pseudonym send email server remailed reposted using pseudonym one could tell message really came posting revealed religious group claimed trade secret copyrighted document religious group responded telling local authority trade secret disclosed copyright infringed crime server located court case followed server operator compelled turn mapping information revealed true identity person made posting incidentally first time religion unhappy someone leaked secret william tyndale burned stake  translating bible english substantial segment internet community outraged breach confidentiality conclusion everyone drew anonymous remailer store mapping real email address pseudonym called type  remailer worth much case stimulated various people designing anonymous remailers could withstand subpoena attack new remailers often called cypherpunk remailers work follows user produce email message complete rfc  header except course encrypts remailer s public key sends remailer outer rfc  header stripped content decrypted message remailed remailer account maintains log even server later confiscated retains trace message passed many user wish anonymity chain request multiple anonymous remailers shown fig  alice want send bob really really really anonymous valentine s day card us three remailers composes message put header containing bob s email address encrypts whole thing remailer  s public key e  indicated horizontal hatching prepends header remailer  s email address plaintext message shown remailers   figure  figure  alice us  remailers send bob message encrypts message remailer  s public key e  indicated vertical hatching prepends plaintext header containing remailer  s email address message shown   fig  finally encrypts entire message remailer  s public key e  prepends plaintext header remailer  s email address message shown right alice figure message actually transmits message hit remailer  outer header stripped body decrypted emailed remailer  similar step occur two remailers although extremely difficult anyone trace final message back alice many remailers take additional safety precaution example may hold message random time add remove junk end message reorder message make harder anyone tell message output remailer corresponds input order thwart traffic analysis description system represents state art anonymous email see mazières kaashoek  anonymity restricted email service also exist allow anonymous web surfing user configures browser use anonymizer proxy henceforth http request go anonymizer request page sends back web site see anonymizer source request user long anonymizer refrain keeping log fact one determine requested page  freedom speech privacy relates individual wanting restrict people see second key social issue freedom speech opposite censorship government wanting restrict individual read publish web containing million million page become censor s paradise depending nature ideology regime banned material may include web site containing following  material inappropriate child teenager  hate aimed various ethnic religious sexual group  information democracy democratic value  account historical event contradicting government s version  manual picking lock building weapon encrypting message etc usual response ban bad site sometimes result unexpected example public library installed web filter computer make child friendly blocking pornography site filter veto site blacklist also check page dirty word displaying  one case loudoun county virginia filter blocked patron s search information breast cancer filter saw word breast library patron sued loudoun county however livermore california parent sued public library installing filter yearold son caught viewing pornography s library escaped many people world wide web worldwide web cover whole world country agree allowed web example november  french court ordered yahoo california corporation block french user viewing auction nazi memorabilia yahoo s web site owning material violates french law yahoo appealed u court sided issue whose law apply far settled imagine would happen court utah instructed france block web site dealing wine comply utah s much stricter law alcohol suppose china demanded web site dealing democracy banned interest state iranian law religion apply liberal sweden saudi arabia block web site dealing woman s right whole issue veritable pandora s box relevant comment john gilmore the net interprets censorship damage route around concrete implementation consider eternity service anderson  goal make sure published information depublished rewritten common soviet union josef stalin s reign use eternity service user specifies long material preserved pay fee proportional duration size uploads thereafter one remove edit even uploader could service implemented simplest model use peertopeer system stored document would placed dozen participating server get fraction fee thus incentive join system server spread many legal jurisdiction maximum resilience list  randomlyselected server would stored securely multiple place compromised others would still exist authority bent destroying document could never sure found copy system could also made selfrepairing sense became known copy destroyed remaining site would attempt find new repository replace eternity service first proposal censorshipresistant system since others proposed case implemented various new feature added encryption anonymity fault tolerance often file stored broken multiple fragment fragment stored many server system freenet clarke et al  pasis wylie et al  publius waldman et al  work reported serjantov  increasingly many country trying regulate export intangible often include web site software scientific paper email telephone helpdesk even uk centurieslong tradition freedom speech seriously considering highly restrictive law would example define technical discussion british professor foreign student university cambridge regulated export needing government license anderson  needle say policy controversial steganography country censorship abounds dissident often try use technology evade cryptography allows secret message sent although possibly lawfully government think alice bad person mere fact communicating bob may get put category repressive government understand concept  transitive closure even short mathematician anonymous remailers help banned domestically message foreign one require government export license help much web people want communicate secretly often try hide fact communication taking place science hiding message called steganography greek word covered writing fact ancient greek used herodotus wrote general shaved head messenger tattooed message scalp let hair grow back sending modern technique conceptually higher bandwidth lower latency case point consider fig  photograph taken author kenya contains three zebra contemplating acacia tree fig  b appears three zebra acacia tree extra added attraction contains complete unabridged text five shakespeare s play embedded hamlet king lear macbeth merchant venice julius caesar together play total  kb text figure  three zebra tree b three zebra tree complete text five play william shakespeare steganographic channel work original color image  x  pixel pixel consists three bit number one red green blue intensity pixel pixel s color formed linear superposition three color steganographic encoding method us loworder bit rgb color value covert channel thus pixel room  bit secret information one red value one green value one blue value image size  x  x  bit  byte secret information stored full text five play short notice add  byte text first compressed  kb using standard compression algorithm compressed output encrypted using idea inserted loworder bit color value seen actually seen existence information completely invisible equally invisible large fullcolor version photo eye easily distinguish bit color bit color viewing two image black white low resolution justice powerful technique get better feel steganography work author prepared demonstration including fullcolor highresolution image fig  b five play embedded demonstration including tool inserting extracting text image found book s web site use steganography undetected communication dissident could create web site bursting politicallycorrect picture photograph great leader local sport  movie television star etc course picture would riddled steganographic message message first compressed encrypted even someone suspected presence would immense difficulty distinguishing message white noise course image fresh scan copying picture internet changing bit dead giveaway image mean carrier steganographic message audio file also work fine video file huge steganographic bandwidth even layout ordering tag html file carry information although examined steganography context free speech numerous us one common use owner image encode secret message stating ownership right image stolen placed web site lawful owner reveal steganographic message court prove whose image technique called watermarking discussed piva et al  steganography see artz  johnson jajoda  katzenbeisser petitcolas  wayner   copyright privacy censorship two area technology meet public policy third one copyright copyright granting creator ip intellectual property including writer artist composer musician photographer cinematographer choreographer others exclusive right exploit ip period time typically life author plus  year  year case corporate ownership copyright work expires pass public domain anyone use sell wish gutenberg project wwwpromonetpg example placed thousand public domain work eg shakespeare twain dickens web  u congress extended copyright u another  year request hollywood claimed without extension nobody would create anything anymore way contrast patent last  year people still invent thing copyright came forefront napster musicswapping service  million member although napster actually copy music court held holding central database song contributory infringement helped people infringe nobody seriously claim copyright bad idea although many claim term far long favoring big corporation public next generation music sharing already raising major ethical issue example consider peertopeer network people share legal file public domain music home video religious tract trade secret etc perhaps copyrighted assume everyone online time via adsl cable machine index hard disk plus list member someone looking specific item pick random member see check member person s list member list computer good kind work found item requester copy work copyrighted chance requester infringing although international transfer question whose law applies unclear supplier crime keep music paid legally downloaded hard disk others might find unlocked cabin country ip thief sneak carrying notebook computer scanner copy copyrighted book sneak guilty crime failing protect someone else s copyright trouble brewing copyright front huge battle going hollywood computer industry former want stringent protection  intellectual property latter want hollywood s policeman october  congress passed dmca digital millennium copyright act make crime circumvent protection mechanism present copyrighted work tell others circumvent similar legislation set place european union virtually one think pirate far east allowed duplicate copyrighted work many people think dmca completely shift balance copyright owner s interest public interest case point september  music industry consortium charged building unbreakable system selling music online sponsored contest inviting people try break system precisely right thing new security system team security researcher several university led prof edward felten princeton took challenge broke system wrote paper finding submitted usenix security conference underwent peer review accepted paper presented felten received letter recording industry association america threatened sue author dmca published paper response file suit asking federal court rule whether publishing scientific paper security research still legal fearing definitive court ruling industry withdrew threat court dismissed felten s suit doubt industry motivated weakness case invited people try break system threatened sue accepting challenge threat withdrawn paper published craver et al  new confrontation virtually certain related issue extent fair use doctrine established court ruling various country doctrine say purchaser copyrighted work certain limited right copy work including right quote part scientific purpose use teaching material school college case make backup copy personal use case original medium fails test constitutes fair use include  whether use commercial  percentage whole copied  effect copying sale work since dmca similar law within european union prohibit circumvention copy protection scheme law also prohibit legal fair use effect dmca take away historical right user give content seller power major showdown inevitable another development work dwarf even dmca shifting balance copyright owner user tcpa trusted computing platform alliance led intel microsoft idea cpu chip operating system carefully monitor user behavior various way eg playing pirated music prohibit unwanted behavior system even allows content owner remotely manipulate user pc change rule deemed necessary needle say social consequence scheme immense nice industry finally paying attention security lamentable entirely aimed enforcing copyright law rather dealing virus cracker intruder security issue people concerned short lawmaker lawyer busy balancing economic interest copyright owner public interest year come cyberspace different meatspace constantly pit one group another resulting power struggle litigation hopefully eventually kind resolution least new disruptive technology come along  summary cryptography tool used keep information confidential ensure integrity authenticity modern cryptographic system based kerckhoff s principle  publiclyknown algorithm secret key many cryptographic algorithm use complex transformation involving substitution permutation transform plaintext ciphertext however quantum cryptography made practical use onetime pad may provide truly unbreakable cryptosystems cryptographic algorithm divided symmetrickey algorithm publickey algorithm symmetrickey algorithm mangle bit series round parameterized key turn plaintext ciphertext triple de rijndael aes popular symmetrickey algorithm present algorithm used electronic code book mode cipher block chaining mode stream cipher mode counter mode others publickey algorithm property different key used encryption decryption decryption key derived encryption key property make possible publish public key main publickey algorithm rsa derives strength fact difficult factor large number legal commercial document need signed accordingly various scheme devised digital signature using symmetrickey publickey algorithm commonly message signed hashed using algorithm md sha hash signed rather original message publickey management done using certificate document bind principal public key certificate signed trusted authority someone recursively approved trusted authority root chain obtained advance browser generally many root certificate built cryptographic tool used secure network traffic ipsec operates network layer encrypting packet flow host host firewall screen traffic going organization often based protocol port used virtual private network simulate old leasedline network provide certain desirable security property finally wireless network need good security  s wep provide although i improve matter considerably two party establish session authenticate need establish shared session key various authentication protocol exist including use trusted third party diffiehellman kerberos publickey cryptography email security achieved combination technique studied chapter pgp example compress message encrypts using idea sends idea key encrypted receiver s public key addition also hash message sends signed hash verify message integrity web security also important topic starting secure naming dnssec provides way prevent dns spoofing selfcertifying name ecommerce web site use ssl establish secure authenticated session client server various technique used deal mobile code especially sandboxing code signing internet raise many issue technology interacts strongly public policy area include privacy freedom speech copyright problem  break following monoalphabetic cipher plaintext consisting letter wellknown excerpt poem lewis carroll  kfd ktbd fzm eubd kfd pzyiom mztx ku kzyg ur bzha kfthcm ur mftnm zhx mfudm zhx mdzythc pzq ur ezsszcdm zhx gthcm zhx pfa kfd mdz tm sutythc fuk zhx pfdkfdi ntcm fzld pthcm sok pztk z stk kfd uamkdim eitdx sdruid pd fzld uoi efzk rui mubd ur om zid uok ur sidzkf zhx zyy ur om zid rzk hu foiia mztx kfd ezindhkdi kfda kfzhgdx ftb boef rui kfzk  break following columnar transposition cipher plaintext taken popular computer textbook computer probable word plaintext consists entirely letter space ciphertext broken block five character readability aauan cvlre rurnn dltme aeepb ytust iceat npmey iicgo gorch srsoc nntii imiha oofpa gsivt tpsit lbolr otoex  find bit onetime pad generates text donald duck ciphertext fig   quantum cryptography requires photon gun demand fire single photon carrying  bit problem calculate many photon bit carry gbps fiber link assume length photon equal wavelength purpose problem  micron speed light fiber  cmnsec  trudy capture regenerates photon quantum cryptography use get wrong cause error appear bob s onetime pad fraction bob s onetime pad bit error average  fundamental cryptographic principle state message must redundancy also know redundancy help intruder tell guessed key correct consider two form redundancy first initial n bit plaintext contain known pattern second final n bit message contain hash message security point view two equivalent discus answer  fig  pboxes sboxes alternate although arrangement esthetically pleasing secure first pboxes sboxes  design attack de based knowledge plaintext consists exclusively upper case ascii letter plus space comma period semicolon carriage return line feed nothing known plaintext parity bit  text computed cipherbreaking machine billion processor could analyze key  picosecond would take   year break bit version aes however current machine might  processor take  msec analyze key need factor   improvement performance obtain aesbreaking machine moore s law computing power double every  month continues hold many year take even build machine  aes support bit key many key aes see find number physic chemistry astronomy size use internet help search big number draw conclusion research  suppose message encrypted using de ciphertext block chaining mode one bit ciphertext block c accidentally transformed   transmission much plaintext garbled result  consider ciphertext block chaining instead single  bit transformed  bit extra  bit inserted ciphertext stream block c much plaintext garbled result  compare cipher block chaining cipher feedback mode term number encryption operation needed transmit large file one efficient much  using rsa public key cryptosystem  b  etc p  q  list five legal value  b p  q   find e c using p  q   find e encrypt abcdefghij  suppose user maria discovers private rsa key  n  public rsa key e  n  another user france word  e  n  n  maria consider changing public private key explain answer  consider use counter mode shown fig  iv  use  threaten security cipher general  signature protocol fig  following weakness bob crash may lose content ram problem cause prevent  fig  see alice send bob signed message trudy replaces p bob detect happens trudy replaces p signature  digital signature potential weakness due lazy user ecommerce transaction contract might drawn user asked sign sha hash user actually verify contract hash correspond user may inadvertently sign different contract suppose mafia try exploit weakness make money set pay web site eg pornography gambling etc ask new customer credit card number send contract saying customer wish use service pay credit card ask customer sign knowing sign without verifying contract hash agree show mafia buy diamond legitimate internet jeweler charge unsuspecting customer  math class  student probability least two student birthday assume nobody born leap day  possible birthday  ellen confessed marilyn tricking matter tom s tenure marilyn resolved avoid problem dictating content future message dictating machine new secretary type marilyn planned examine message terminal typed make sure contained exact word new secretary still use birthday attack falsify message hint  consider failed attempt alice get bob s public key fig  suppose bob alice already share secret key alice still want bob s public key way get securely  alice want communicate bob using publickey cryptography establishes connection someone hope bob asks public key sends plaintext along x certificate signed root ca alice already public key root ca step alice carry verify talking bob assume bob care talking eg bob kind public service  suppose system us pki based treestructured hierarchy ca alice want communicate bob receives certificate bob signed ca x establishing communication channel bob suppose alice never heard x step alice take verify talking bob  ipsec using ah used transport mode one machine behind nat box explain answer  give one advantage hmacs using rsa sign sha hash  give one reason firewall might configured inspect incoming traffic give one reason might configured inspect outgoing traffic think inspection likely successful  wep packet format shown fig  suppose checksum  bit computed xoring bit word payload together also suppose problem rc corrected replacing stream cipher weakness iv s extended  bit way intruder spy interfere traffic without detected  suppose organization us vpn securely connect site internet need user jim organization use encryption security mechanism communicate another user mary organization   change one message protocol fig  minor way make resistant reflection attack explain change work  diffiehellman key exchange used establish secret key alice bob alice sends bob    bob responds  alice s secret number x  secret key  alice bob never met share secret certificate nevertheless establish shared secret key using diffiehellman algorithm explain hard defend maninthemiddle attack  protocol fig  sent plaintext along encrypted session key  protocol fig  pointed starting plaintext message  zero bit security risk suppose message begin peruser random number effectively second secret key known user kdc eliminate known plaintext attack  needhamschroeder protocol alice generates two challenge r r  seems like overkill would one done job  suppose organization us kerberos authentication term security service availability effect tgs go  publickey authentication protocol fig  message  r b encrypted k encryption necessary would adequate send back plaintext explain answer  pointofsale terminal use magneticstripe card pin code fatal flaw malicious merchant modify card reader capture store information card well pin code order post additional fake transaction future next generation pointofsale terminal use card complete cpu keyboard tiny display card devise protocol system malicious merchant break  give two reason pgp compress message  assuming everyone internet used pgp could pgp message sent arbitrary internet address decoded correctly concerned discus answer  attack shown fig  leaf one step step needed spoof work including might reduce potential suspicion fact missing step  proposed foil dns spoofing using id prediction server put random id rather using counter discus security aspect approach  ssl data transport protocol involves two nonce well premaster key value using nonce  image fig  b contains ascii text five play shakespeare would possible hide music among zebra instead text would work much could hide picture  alice heavy user type  anonymous remailer would post many message favorite newsgroup altfanclubalice everyone would know came alice bore pseudonym assuming remailer worked correctly trudy could impersonate alice type  remailers werer shut alice switched cypherpunk remailer started new thread newsgroup devise way prevent trudy posting new message newsgroup impersonating alice  search internet interesting case involving privacy write page report  search internet court case involving copyright versus fair use write page report summarizing finding  write program encrypts input xoring keystream find write good random number generator generate keystream program act filter taking plaintext standard input producing ciphertext  standard output vice versa program take one parameter key seed random number generator  write procedure computes sha hash block data procedure two parameter pointer input buffer pointer byte output buffer see exact specification sha search internet fips  full specification  chapter  reading list bibliography finished study computer network beginning many interesting topic treated much detail deserve others omitted altogether lack space chapter provide suggestion reading bibliography benefit reader wish continue study computer network  suggestion reading extensive literature aspect computer network three journal frequently publish paper area ieee transaction communication ieee journal selected area communication computer communication review many journal also publish occasional paper subject ieee also publishes three magazines— ieee internet computing ieee network magazine ieee communication magazine —that contain survey tutorial case study networking first two emphasize architecture standard software last tends toward communication technology fiber optic satellite addition number annual biannual conference attract numerous paper network distributed system particular sigcomm annual conference international conference distributed computer system symposium operating system principle list suggestion supplementary reading keyed chapter book tutorial survey subject chapter textbook  introduction general work bi et al wireless mobile communication start st century new century new technology sound good history wireless major topic covered including standard application internet technology comer internet book anyone looking easygoing introduction internet look comer describes history growth technology protocol service internet term novice understand much material covered book also interest technical reader garber g really next big wireless technology thirdgeneration mobile phone supposed combine voice data provide data rate  mbps slow take promise pitfall technology politics economics using broadband wireless communication covered easytoread article ieee internet computing janfeb  first issue ieee internet computing new millennium exactly would expect ask people helped create internet previous millennium speculate  going next one expert paul baran lawrence robert leonard kleinrock stephen crocker danny cohen bob metcalfe bill gate bill joy others best result wait  year read prediction kipnis beating system abuse standard adoption process standard committee try fair vendor neutral work unfortunately company try abuse system example happened repeatedly company help develop standard approved announces standard based patent owns license company like company like price alone determines look dark side standardization article excellent start kyas crawford atm network atm touted networking protocol future still important within telephone system book uptodate guide atm s current status detailed information atm protocol integrate ipbased network kwok vision residential broadband service want know microsoft thought delivering video demand  read article five year later vision hopelessly obsolete value article demonstrate even highlyknowledgeable wellmotivated people see even five year future accuracy lesson u naughton brief history future invented internet anyway many people claimed credit rightly since many people hand different way history internet tell happened witty charming way replete anecdote s repeatedly making clear belief digital communication future perkins mobile networking internet good overview mobile networking protocol layer protocol layer place look physical transport layer covered well middleware security ad hoc networking teger waks enduser perspective home networking home network like corporate network application different multimedia intensive equipment come wider range supplier user little technical training patience whatsoever failure find look varshney vetter emerging mobile wireless network another introduction wireless communication cover wireless lan wireless local loop satellite well software application wetteroth osi reference model telecommunication though osi protocol used sevenlayer model become wellknown well explaining osi book applies model  telecom opposed computer network showing common telephony voice protocol fit networking stack  physical layer abramson internet access using vsats small earth station becoming popular rural telephony corporate internet access developed country however nature traffic two case differs dramatically different protocol needed handle two case article inventor aloha system discus numerous channel allocation method used vsat system alkhatib et al wireless data network reaching extra mile quick introduction wireless networking term technology including spread spectrum tutorial paper good starting place azzam ransom broadband access technology telephone system fiber adsl cable network satellite even power line covered network access technology topic include home network service network performance standard book concludes biography major company telecom network business rate change industry chapter may shorter shelf life technology chapter bellamy digital telephony everything ever wanted know telephone system contained authoritative book particularly interesting chapter transmission multiplexing digital switching fiber optic mobile telephony dsl berezdivin et al nextgeneration wireless communication concept technology folk one step ahead everyone else next generation title refers fourthgeneration wireless network network expected provide ip service everywhere seamless connectivity internet high bandwidth excellent quality service goal achieved smart spectrum usage dynamic resource management adaptive service sound visionary mobile telephone sounded pretty visionary back  duttaroy overview cable modem technology market perspective cable tv gone simple catv complex distribution system tv internet telephony change affected cable infrastructure considerably discussion cable plant standard marketing emphasis docsis article worth reading farserotu prasad survey future broadband multimedia satellite system issue trend variety data communication satellite sky drawing board including astrolink cyberstar spaceway skybridge teledesic isky use various technique including bent pipe satellite switching overview different satellite system technique paper good starting place  hu li satellitebased internet tutorial internet access via satellite different access via terrestrial line issue delay routing switching also different paper author examine issue related using satellite internet access joel telecommunication ieee communication society compact surprisingly comprehensive history telecommunication starting telegraph ending  article place look also cover radio telephone analog digital switching submarine cable digital transmission atm television broadcasting satellite cable tv optical communication mobile phone packet switching arpanet internet metcalfe computernetwork interface design lesson arpanet ethernet although engineer building network interface decade one often wonder learned anything experience paper designer ethernet tell build network interface built pull punch telling wrong well right palais fiber optic communication rd ed book fiber optic technology tend aimed specialist one accessible cover waveguide light source light detector coupler modulation noise many topic pandya emerging mobile personal communication system short sweet introduction handheld personal communication system article worth looking one nine page contains list  acronym used eight page sarikaya packet mode wireless network overview transition third generation whole idea thirdgeneration cellular network wireless data transmission get overview secondgeneration network handle data evolution third generation good place look topic covered include gprs isb wcdma cdma  data link layer carlson ppp design implementation debugging nd ed interested detailed information protocol make ppp suite including ccp compression ecp encryption book good reference particular focus anu ppp popular implementation ppp gravano introduction error control code error creep nearly digital communication many type code developed detect correct book explains important simple linear hamming code complex galois field convolutional code try minimum algebra necessary still lot  holzmann design validation computer protocol reader interested formal aspect data link similar protocol look specification modeling correctness testing protocol covered book peterson davie computer network system approach chapter  contains material many data link issue including framing error detection stopandwait protocol sliding window protocol ieee  lan stalling data computer communication chapter  deal data link layer cover flow control error detection basic data link protocol including stopandwait go back n hdlctype protocol also covered  medium access control sublayer bhagwat bluetooth technology shortrange wireless apps straightforward introduction bluetooth system good place start core protocol profile radio piconets link discussed followed introduction various protocol bisdikian overview bluetooth wireless technology like bhagwat paper also good starting point learning bluetooth system piconets protocol stack profile discussed among topic crow et al ieee  wireless local area network simple introduction technology protocol  good place start emphasis mac sublayer distributed control centralized control covered paper concludes simulation study performance  various condition eklund et al ieee standard  technical overview wireless man air interface broadband wireless access wireless local loop standardized ieee   may revolutionize telephone service bringing broadband home overview author explain main technological issue relating standard kapp  leaving wire behind short introduction  cover basic protocol relevant standard kleinrock principle nomadic computing multiaccess communication wireless access shared channel complex wired station share channel among issue dynamic topology routing power management issue related channel access mobile wireless device covered article  miller cummins lan technology explained need know technology used lan book cover including fddi token ring well everpopular ethernet new installation first two rare many existing network still use ring network still common eg sonet perlman interconnection nd ed authoritative entertaining treatment bridge router routing general perlman s book place look author designed algorithm used ieee  spanning tree bridge one world s leading authority various aspect networking webb broadband fixed wireless access fixed broadband wireless examined paper section argues people want home email address work email address separate telephone number home work mobile instant messaging account perhaps fax number two want single integrated system work everywhere emphasis technology section physical layer including topic tdd versus fdd adaptive versus fixed modulation number carrier  network layer bhatti crowcroft qos sensitive flow issue ip packet handling one way achieve better quality service network schedule packet departure router carefully paper variety packet scheduling algorithm well related issue discussed detail chakrabarti qos issue ad hoc wireless network routing ad hoc network notebook computer happen near hard enough without worry quality service well nevertheless people care quality service attention need paid topic nature ad hoc network issue related routing quality service discussed article comer internetworking tcpip vol  th ed comer written definitive work tcpip protocol suite chapter   deal ip related protocol network layer chapter deal primarily higher layer also worth reading huitema routing internet want know everything know routing internet book pronounceable algorithm eg rip cidr mbone unpronounceable algorithm eg ospf igrp egp bgp treated great detail new feature multicast mobile ip resource reservation also malhotra ip routing detailed guide ip routing book contains lot material protocol covered include rip rip igrp eigrp ospf bgp  metz differentiated service qualityofservice guarantee important many multimedia application integrated service differentiated service two possible approach achieving discussed emphasis differentiated service metz ip router new tool gigabit networking reference chap  routing algorithm one different router actually work gone evolutionary process generalpurpose workstation highly specialpurpose routing machine want know article good starting place nemeth et al unix system administration handbook change pace chap  book deal networking practical way reference rather dealing abstract concept give much advice actually managing real network perkins mobile networking mobile ip mobile computing device become common mobile ip becoming important tutorial give good introduction related topic perlman interconnection bridge router nd ed chapter   perlman describes many issue involved unicast multicast routing algorithm design wan network lan implementation various protocol best part book chap  author distills year experience network protocol informative fun chapter puzmanova routing switching time convergence late s networking equipment vendor began call everything switch many manager large network said switching router switch title implies book predicts future router switch asks whether really converging royer toh review current routing protocol adhoc mobile wireless network aodv ad hoc routing algorithm discussed chap  one known variety one including dsdv cgsr wrp dsr tora abr drp srp discussed compared one another clearly planning invent new ad hoc routing protocol step  think three fourletter acronym stevens tcpip illustrated vol  chapter  provide comprehensive treatment ip related protocol arp rarp icmp illustrated example striegel manimaran survey qos multicasting issue multicasting quality service two increasing important topic service internet radio television begin take survey paper author discus routing algorithm take issue account  yang reddy taxonomy congestion control algorithm packet switching network author devised taxonomy congestion control algorithm main category open loop source control open loop destination control closed loop explicit feedback closed loop implicit feedback use taxonomy describe classify  existing algorithm  transport layer comer internetworking tcpip vol  th ed mentioned comer written definitive work tcpip protocol suite chap  udp chap  tcp hall cerf internet core protocol definitive guide like information straight source place learn tcp cerf coinvented chapter  good reference tcp showing interpret information supplied protocol analysis network management tool chapter cover udp igmp icmp arp kurose ross computer networking topdown approach featuring internet chapter  transport layer contains fair amount material udp tcp also discus stopandwait go back n protocol examined chap  mogul ip network performance despite title article least tcp network performance general ip performance particular full useful guideline rule thumb peterson davie computer network system approach chapter  udp tcp related protocol network performance also covered briefly stevens tcpip illustrated vol  chapter  provide comprehensive treatment tcp illustrated example  application layer bergholz extending markup xml tutorial short straightforward introduction xml beginner cardellini et al stateoftheart locally distributed webserver system web get popular web site need large server farm handle traffic hard part building server farm distributing load among machine tutorial paper discus subject great length bernerslee et al world wide web  perspective web going person invented colleague cern article focus web architecture url http html well future direction compare distributed information system choudbury et al copyright protection electronic publishing computer network although numerous book article describe cryptographic algorithm describe could used prevent user distributing document allowed decrypt paper describes variety mechanism might help protect author copyright electronic era collins carrier grade voice ip read varshney et al paper want know detail voice ip using h good place look although book long detailed tutorial nature require previous knowledge telephone engineering davison web caching primer web grows caching becoming crucial good performance brief introduction web caching good place look krishnamurthy rexford web protocol practice would hard find comprehensive book aspect web one cover client server proxy caching might expect also chapter web traffic measurement well chapter current research improving web rabinovich spatscheck web caching replication comprehensive treatment web caching replication good bet proxy cache prefetching content delivery network server selection much covered great detail shahabi et al yima secondgeneration continuous medium server multimedia server complex system manage cpu scheduling disk file placement stream synchronization time gone people learned design better architectural overview one recent system presented paper tittel et al mastering xhtml two book one large volume covering web s new standard markup language first s text describing xhtml focusing mostly differs regular html comprehensive reference guide tag code special character used xhtml  varshney et al voice ip voice ip work going replace public switched telephone network read find   network security anderson cryptosystems fail according anderson security banking system poor due clever intruder breaking de pc real problem range dishonest employee bank clerk s changing customer s mailing address intercept bank card pin number programming error giving customer pin code especially interesting arrogant response bank give confronted clear problem system perfect therefore error must due customer error fraud anderson security engineering extent book page version cryptosystems fail technical secret lie le technical network security see introduction basic security technique entire chapter devoted various application including banking nuclear command control security printing biometrics physical security electronic warfare telecom security ecommerce copyright protection third part book policy management system evaluation artz digital steganography steganography go back ancient greece wax melted blank tablet secret message could applied underlying wood wax reapplied nowadays different technique used goal various modern technique hiding information image audio carrier discussed brand rethinking public key infrastructure digital certificate wideranging introduction digital certificate also powerful work advocacy author belief current paperbased system identity verification outdated inefficient argues digital certificate used application electronic voting digital right management even replacement cash also warns without pki encryption internet could become largescale surveillance tool kaufman et al network security nd ed authoritative witty book first place look technical information network security algorithm protocol secret public key algorithm protocol message hash authentication kerberos pki ipsec ssltls email security explained carefully considerable length many example chapter  security folklore real gem security devil detail anyone planning design security system actually used learn lot realworld advice chapter pohlmann firewall system firewall network first last line defense attacker book explains work simplest softwarebased firewall designed protect single pc advanced firewall appliance sit private network internet connection schneier applied cryptography nd ed  monumental compendium nsa s worst nightmare single book describes every known cryptographic algorithm make worse better depending point view book contains algorithm runnable program c furthermore  reference cryptographic literature provided book beginner really want keep file secret read book schneier secret lie read applied cryptography cover cover know everything know cryptographic algorithm read secret lie cover cover done lot le time learn cryptographic algorithm whole story security weakness due faulty algorithm even key short flaw security environment endless example presented threat attack defense counterattack much nontechnical fascinating discussion computer security broadest sense book one read skoudis counter hack best way stop hacker think like hacker book show hacker see network argues security function entire network s design afterthought based one specific technology cover almost common attack including social engineering type take advantage user always familiar computer security measure  alphabetical bibliography abramson n internet access using vsats ieee commun magazine vol  pp  july  abramson n development alohanet ieee trans information theory vol it pp  march  adam m dulchinos d opencable ieee commun magazine vol  pp  june  alkhatib h bailey c gerla m mcrae j wireless data network reaching extra mile computer vol  pp  dec  anderson rj free speech online office computer vol  pp  june  anderson rj security engineering new york wiley  anderson rj eternity service proc first intl conf theory appl cryptology ctu publishing house  anderson rj cryptosystems fail commun acm vol  pp  nov  artz d digital steganography ieee internet computing vol  pp   azzam aa ransom n broadband access technology new york mcgrawhill   bakne a badrinath br itcp indirect tcp mobile host proc th intl conf distr computer system ieee pp   balakrishnan h seshan s katz rh improving reliable transport handoff performance cellular wireless network proc acm mobile computing networking conf acm pp   ballardie t francis p crowcroft j core based tree cbt proc sigcomm  conf acm pp   barakat c altman e dabbous w tcp performance heterogeneous network survey ieee commun magazine vol  pp  jan  bellamy j digital telephony rd ed new york wiley  bellman re dynamic programming princeton nj princeton university press  belsnes d flow control packet switching network communication network uxbridge england online pp   bennet ch brassard g quantum cryptography public key distribution coin tossing intl conf computer system signal processing pp   berezdivin r breinig r topp r nextgeneration wireless communication concept technology ieee commun magazine vol  pp  march  berghel hl cyber privacy new millennium computer vol  pp  jan  bergholz a extending markup xml tutorial ieee internet computing vol  pp  julyaug  bernerslee t cailliau a loutonen a nielsen hf secret a world wide web commun acm vol  pp  aug  bertsekas d gallager r data network nd ed englewood cliff nj prentice hall  bhagwat p bluetooth technology shortrange wireless apps ieee internet computing vol  pp  mayjune  bharghavan v demers a shenker s zhang l macaw medium access protocol wireless lan proc sigcomm  conf acm pp   bhatti sn crowcroft j qos sensitive flow issue ip packet han dling ieee internet computing vol  pp  julyaug  bi q zysman gi menkes h wireless mobile communication start st century ieee commun magazine vol  pp  jan  biham e shamir a differential cryptanalysis data encryption standard proc th ann intl cryptology conf berlin springerverlag lncs  pp   bird r gopal i herzberg a janson pa kutten s molva r yung m systematic design family attackresistant authentication protocol ieee j selected area commun vol  pp  june   birrell ad nelson bj implementing remote procedure call acm trans computer system vol  pp  feb  biryukov a shamir a wagner d real time cryptanalysis a pc proc seventh intl workshop fast software encryption berlin springerverlag lncs  p   bisdikian c overview bluetooth wireless technology ieee commun magazine vol  pp  dec  blaze m protocol failure escrowed encryption standard proc second acm conf computer commun security acm pp   blaze m bellovin s tapping network door commun acm vol  p  oct  bogineni k sivalingam km dowd pw lowcomplexity multiple access protocol wavelengthdivision multiplexed photonic network ieee journal selected area commun vol  pp  may  bolcskei h paulraj aj hari kv nabar ru fixed broadband wireless access state art challenge future direction ieee commun magazine vol  pp  jan  borisov n goldberg i wagner d intercepting mobile communication insecurity  seventh intl conf mobile computing networking acm pp   brand s rethinking public key infrastructure digital certificate cambridge mit press  bray j sturman cf bluetooth  connect without cable nd ed upper saddle river nj prentice hall  breyer r riley s switched fast gigabit ethernet indianapolis new rider  brown s implementing virtual private network new york mcgrawhill  brown l kwan m pieprzyk j seberry j improving resistance differential cryptanalysis redesign loki asiacrypt  abstract pp   burnett s paine s rsa security s official guide cryptography berkeley ca osbornemcgrawhill  capetanakis ji tree algorithm packet broadcast channel ieee trans information theory vol it pp  sept  cardellini v casalicchio e colajanni m yu p stateoftheart locally distributed webserver system acm computing survey vol  pp  june  carlson j ppp design implementation debugging nd ed boston addisonwesley   cerf v kahn r protocol packet network interconnection ieee trans commun vol com pp  may  chakrabarti s qos issue ad hoc wireless network ieee commun magazine vol  pp  feb  chase j gallatin aj yocum kg end system optimization highspeed tcp ieee commun magazine vol  pp  april  chen b jamieson k balakrishnan h morris r span energyefficient coordination algorithm topology maintenance ad hoc wireless network acm wireless network vol  sept  chen kc medium access control wireless lan mobile computing ieee network magazine vol  pp  septoct  choudbury ak maxemchuk nf paul s schulzrinne hg copyright protection electronic publishing computer network ieee network magazine vol  pp  mayjune  chu y rao sg zhang h case end system multicast proc intl conf measurement modeling computer syst acm pp   clark dd design philosophy darpa internet protocol proc sigcomm  conf acm pp   clark dd window acknowledgement strategy tcp rfc  july  clark dd davie b farber dj gopal is kadaba bk sincoskie wd smith jm tennenhouse dl aurora gigabit testbed computer network isdn system vol  pp  jan  clark dd jacobson v romkey j salwen h analysis tcp processing overhead ieee commun magazine vol  pp  june  clark dd lambert m zhang l netblt high throughput transport protocol proc sigcomm  conf acm pp   clarke ac extraterrestrial relay wireless world  clarke i miller sg hong tw sandberg o wiley b protecting free expression online freenet ieee internet computing vol  pp  janfeb  collins d carrier grade voice ip new york mcgrawhill  collins d smith c g wireless network new york mcgrawhill  comer de internet book englewood cliff nj prentice hall  comer de internetworking tcpip vol  th ed englewood cliff nj prentice hall  costa lhmk fdida s duarte ocmb hop hop multicast routing protocol proc  conf application technology architecture protocol computer commun acm pp    craver sa wu m liu b stubblefield a swartzlander b wallach dw dean d felten ew reading line lesson sdmi challenge proc th usenix security symp usenix  crespo pm honig ml salehi ja spreadtime codedivision multiple access ieee trans commun vol  pp  june  crow bp widjaja kim jg sakai pt ieee  wireless local area network ieee commun magazine vol  pp  sept  crowcroft j wang z smith a adam j rough comparison ietf atm service model ieee network magazine vol  pp  novdec  dabek f brunskill e kaashoek mf karger d morris r stoica r balakrishnan h building peertopeer system chord distributed lookup service proc th workshop hot topic operating system ieee pp  a dabek f kaashoek mf karger d morris r stoica i widearea cooperative storage cf proc th symp operating system prin acm pp  b daemen j rijmen v design rijndael berlin springerverlag  danthine aa protocol representation finitestate model ieee trans commun vol com pp  april  davidson j peter j voice ip fundamental indianapolis cisco press  davie b rekhter y mpls technology application san francisco morgan kaufmann  davis pt mcguffin cr wireless local area network new york mcgrawhill  davison bd web caching primer ieee internet computing vol  pp  julyaug  day jd un revised osi reference model computer commun rev vol  pp  oct  day jd zimmermann h osi reference model proc ieee vol  pp  dec  de vriendt j laine p lerouge c xu x mobile network evolution revolution move ieee commun magazine vol  pp  april  deering se sip simple internet protocol ieee network magazine vol  pp  mayjune  demers a keshav s shenker s analysis simulation fair queueing algorithm internetwork research experience vol  pp  sept  denning de sacco gm timestamps key distribution protocol commun acm vol  pp  aug   diffie w hellman me exhaustive cryptanalysis nb data encryption standard computer vol  pp  june  diffie w hellman me new direction cryptography ieee trans information theory vol it pp  nov  dijkstra ew note two problem connexion graph numer math vol  pp  oct  dobrowski g grise d atm sonet basic fuquayvarina nc apdg telecom book  donaldson g jones d cable television broadband network architecture ieee commun magazine vol  pp  june  dorfman r detection defective member large population annals math statistic vol  pp   doufexi a armour s butler m nix a bull d mcgeehan j karlsson p comparison hiperlan ieee a wireless lan standard ieee commun magazine vol  pp  may  durand a deploying ipv ieee internet computing vol  pp  janfeb  dutcher b nat handbook new york wiley  duttaroy a overview cable modem technology market perspective ieee commun magazine vol  pp  june  easttom c learn javascript ashburton uk wordware publishing  el gamal t publickey cryptosystem signature scheme based discrete logarithm ieee trans information theory vol it pp  july  elhanany i kahane m sadot d packet scheduling nextgeneration multiterabit network computer vol  pp  april  elmirghani jmh mouftah ht technology architecture scalable dynamic dense wdm network ieee commun magazine vol  pp  feb  farserotu j prasad r survey future broadband multimedia satellite system issue trend ieee commun magazine vol  pp  june  fiorini d chiani m tralli v salati c trust hdlc computer commun rev vol  pp  oct  floyd s jacobson v random early detection congestion avoidance ieeeacm trans networking vol  pp  aug  fluhrer s mantin i shamir a weakness key scheduling algorithm rc proc eighth ann workshop selected area cryptography  ford lr jr fulkerson dr flow network princeton nj princeton university press   ford w baum m secure electronic commerce upper saddle river nj prentice hall  forman gh zahorjan j challenge mobile computing computer vol  pp  april  francis p nearterm architecture deploying pip ieee network magazine vol  pp  mayjune  fraser ag towards universal data transport system advance local area network kummerle k tobagi f limb jo ed new york ieee press  frengle n imode primer new york hungry mind  gadecki c heckert c atm dummy new york hungry mind  garber l g really next big wireless technology computer vol  pp  jan  garfinkel s spafford g web security privacy commerce sebastopol ca oreilly  geier j wireless lan nd ed indianapolis sam  gevros p crowcroft j kirstein p bhatti s congestion control mechanism best effort service model ieee network magazine vol  pp  mayjune  ghani n dixit s tcpip enhancement satellite network ieee commun magazine vol  pp   ginsburg d atm solution enterprise networking boston addisonwesley  goodman dj wireless internet promise challenge computer vol  pp  july  goralski wj optical networking wdm new york mcgrawhill  goralski wj sonet nd ed new york mcgrawhill  goralski wj introduction atm networking new york mcgrawhill  gossain h de morais cordeiro agrawal dp multicast wired wireless ieee commun mag vol  pp  june  gravano s introduction error control code oxford uk oxford university press  guo y chaskar h classbased quality service air interface g mobile network ieee commun magazine vol  pp  march  haartsen j bluetooth radio system ieee personal commun magazine vol  pp  feb   hac a wireless cellular architecture service ieee commun magazine vol  pp  nov  hac a guo l scalable mobile host protocol internet intl j network mgmt vol  pp  mayjune  hall e cerf v internet core protocol definitive guide sebastopol ca oreilly  hamming rw error detecting error correcting code bell system tech j vol  pp  april  hanegan k custom cgi scripting perl new york wiley  harris a javascript programming absolute beginner premier press  harte l kellogg s dreher r schaffnit t comprehensive guide wireless technology fuquayvarina nc apdg publishing  harte l levine r kikta r g wireless demystified new york mcgrawhill  hawley gt historical perspective u telephone system ieee commun magazine vol  pp  march  hecht j understanding fiber optic upper saddle river nj prentice hall  heegard c coffey jt gummadi s murphy pa provencio r rossin ej schrum s shoemaker mb highperformance wireless ethernet ieee commun magazine vol  pp  nov  held g complete modem reference nd ed new york wiley  hellman me cryptanalytic timememory tradeoff ieee trans information theory vol it pp  july  hill a largescale wireless lan design ieee commun magazine vol  pp  nov  holzmann gj design validation computer protocol englewood cliff nj prentice hall  hu y li vok satellitebased internet access ieee commun magazine vol  pp  march  hu yc johnson db implicit source route ondemand ad hoc network routing proc acm intl symp mobile ad hoc networking computing acm pp   huang v zhuang w qosoriented access control g mobile multimedia cdma communication ieee commun magazine vol  pp  march  huber jf weiler d brand h umts mobile multimedia vision imt focus standardization ieee commun magazine vol  pp  sept  nr u   hui j broadband packet switch multirate service proc intl conf commun ieee pp   huitema c routing internet englewood cliff nj prentice hall  hull s content delivery network berkeley ca osbornemcgrawhill  humblet pa ramaswami r sivarajan kn efficient communication protocol highspeed packetswitched multichannel network proc sigcomm  conf acm pp   hunter dk andonovic i approach optical internet packet switching ieee commun magazine vol  pp  sept  huston g tcp wireless world ieee internet computing vol  pp  marchapril  ibe oc essential atm network service boston addisonwesley  irmer t shaping future telecommunication challenge global standardization ieee commun magazine vol  pp  jan  izzo p gigabit network new york wiley  jacobson v congestion avoidance control proc sigcomm  conf acm pp   jain r congestion control traffic management atm network recent advance survey computer network isdn system vol  nov  jain r fddi handbook—highspeed networking using fiber medium boston addisonwesley  jain r congestion control computer network issue trend ieee network magazine vol  pp  mayjune  jakobsson m wetzel s security weakness bluetooth topic cryptology ctrsa  berlin springerverlag lncs  pp   joel a telecommunication ieee communication society ieee commun magazine th anniversary issue pp   may  johansson p kazantzidis m kapoor r gerla m bluetooth enabler personal area networking ieee network magazine vol  pp  septoct  johnson db scalable support transparent mobile host internetworking wireless network vol  pp  oct  johnson hw fast ethernet—dawn new network englewood cliff nj prentice hall  johnson nf jajoda s exploring steganography seeing unseen computer vol  pp  feb  kahn d cryptology go public ieee commun magazine vol  pp  march   kahn d codebreakers nd ed new york macmillan  kamoun f kleinrock l stochastic performance evaluation hierarchical routing large network computer network vol  pp  nov  kapp s  leaving wire behind ieee internet computing vol  pp  janfeb  karn p maca—a new channel access protocol packet radio arrlcrrl amateur radio ninth computer networking conf pp   kartalopoulos s introduction dwdm technology data rainbow new york ny ieee communication society  kasera sk hjalmtysson g towlsey df kurose jf scalable reliable multicast using multiple multicast channel ieeeacm trans networking vol  pp   katz d ford p tuba replacing ip clnp ieee network magazine vol  pp  mayjune  katzenbeisser s petitcolas fap information hiding technique steganography digital watermarking london artech house  kaufman c perlman r speciner m network security nd ed englewood cliff nj prentice hall  kellerer w vogel hj steinberg ke communication gateway infrastructureindependent g wireless access ieee commun magazine vol  pp  march  kerckhoff a la cryptographie militaire j de science militaires vol  pp  jan  pp  feb  kim jb suda t yoshimura m international standardization bisdn computer network isdn system vol  pp  oct  kipnis j beating system abuse standard adoption process ieee commun magazine vol  pp  july  kleinrock l principle nomadic computing multiaccess communication ieee commun magazine vol  pp  july  kleinrock l tobagi f random access technique data transmission packetswitched radio channel proc nat computer conf pp   krishnamurthy b rexford j web protocol practice boston addisonwesley  kumar v korpi m sengodan s ip telephony h new york wiley  kurose jf ross kw computer networking topdown approach featuring internet boston addisonwesley  kwok t vision residential broadband service atm home ieee network magazine vol  pp  septoct   kyas o crawford g atm network upper saddle river nj prentice hall  lam ckm tan bcy internet changing music industry commun acm vol  pp  aug  lansford j stephen nevo r wifi b bluetooth enabling coexistence ieee network magazine vol  pp  septoct  lash da web wizard s guide perl cgi boston addisonwesley  laubach me farber dj duke sd delivering internet connection cable new york wiley  lee j miller le cdma system engineering handbook london artech house  leeper dg longterm view shortrange wireless computer vol  pp  june  leiner bm cole r postel j mill d darpa internet protocol suite ieee commun magazine vol  pp  march  levine da akyildiz ia proton medium access control protocol optical network star topology ieeeacm trans networking vol  pp  april  levy s crypto rebel wired pp  mayjune  li j blake c de couto dsj lee hi morris r capacity ad hoc wireless network proc th intl conf mobile computing networking acm pp   lin f chu p liu m protocol verification using reachability analysis state space explosion problem relief strategy proc sigcomm  conf acm pp   lin yd hsu nb hwang rh qos routing granularity mpls network ieee commun magazine vol  pp  june  listani m eramo v sabella r architectural technological issue future optical internet network ieee commun magazine vol  pp  sept  liu cl layland jw scheduling algorithm multiprogramming hard realtime environment journal acm vol  pp  jan  livingston d essential xml web professional upper saddle river nj prentice hall  loshin p ipv clearly explained san francisco morgan kaufmann  louis pj broadband crash course new york mcgrawhill  lu w broadband wireless mobile g beyond new york wiley  macedonia mr distributed file sharing computer vol  pp    madruga el garcialunaaceves jj scalable multicasting coreassisted mesh protocol mobile network application vol  pp  april  malhotra r ip routing sebastopol ca oreilly  matsui m linear cryptanalysis method de cipher advance cryptology— eurocrypt  proceeding berlin springerverlag lncs  pp   maufer ta ip fundamental upper saddle river nj prentice hall  mazieres d kaashoek mf design implementation operation email pseudonym server proc fifth conf computer commun security acm pp   mazieres d kaminsky m kaashoek mf witchel e separating key management file system security proc th symp operating system prin acm pp  dec  mcfedries p using javascript indianapolis que  mckenney pe dove kf efficient demultiplexing incoming tcp packet proc sigcomm  conf acm pp   meltzer k michalski b writing cgi application perl boston addisonwesley  menezes aj vanstone sa elliptic curve cryptosystems implementation journal cryptology vol  pp   merkle rc fast software encryption function advance cryptology— crypto  proceeding berlin springerverlag lncs  pp   merkle rc hellman m security multiple encryption commun acm vol  pp  july  merkle rc hellman m hiding signature trapdoor knapsack ieee trans information theory vol it pp  sept  metcalfe rm mobile computing byte vol  p  sept  metcalfe rm computernetwork interface design lesson arpanet ethernet ieee journal selected area commun vol  pp  feb  metcalfe rm boggs dr ethernet distributed packet switching local computer network commun acm vol  pp  july  metz c interconnecting isp network ieee internet computing vol  pp  marchapril  metz c differentiated service ieee multimedia magazine vol  pp  julysept  metz c ip router new tool gigabit networking ieee internet computing vol  pp  novdec   miller ba bisdikian c bluetooth revealed upper saddle river nj prentice hall  miller p cummins m lan technology explained woburn butterworthheinemann  minoli d video dialtone technology new york mcgrawhill  minoli d vitella m atm cell relay corporate environment new york mcgrawhill  mishra pp kanakia h hop hop ratebased congestion control scheme proc sigcomm  conf acm pp   misra a da s dutta a mcauley a da s idmpbased fast handoff paging ipbased g mobile network ieee commun magazine vol  pp  march  mogul jc ip network performance internet system handbook lynch dc rose mt ed boston addisonwesley pp   mok ak ward sa distributed broadcast channel access computer network vol  pp  nov  moy j multicast routing extension commun acm vol  pp  aug  mullins j making unbreakable code ieee spectrum pp  may  nagle j packet switch infinite storage ieee trans commun vol com pp  april  nagle j congestion control tcpip internetworks computer commun rev vol  pp  oct  narayanaswami c kamijoh n raghunath m inoue t cipolla t sanford j schlig e ventkiteswaran s guniguntala d kulkarni v yamazaki k ibm s linux watch challenge miniaturization computer vol  pp  jan  naughton j brief history future woodstock ny overlook press  needham rm schroeder md authentication revisited operating system rev vol  p  jan  needham rm schroeder md using encryption authentication large network computer commun acm vol  pp  dec  nelakuditi s zhang zl localized adaptive proportioning approach qos routing ieee commun magazine vol  pp  june  nemeth e snyder g seebass s hein tr unix system administration handbook rd ed englewood cliff nj prentice hall  nichols rk lekkas pc wireless security new york mcgrawhill   nist secure hash algorithm u government federal information processing standard   ohara b petrick a  handbook designer s companion new york ieee press  otway d rees o efficient timely mutual authentication operating system rev pp  jan  ovadia s broadband cable tv access network technology application upper saddle river nj prentice hall  palais jc fiber optic commun rd ed englewood cliff nj prentice hall  pan d tutorial mpegaudio compression ieee multimedia magazine vol  pp summer  pandya r emerging mobile personal communication system ieee commun magazine vol  pp  june  parameswaran m susarla a whinston ab pp networking informationsharing alternative computer vol  pp  july  park j sandhu r secure cooky web ieee internet computing vol  pp  julyaug  partridge c hughes j stone j performance checksum crcs real data proc sigcomm  conf acm pp   paxson v growth trend widearea tcp connection ieee network magazine vol  pp  julyaug  paxson v floyd s widearea traffic failure poisson modeling proc sigcomm  conf acm pp   pepelnjak i guichard j mpls vpn architecture indianapolis cisco press  perkins ce rtp audio video internet boston addisonwesley  perkins c e ed ad hoc networking boston addisonwesley  perkins ce mobile ip design principle practice upper saddle river nj prentice hall a perkins ce mobile networking internet mobile network application vol  pp  b perkins ce mobile networking mobile ip ieee internet computing vol  pp  janfeb c perkins ce royer e ad hoc ondemand distancevector protocol ad hoc networking edited c perkins boston addisonwesley   perkins ce royer e adhoc ondemand distance vector routing proc second ann ieee workshop mobile computing system application ieee pp   perlman r interconnection nd ed boston addisonwesley  perlman r network layer protocol byzantine robustness phd thesis mit  perlman r kaufman c key exchange ipsec ieee internet computing vol  pp  novdec  peterson ll davie b computer network system approach san francisco morgan kaufmann  peterson ww brown dt cyclic code error detection proc ire vol  pp  jan  pickholtz rl schilling dl milstein lb theory spread spectrum communication—a tutorial ieee trans commun vol com pp  may  pierre g kuz i van steen m tanenbaum a differentiated strategy replicating web document computer commun vol  pp  feb  pierre g van steen m tanenbaum a dynamically selecting optimal distribution strategy web document ieee trans computer vol  pp june  piscitello dm chapin al open system networking tcpip osi boston addisonwesley  pitt da bridging—the double standard ieee network magazine vol  pp  jan  piva a bartolini f barni m managing copyright open network ieee internet computing vol  pp  mayjune  pohlmann n firewall system bonn germany mitpverlag  puzmanova r routing switching time convergence london addisonwesley  rabinovich m spatscheck web caching replication boston addisonwesley  raju j garcialunaaceves jj scenariobased comparison sourcetracing dynamic source routing protocol adhoc network acm computer communication review vol  october  ramanathan r redi j brief overview ad hoc network challenge direction ieee commun magazine th anniversary issue pp  may  ratnasamy s francis p handley m karp r shenker s scalable contentaddressable network proc sigcomm  conf acm pp   rivest rl md messagedigest algorithm rfc  april   rivest rl shamir a expose eavesdropper commun acm vol  pp  april  rivest rl shamir a adleman l method obtaining digital signature public key cryptosystems commun acm vol  pp  feb  robert lg dynamic allocation satellite capacity packet reservation proc ncc afips pp   robert lg extension packet communication technology hand held personal terminal proc spring joint computer conference afips pp   robert lg multiple computer network intercomputer communication proc first symp operating system prin acm  rose mt simple book englewood cliff nj prentice hall  rose mt internet message englewood cliff nj prentice hall  rose mt mccloghrie k manage network using snmp englewood cliff nj prentice hall  rowstron a druschel p storage management caching past largescale persistent peertopeer storage utility proc th symp operating system prin acm pp  a rowstron a druschel p pastry scalable distributed object location routing largescale peertopeer storage utility proc th intl conf distributed system platform acmifip b royer em toh ck review current routing protocol adhoc mobile wireless network ieee personal commun magazine vol  pp  april  ruizsanchez ma biersack ew dabbous w survey taxonomy ip address lookup algorithm ieee network magazine vol  pp  marchapril  sairam kv gunasekaran n reddy sr bluetooth wireless communication ieee commun mag vol  pp  june  saltzer jh reed dp clark dd endtoend argument system design acm trans computer system vol  pp  nov  sanderson dw dougherty d smiley sebastopol ca oreilly  sari h vanhaverbeke f moeneclaey m extending capacity multiple access channel ieee commun magazine vol  pp  jan  sarikaya b packet mode wireless network overview transition third generation ieee commun magazine vol  pp  sept  schneier b secret lie new york wiley  schneier b applied cryptography nd ed new york wiley  schneier b email security new york wiley   schneier b description new variablelength key bit block cipher blowfish proc cambridge security workshop berlin springerverlag lncs  pp   schnorr cp efficient signature generation smart card journal cryptology vol  pp   scholtz ra origin spreadspectrum communication ieee trans commun vol com pp  may  scott r wide open encryption design offer flexible implementation cryptologia vol  pp  jan  seifert r switch book boston addisonwesley  seifert r gigabit ethernet boston addisonwesley  senn ja emergence mcommerce computer vol  pp  dec  serjantov a anonymizing censorship resistant system proc first intl workshop peertopeer system berlin springerverlag lncs  severance c ieee  wireless coming home computer vol  pp  nov  shahabi c zimmermann r fu k yao syd yima secondgeneration continuous medium server computer vol  pp  june  shannon c mathematical theory communication bell system tech j vol  pp  july  pp  oct  shepard s sonetsdh demystified new york mcgrawhill  shreedhar m varghese g efficient fair queueing using deficit round robin proc sigcomm  conf acm pp   skoudis e counter hack upper saddle river nj prentice hall  smith dk alexander rc fumbling future new york william morrow  smith rw broadband internet connection boston addison wesley  snoeren ac balakrishnan h endtoend approach host mobility intl conf mobile computing networking acm pp   sobel dl carnivore devour online privacy computer vol  pp  may  solomon jd mobile ip internet unplugged upper saddle river nj prentice hall  spohn m garcialunaaceves jj neighborhood aware source routing proc acm mobihoc  acm pp  spurgeon ce ethernet definitive guide sebastopol ca oreilly   stalling w data computer communication th ed upper saddle river nj prentice hall  steinmetz r nahrstedt k multimedia fundamental vol  medium coding content processing upper saddle river nj prentice hall  steinmetz r nahrstedt k multimedia fundamental vol  medium processing communication upper saddle river nj prentice hall a steinmetz r nahrstedt k multimedia fundamental vol  document security application upper saddle river nj prentice hall b steiner jg neuman bc schiller ji kerberos authentication service open network system proc winter usenix conf usenix pp   stevens wr unix network programming volume  networking apis socket xti upper saddle river nj prentice hall  stevens wr tcpip illustrated vol  boston addisonwesley  stewart r metz c sctp new transport protocol tcpip ieee internet computing vol  pp  novdec  stinson dr cryptography theory practice nd ed boca raton fl crc press  stoica i morris r karger d kaashoek mf balakrishnan h chord scalable peertopeer lookup service internet application proc sigcomm  conf acm pp   striegel a manimaran g survey qos multicasting issue ieee commun mag vol  pp  june  stubblefield a ioannidis j rubin ad using fluhrer mantin shamir attack break wep proc network distributed system security symp isoc pp   summer ck adsl standard implementation architecture boca raton fl crc press  sunshine ca dalal yk connection management transport protocol computer network vol  pp   tanenbaum a modern operating system upper saddle river nj prentice hall  tanenbaum a van steen m distributed system principle paradigm upper saddle river nj prentice hall  teger s waks dj enduser perspective home networking ieee commun magazine vol  pp  april  thyagarajan a deering se hierarchical distancevector multicast routing mbone proc sigcomm  conf acm pp   tittel e valentine c burmeister m dyke l mastering xhtml alameda ca sybex   tokoro m tamaru k acknowledging ethernet compcon ieee pp  fall  tomlinson r selecting sequence number proc sigcommsigops interprocess commun workshop acm pp   tseng yc wu sl liao wh chao cm location awareness ad hoc wireless mobile network computer vol  pp   tuchman w hellman present shortcut solution de ieee spectrum vol  pp  july  turner j new direction communication way information age ieee commun magazine vol  pp  oct  vacca jr imode crash course new york mcgrawhill  valade j php mysql dummy new york hungry mind  varghese g lauck t hashed hierarchical timing wheel data structure efficient implementation timer facility proc th symp operating system prin acm pp   varshney u snow a mcgivern m howard c voice ip commun acm vol  pp   varshney u vetter r emerging mobile wireless network commun acm vol  pp  june  vetter p goderis d verpooten l granger a system aspect aponvdsl deployment ieee commun magazine vol  pp  may  waddington dg chang f realizing transition ipv ieee commun mag vol  pp  june  waldman m rubin ad cranor lf publius robust tamperevident censorshipresistant web publishing system proc ninth usenix security symp usenix pp   wang y chen w supporting ip multicast mobile host mobile network application vol  pp  janfeb  wang z internet qos san francisco morgan kaufmann  warneke b last m liebowitz b pister ksj smart dust communicating cubic millimeter computer computer vol  pp  jan  wayner p disappearing cryptography information hiding steganography watermarking nd ed san francisco morgan kaufmann  webb w broadband fixed wireless access key component future integrated communication environment ieee commun magazine vol  pp  sept  weiser m whatever happened next generation internet commun acm vol  pp  sept   weltman r dahbura t ldap programming java boston addisonwesley  wessels d web caching sebastopol ca oreilly  wetteroth d osi reference model telecommunication new york mcgrawhill  wiljakka j transition ipv gprs wcdma mobile network ieee commun magazine vol  pp  april  williamson h xml complete reference new york mcgrawhill  willinger w taqqu m sherman r wilson dv selfsimilarity high variability statistical analysis ethernet lan traffic source level proc sigcomm  conf acm pp   wright dj voice packet network new york wiley  wylie j bigrigg mw strunk jd ganger gr kiliccote h khosla pk survivable information storage system computer vol  pp  aug  xylomenos g polyzos gc mahonen p saaranen m tcp performance issue wireless link ieee commun magazine vol  pp  april  yang cq reddy av taxonomy congestion control algorithm packet switching network ieee network magazine vol  pp  julyaug  yuval g swindle rabin cryptologia vol  pp  july  zacks m antiterrorist legislation expands electronic snooping ieee internet computing vol  pp  novdec  zadeh an jabbari b pickholtz r vojcic b selforganizing packet radio ad hoc network overlay soprano ieee commun mag vol  pp  june  zhang l comparison two bridge routing approach ieee network magazine vol  pp  janfeb  zhang l rsvp new resource reservation protocol ieee network magazine vol  pp  septoct  zhang y ryu b mobile multicast ip service pac system architecture prototype performance mobile network application vol  pp  janfeb  zimmermann pr official pgp user s guide cambridge mit press a zimmermann pr pgp source code internals cambridge mit press b zipf gk human behavior principle least effort introduction human ecology boston addisonwesley  ziv j lempel z universal algorithm sequential data compression ieee trans information theory vol it pp  may   